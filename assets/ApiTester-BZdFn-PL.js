import{P as Y,r as _,L as Z,o as ee,c as r,x as l,e as t,A as v,B as u,R as a,d,H as le,j as g,F as V,i as C,t as f,p as te}from"./vue-vendor-D8N656sj.js";import{f as p,g as c,h,i as U,j as ae,a as k,k as se,l as oe,m as D}from"./primevue-DrPXlnFP.js";import{_ as ue}from"./BreadcrumbNav.vue_vue_type_script_setup_true_lang-19izqj3U.js";import{c as E,C as ne,F as O,L as ie,K as A}from"./index-DCzI8z5Q.js";import{A as re}from"./arrow-right-C8WU7M8e.js";import{U as de}from"./user-BdCP7q4r.js";import{H as ce}from"./hash-BQ2IBwOD.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=E("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=E("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=E("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),ye={class:"max-w-7xl mx-auto px-4 py-4"},fe={class:"grid md:grid-cols-2 gap-6"},be={class:"space-y-4"},he={class:"space-y-3"},xe={class:"flex gap-2"},ge={class:"flex-1"},ke={class:"flex-1"},we={class:"space-y-2"},_e={key:0},Te={class:"space-y-2"},Ve={key:0,class:"space-y-2"},Ce={key:1,class:"space-y-2"},Ue={key:2,class:"space-y-2"},Ae={class:"space-y-2 max-h-96 overflow-y-auto"},Ee=["onClick"],Pe={class:"flex items-center justify-between"},Re={class:"font-mono text-sm font-semibold"},He={class:"text-xs text-gray-500 truncate"},Le={class:"text-xs text-gray-600 mt-1"},Se={key:0,class:"text-center text-gray-500 text-sm py-4"},je={key:0,class:"space-y-4"},De={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},Oe={class:"flex items-center gap-3"},$e={class:"text-sm text-gray-600"},Ne={class:"text-sm text-gray-500"},qe={class:"grid md:grid-cols-2 gap-6"},Be={class:"bg-gray-50 p-3 rounded-lg max-h-60 overflow-y-auto"},Ie={class:"text-blue-600"},ze={class:"text-gray-700 ml-2"},Fe={class:"flex items-center justify-between mb-2"},Me={class:"flex gap-2"},Je={class:"bg-gray-900 text-green-400 p-4 rounded-lg max-h-60 overflow-y-auto"},Ke={class:"text-sm"},Ge={key:1,class:"text-center text-gray-500 py-8"},al=Y({__name:"ApiTester",setup(We){const s=_({url:"",method:"GET",timeout:5e3,headers:[],body:"",bodyType:"json",auth:{type:"none"}}),i=_(null),T=_(!1),x=_([]),$=[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"},{label:"DELETE",value:"DELETE"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"}],N=[{label:"JSON",value:"json"},{label:"Form Data",value:"form"},{label:"XML",value:"xml"},{label:"Text",value:"text"}],q=[{label:"Sin autenticación",value:"none"},{label:"Basic Auth",value:"basic"},{label:"Bearer Token",value:"bearer"},{label:"API Key",value:"apikey"}],P=Z(()=>["POST","PUT","PATCH"].includes(s.value.method)),R=()=>{s.value.headers.push({key:"",value:""})},B=n=>{s.value.headers.splice(n,1)},I=n=>n>=200&&n<300?"bg-green-100 text-green-800":n>=300&&n<400?"bg-blue-100 text-blue-800":n>=400&&n<500?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",z=n=>{try{return n.startsWith("{")||n.startsWith("[")?JSON.stringify(JSON.parse(n),null,2):n}catch{return n}},F=async()=>{if(!s.value.url)return;T.value=!0;const n=Date.now();try{const e={};if(s.value.headers.forEach(m=>{m.key&&m.value&&(e[m.key]=m.value)}),s.value.auth.type==="basic"&&s.value.auth.username&&s.value.auth.password){const m=btoa(`${s.value.auth.username}:${s.value.auth.password}`);e.Authorization=`Basic ${m}`}else s.value.auth.type==="bearer"&&s.value.auth.token?e.Authorization=`Bearer ${s.value.auth.token}`:s.value.auth.type==="apikey"&&s.value.auth.key&&s.value.auth.value&&(e[s.value.auth.key]=s.value.auth.value);let o=null;if(P.value&&s.value.body)if(s.value.bodyType==="json")try{o=JSON.parse(s.value.body),e["Content-Type"]="application/json"}catch{o=s.value.body}else if(s.value.bodyType==="form"){const m=new FormData;s.value.body.split(`
`).forEach(Q=>{const[S,j]=Q.split("=");S&&j&&m.append(S.trim(),j.trim())}),o=m}else o=s.value.body,e["Content-Type"]=s.value.bodyType==="xml"?"application/xml":"text/plain";const y=new AbortController,b=setTimeout(()=>y.abort(),s.value.timeout),w=await fetch(s.value.url,{method:s.value.method,headers:e,body:o instanceof FormData?o:o?JSON.stringify(o):void 0,signal:y.signal});clearTimeout(b);const G=await w.text(),H={};w.headers.forEach((m,L)=>{H[L]=m});const W=Date.now();i.value={status:w.status,statusText:w.statusText,headers:H,body:G,time:W-n};const X={...s.value,timestamp:Date.now(),response:i.value};x.value.unshift(X),x.value.length>10&&(x.value=x.value.slice(0,10))}catch(e){const o=Date.now();i.value={status:0,statusText:"Error",headers:{},body:e.message||"Error de red",time:o-n}}finally{T.value=!1}},M=n=>{s.value={...n},n.response&&(i.value=n.response)},J=()=>{i.value&&navigator.clipboard.writeText(i.value.body)},K=()=>{if(i.value){const n=new Blob([i.value.body],{type:"text/plain"}),e=URL.createObjectURL(n),o=document.createElement("a");o.href=e,o.download="response.txt",o.click(),URL.revokeObjectURL(e)}};return ee(()=>{R()}),(n,e)=>(d(),r("div",null,[l(ue),t("div",ye,[e[25]||(e[25]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},[t("i",{class:"pi pi-globe mr-3 text-blue-600"}),v(" API Tester ")]),t("p",{class:"text-gray-600"}," Prueba APIs REST con diferentes métodos HTTP, headers y autenticación ")],-1)),l(a(D),{class:"mb-6"},{title:u(()=>e[11]||(e[11]=[t("h2",{class:"text-xl font-semibold text-gray-800 flex items-center justify-center gap-2"},[t("i",{class:"pi pi-cog text-blue-600"}),v(" Configuración del Request ")],-1)])),content:u(()=>[t("div",fe,[t("div",be,[t("form",{onSubmit:le(F,["prevent"]),class:"space-y-4"},[t("div",he,[t("div",null,[e[12]||(e[12]=t("label",{class:"block mb-2 font-medium text-gray-700"},[t("i",{class:"pi pi-link mr-2"}),v(" URL ")],-1)),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(me),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:s.value.url,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.url=o),class:"w-full",placeholder:"https://api.example.com/endpoint",required:""},null,8,["modelValue"])]),_:1})])]),t("div",xe,[t("div",ge,[e[13]||(e[13]=t("label",{class:"block mb-2 font-medium text-gray-700"},[t("i",{class:"pi pi-arrow-right mr-2"}),v(" Método ")],-1)),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(re),{class:"w-4 h-4"})]),_:1}),l(a(U),{modelValue:s.value.method,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.method=o),options:$,optionLabel:"label",optionValue:"value",placeholder:"GET",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",ke,[e[15]||(e[15]=t("label",{class:"block mb-2 font-medium text-gray-700"},[t("i",{class:"pi pi-clock mr-2"}),v(" Timeout ")],-1)),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(ne),{class:"w-4 h-4"})]),_:1}),l(a(ae),{modelValue:s.value.timeout,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.timeout=o),class:"w-full",min:1e3,max:6e4,step:1e3,placeholder:"5000"},null,8,["modelValue"]),l(a(c),null,{default:u(()=>e[14]||(e[14]=[v("ms")])),_:1,__:[14]})]),_:1})])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block mb-2 font-medium text-gray-700"},[t("i",{class:"pi pi-list mr-2"}),v(" Headers ")],-1)),t("div",we,[(d(!0),r(V,null,C(s.value.headers,(o,y)=>(d(),r("div",{key:y,class:"flex gap-2"},[l(a(p),{class:"flex-1"},{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(ve),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:o.key,"onUpdate:modelValue":b=>o.key=b,placeholder:"Content-Type",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(a(p),{class:"flex-1"},{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(pe),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,placeholder:"application/json",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(a(k),{onClick:b=>B(y),icon:"pi pi-trash",severity:"danger",text:"",size:"small"},null,8,["onClick"])]))),128)),l(a(k),{onClick:R,icon:"pi pi-plus",label:"Agregar Header",severity:"secondary",text:"",size:"small"})])]),P.value?(d(),r("div",_e,[e[17]||(e[17]=t("label",{class:"block mb-2 font-medium text-gray-700"},[t("i",{class:"pi pi-file-edit mr-2"}),v(" Body ")],-1)),t("div",Te,[l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(O),{class:"w-4 h-4"})]),_:1}),l(a(U),{modelValue:s.value.bodyType,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.bodyType=o),options:N,optionLabel:"label",optionValue:"value",placeholder:"JSON",class:"w-full"},null,8,["modelValue"])]),_:1}),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(O),{class:"w-4 h-4"})]),_:1}),l(a(se),{modelValue:s.value.body,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.body=o),class:"w-full",rows:8,placeholder:'{"key": "value"}'},null,8,["modelValue"])]),_:1})])])):g("",!0),t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-2 font-medium text-gray-700"},[t("i",{class:"pi pi-lock mr-2"}),v(" Autenticación ")],-1)),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(ie),{class:"w-4 h-4"})]),_:1}),l(a(U),{modelValue:s.value.auth.type,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.auth.type=o),options:q,optionLabel:"label",optionValue:"value",placeholder:"Sin autenticación",class:"w-full mb-3"},null,8,["modelValue"])]),_:1}),s.value.auth.type==="basic"?(d(),r("div",Ve,[l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(de),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:s.value.auth.username,"onUpdate:modelValue":e[6]||(e[6]=o=>s.value.auth.username=o),placeholder:"Usuario",class:"w-full"},null,8,["modelValue"])]),_:1}),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(A),{class:"w-4 h-4"})]),_:1}),l(a(oe),{modelValue:s.value.auth.password,"onUpdate:modelValue":e[7]||(e[7]=o=>s.value.auth.password=o),placeholder:"Contraseña",class:"w-full",feedback:!1},null,8,["modelValue"])]),_:1})])):g("",!0),s.value.auth.type==="bearer"?(d(),r("div",Ce,[l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(A),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:s.value.auth.token,"onUpdate:modelValue":e[8]||(e[8]=o=>s.value.auth.token=o),placeholder:"Token Bearer",class:"w-full"},null,8,["modelValue"])]),_:1})])):g("",!0),s.value.auth.type==="apikey"?(d(),r("div",Ue,[l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(ce),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:s.value.auth.key,"onUpdate:modelValue":e[9]||(e[9]=o=>s.value.auth.key=o),placeholder:"Nombre del header (ej: X-API-Key)",class:"w-full"},null,8,["modelValue"])]),_:1}),l(a(p),null,{default:u(()=>[l(a(c),null,{default:u(()=>[l(a(A),{class:"w-4 h-4"})]),_:1}),l(a(h),{modelValue:s.value.auth.value,"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.auth.value=o),placeholder:"Valor de la API Key",class:"w-full"},null,8,["modelValue"])]),_:1})])):g("",!0)]),l(a(k),{type:"submit",label:"Enviar Request",class:"w-full bg-blue-600 border-blue-600 hover:bg-blue-700 hover:border-blue-700",loading:T.value},{icon:u(()=>e[19]||(e[19]=[t("i",{class:"pi pi-send mr-2"},null,-1)])),_:1},8,["loading"])],32)]),t("div",null,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"pi pi-history text-green-600"}),v(" Historial de Requests ")],-1)),t("div",Ae,[(d(!0),r(V,null,C(x.value,(o,y)=>(d(),r("div",{key:y,onClick:b=>M(o),class:"p-3 border rounded cursor-pointer hover:bg-gray-50 transition-colors"},[t("div",Pe,[t("span",Re,f(o.method),1),t("span",He,f(o.url),1)]),t("div",Le,f(new Date(o.timestamp).toLocaleString()),1)],8,Ee))),128)),x.value.length===0?(d(),r("div",Se," No hay requests en el historial ")):g("",!0)])])])]),_:1}),l(a(D),null,{title:u(()=>e[21]||(e[21]=[t("h2",{class:"text-xl font-semibold text-gray-800 flex items-center justify-center gap-2"},[t("i",{class:"pi pi-chart-line text-green-600"}),v(" Respuesta del API ")],-1)])),content:u(()=>[i.value?(d(),r("div",je,[t("div",De,[t("div",Oe,[t("span",{class:te(["px-3 py-1 rounded-full text-sm font-semibold",I(i.value.status)])},f(i.value.status),3),t("span",$e,f(i.value.statusText),1)]),t("div",Ne,f(i.value.time)+"ms",1)]),t("div",qe,[t("div",null,[e[22]||(e[22]=t("h3",{class:"font-semibold text-gray-800 mb-2"}," Headers de Respuesta ",-1)),t("div",Be,[(d(!0),r(V,null,C(i.value.headers,(o,y)=>(d(),r("div",{key:y,class:"text-sm font-mono"},[t("span",Ie,f(y)+":",1),t("span",ze,f(o),1)]))),128))])]),t("div",null,[t("div",Fe,[e[23]||(e[23]=t("h3",{class:"font-semibold text-gray-800"},"Body de Respuesta",-1)),t("div",Me,[l(a(k),{onClick:J,icon:"pi pi-copy",label:"Copiar",severity:"secondary",text:"",size:"small"}),l(a(k),{onClick:K,icon:"pi pi-download",label:"Descargar",severity:"secondary",text:"",size:"small"})])]),t("div",Je,[t("pre",Ke,f(z(i.value.body)),1)])])])])):(d(),r("div",Ge,e[24]||(e[24]=[t("i",{class:"pi pi-globe text-4xl mb-4"},null,-1),t("p",null,"Envía un request para ver la respuesta aquí",-1)])))]),_:1})])]))}});export{al as default};
