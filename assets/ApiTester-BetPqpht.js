import{P as ae,r as T,L as se,o as oe,c as d,x as e,e as s,A as v,R as l,B as u,d as i,H as ue,j as _,F as C,i as j,t as f,p as ne}from"./vue-vendor-D8N656sj.js";import{f as m,g as c,h as b,i as U,j as re,a as k,k as de,l as ie,m as D}from"./primevue-DrPXlnFP.js";import{_ as ce}from"./BreadcrumbNav.vue_vue_type_script_setup_true_lang-CD4hEVbd.js";import{c as x,G as q,C as O,F as P,L as $,K as A}from"./index-Cb-UOO6W.js";import{A as N}from"./arrow-right-CK-v0zlA.js";import{L as me}from"./list-C0gIeFnM.js";import{T as pe}from"./trash-2-DEWCTM17.js";import{P as ve}from"./plus-BVkZsWBk.js";import{U as ye}from"./user-DT6Vq7Bz.js";import{H as fe}from"./hash-MKNFdZR2.js";import{C as he}from"./copy-D933Ndjx.js";import{D as be}from"./download-6dn3WYrw.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=x("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=x("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=x("cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=x("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=x("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=x("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=x("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ve={class:"max-w-7xl mx-auto px-4 py-4"},Ce={class:"text-center mb-8"},je={class:"text-3xl font-bold text-gray-800 mb-2 flex items-center justify-center"},Ue={class:"text-xl font-semibold text-gray-800 flex items-center justify-center gap-2"},Pe={class:"grid md:grid-cols-2 gap-6"},Ae={class:"space-y-4"},Ee={class:"space-y-3"},Le={class:"block mb-2 font-medium text-gray-700 flex items-center justify-center"},Me={class:"flex gap-2"},Re={class:"flex-1"},He={class:"block mb-2 font-medium text-gray-700 flex items-center justify-center"},Se={class:"flex-1"},De={class:"block mb-2 font-medium text-gray-700 flex items-center justify-center"},qe={class:"block mb-2 font-medium text-gray-700 flex items-center justify-center"},Oe={class:"space-y-2"},$e={key:0},Ne={class:"block mb-2 font-medium text-gray-700 flex items-center justify-center"},Be={class:"space-y-2"},Ie={class:"block mb-2 font-medium text-gray-700 flex items-center justify-center"},ze={key:0,class:"space-y-2"},Fe={key:1,class:"space-y-2"},Ge={key:2,class:"space-y-2"},Je={class:"text-lg font-semibold text-gray-800 mb-4 flex items-center justify-center gap-2"},Ke={class:"space-y-2 max-h-96 overflow-y-auto"},We=["onClick"],Xe={class:"flex items-center justify-between"},Ze={class:"font-mono text-sm font-semibold"},Qe={class:"text-xs text-gray-500 truncate"},Ye={class:"text-xs text-gray-600 mt-1"},el={key:0,class:"text-center text-gray-500 text-sm py-4"},ll={class:"text-xl font-semibold text-gray-800 flex items-center justify-center gap-2"},tl={key:0,class:"space-y-4"},al={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},sl={class:"flex items-center gap-3"},ol={class:"text-sm text-gray-600"},ul={class:"text-sm text-gray-500"},nl={class:"grid md:grid-cols-2 gap-6"},rl={class:"bg-gray-50 p-3 rounded-lg max-h-60 overflow-y-auto"},dl={class:"text-blue-600"},il={class:"text-gray-700 ml-2"},cl={class:"flex items-center justify-between mb-2"},ml={class:"flex gap-2"},pl={class:"bg-gray-900 text-green-400 p-4 rounded-lg max-h-60 overflow-y-auto"},vl={class:"text-sm"},yl={key:1,class:"text-center text-gray-500 py-8 flex items-center justify-center"},Pl=ae({__name:"ApiTester",setup(fl){const a=T({url:"",method:"GET",timeout:5e3,headers:[],body:"",bodyType:"json",auth:{type:"none"}}),r=T(null),V=T(!1),g=T([]),I=[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"},{label:"DELETE",value:"DELETE"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"}],z=[{label:"JSON",value:"json"},{label:"Form Data",value:"form"},{label:"XML",value:"xml"},{label:"Text",value:"text"}],F=[{label:"Sin autenticación",value:"none"},{label:"Basic Auth",value:"basic"},{label:"Bearer Token",value:"bearer"},{label:"API Key",value:"apikey"}],E=se(()=>["POST","PUT","PATCH"].includes(a.value.method)),L=()=>{a.value.headers.push({key:"",value:""})},G=n=>{a.value.headers.splice(n,1)},J=n=>n>=200&&n<300?"bg-green-100 text-green-800":n>=300&&n<400?"bg-blue-100 text-blue-800":n>=400&&n<500?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",K=n=>{try{return n.startsWith("{")||n.startsWith("[")?JSON.stringify(JSON.parse(n),null,2):n}catch{return n}},W=async()=>{if(!a.value.url)return;V.value=!0;const n=Date.now();try{const t={};if(a.value.headers.forEach(p=>{p.key&&p.value&&(t[p.key]=p.value)}),a.value.auth.type==="basic"&&a.value.auth.username&&a.value.auth.password){const p=btoa(`${a.value.auth.username}:${a.value.auth.password}`);t.Authorization=`Basic ${p}`}else a.value.auth.type==="bearer"&&a.value.auth.token?t.Authorization=`Bearer ${a.value.auth.token}`:a.value.auth.type==="apikey"&&a.value.auth.key&&a.value.auth.value&&(t[a.value.auth.key]=a.value.auth.value);let o=null;if(E.value&&a.value.body)if(a.value.bodyType==="json")try{o=JSON.parse(a.value.body),t["Content-Type"]="application/json"}catch{o=a.value.body}else if(a.value.bodyType==="form"){const p=new FormData;a.value.body.split(`
`).forEach(te=>{const[H,S]=te.split("=");H&&S&&p.append(H.trim(),S.trim())}),o=p}else o=a.value.body,t["Content-Type"]=a.value.bodyType==="xml"?"application/xml":"text/plain";const y=new AbortController,h=setTimeout(()=>y.abort(),a.value.timeout),w=await fetch(a.value.url,{method:a.value.method,headers:t,body:o instanceof FormData?o:o?JSON.stringify(o):void 0,signal:y.signal});clearTimeout(h);const Y=await w.text(),M={};w.headers.forEach((p,R)=>{M[R]=p});const ee=Date.now();r.value={status:w.status,statusText:w.statusText,headers:M,body:Y,time:ee-n};const le={...a.value,timestamp:Date.now(),response:r.value};g.value.unshift(le),g.value.length>10&&(g.value=g.value.slice(0,10))}catch(t){const o=Date.now();r.value={status:0,statusText:"Error",headers:{},body:t.message||"Error de red",time:o-n}}finally{V.value=!1}},X=n=>{a.value={...n},n.response&&(r.value=n.response)},Z=()=>{r.value&&navigator.clipboard.writeText(r.value.body)},Q=()=>{if(r.value){const n=new Blob([r.value.body],{type:"text/plain"}),t=URL.createObjectURL(n),o=document.createElement("a");o.href=t,o.download="response.txt",o.click(),URL.revokeObjectURL(t)}};return oe(()=>{L()}),(n,t)=>(i(),d("div",null,[e(ce),s("div",Ve,[s("div",Ce,[s("h1",je,[e(l(q),{class:"text-blue-600 mr-3"}),t[11]||(t[11]=v(" API Tester "))]),t[12]||(t[12]=s("p",{class:"text-gray-600"}," Prueba APIs REST con diferentes métodos HTTP, headers y autenticación ",-1))]),e(l(D),{class:"mb-6"},{title:u(()=>[s("h2",Ue,[e(l(_e),{class:"text-blue-600"}),t[13]||(t[13]=v(" Configuración del Request "))])]),content:u(()=>[s("div",Pe,[s("div",Ae,[s("form",{onSubmit:ue(W,["prevent"]),class:"space-y-4"},[s("div",Ee,[s("div",null,[s("label",Le,[e(l(B),{class:"mr-2"}),t[14]||(t[14]=v(" URL "))]),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(B),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:a.value.url,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.url=o),class:"w-full",placeholder:"https://api.example.com/endpoint",required:""},null,8,["modelValue"])]),_:1})])]),s("div",Me,[s("div",Re,[s("label",He,[e(l(N),{class:"w-4 h-4 mr-2"}),t[15]||(t[15]=v(" Método "))]),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(N),{class:"w-4 h-4"})]),_:1}),e(l(U),{modelValue:a.value.method,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.method=o),options:I,optionLabel:"label",optionValue:"value",placeholder:"GET",class:"w-full"},null,8,["modelValue"])]),_:1})]),s("div",Se,[s("label",De,[e(l(O),{class:"w-4 h-4 mr-2"}),t[16]||(t[16]=v(" Timeout "))]),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(O),{class:"w-4 h-4"})]),_:1}),e(l(re),{modelValue:a.value.timeout,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.timeout=o),class:"w-full",min:1e3,max:6e4,step:1e3,placeholder:"5000"},null,8,["modelValue"]),e(l(c),null,{default:u(()=>t[17]||(t[17]=[v("ms")])),_:1,__:[17]})]),_:1})])]),s("div",null,[s("label",qe,[e(l(me),{class:"mr-2"}),t[18]||(t[18]=v(" Headers "))]),s("div",Oe,[(i(!0),d(C,null,j(a.value.headers,(o,y)=>(i(),d("div",{key:y,class:"flex gap-2"},[e(l(m),{class:"flex-1"},{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(Te),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:o.key,"onUpdate:modelValue":h=>o.key=h,placeholder:"Content-Type",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l(m),{class:"flex-1"},{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(ge),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,placeholder:"application/json",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l(k),{onClick:h=>G(y),severity:"danger",text:"",size:"medium"},{icon:u(()=>[e(l(pe),{class:"w-4 h-4"})]),_:2},1032,["onClick"])]))),128)),e(l(k),{onClick:L,label:"Agregar Header",severity:"secondary",text:"",size:"small",class:"w-full"},{icon:u(()=>[e(l(ve),{class:"w-4 h-4 mr-2"})]),_:1})])]),E.value?(i(),d("div",$e,[s("label",Ne,[e(l(P),{class:"mr-2"}),t[19]||(t[19]=v(" Body "))]),s("div",Be,[e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(P),{class:"w-4 h-4"})]),_:1}),e(l(U),{modelValue:a.value.bodyType,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value.bodyType=o),options:z,optionLabel:"label",optionValue:"value",placeholder:"JSON",class:"w-full"},null,8,["modelValue"])]),_:1}),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(P),{class:"w-4 h-4"})]),_:1}),e(l(de),{modelValue:a.value.body,"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.body=o),class:"w-full",rows:8,placeholder:'{"key": "value"}'},null,8,["modelValue"])]),_:1})])])):_("",!0),s("div",null,[s("label",Ie,[e(l($),{class:"mr-2"}),t[20]||(t[20]=v(" Autenticación "))]),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l($),{class:"w-4 h-4"})]),_:1}),e(l(U),{modelValue:a.value.auth.type,"onUpdate:modelValue":t[5]||(t[5]=o=>a.value.auth.type=o),options:F,optionLabel:"label",optionValue:"value",placeholder:"Sin autenticación",class:"w-full mb-3"},null,8,["modelValue"])]),_:1}),a.value.auth.type==="basic"?(i(),d("div",ze,[e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(ye),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:a.value.auth.username,"onUpdate:modelValue":t[6]||(t[6]=o=>a.value.auth.username=o),placeholder:"Usuario",class:"w-full"},null,8,["modelValue"])]),_:1}),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(A),{class:"w-4 h-4"})]),_:1}),e(l(ie),{modelValue:a.value.auth.password,"onUpdate:modelValue":t[7]||(t[7]=o=>a.value.auth.password=o),placeholder:"Contraseña",class:"w-full",feedback:!1},null,8,["modelValue"])]),_:1})])):_("",!0),a.value.auth.type==="bearer"?(i(),d("div",Fe,[e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(A),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:a.value.auth.token,"onUpdate:modelValue":t[8]||(t[8]=o=>a.value.auth.token=o),placeholder:"Token Bearer",class:"w-full"},null,8,["modelValue"])]),_:1})])):_("",!0),a.value.auth.type==="apikey"?(i(),d("div",Ge,[e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(fe),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:a.value.auth.key,"onUpdate:modelValue":t[9]||(t[9]=o=>a.value.auth.key=o),placeholder:"Nombre del header (ej: X-API-Key)",class:"w-full"},null,8,["modelValue"])]),_:1}),e(l(m),null,{default:u(()=>[e(l(c),null,{default:u(()=>[e(l(A),{class:"w-4 h-4"})]),_:1}),e(l(b),{modelValue:a.value.auth.value,"onUpdate:modelValue":t[10]||(t[10]=o=>a.value.auth.value=o),placeholder:"Valor de la API Key",class:"w-full"},null,8,["modelValue"])]),_:1})])):_("",!0)]),e(l(k),{type:"submit",label:"Enviar Request",class:"w-full bg-blue-600 border-blue-600 hover:bg-blue-700 hover:border-blue-700",loading:V.value},{icon:u(()=>[e(l(we),{class:"mr-2"})]),_:1},8,["loading"])],32)]),s("div",null,[s("h3",Je,[e(l(ke),{class:"text-green-600"}),t[21]||(t[21]=v(" Historial de Requests "))]),s("div",Ke,[(i(!0),d(C,null,j(g.value,(o,y)=>(i(),d("div",{key:y,onClick:h=>X(o),class:"p-3 border rounded cursor-pointer hover:bg-gray-50 transition-colors"},[s("div",Xe,[s("span",Ze,f(o.method),1),s("span",Qe,f(o.url),1)]),s("div",Ye,f(new Date(o.timestamp).toLocaleString()),1)],8,We))),128)),g.value.length===0?(i(),d("div",el," No hay requests en el historial ")):_("",!0)])])])]),_:1}),e(l(D),null,{title:u(()=>[s("h2",ll,[e(l(xe),{class:"text-green-600"}),t[22]||(t[22]=v(" Respuesta del API "))])]),content:u(()=>[r.value?(i(),d("div",tl,[s("div",al,[s("div",sl,[s("span",{class:ne(["px-3 py-1 rounded-full text-sm font-semibold",J(r.value.status)])},f(r.value.status),3),s("span",ol,f(r.value.statusText),1)]),s("div",ul,f(r.value.time)+"ms",1)]),s("div",nl,[s("div",null,[t[23]||(t[23]=s("h3",{class:"font-semibold text-gray-800 mb-2"}," Headers de Respuesta ",-1)),s("div",rl,[(i(!0),d(C,null,j(r.value.headers,(o,y)=>(i(),d("div",{key:y,class:"text-sm font-mono"},[s("span",dl,f(y)+":",1),s("span",il,f(o),1)]))),128))])]),s("div",null,[s("div",cl,[t[24]||(t[24]=s("h3",{class:"font-semibold text-gray-800"},"Body de Respuesta",-1)),s("div",ml,[e(l(k),{onClick:Z,label:"Copiar",severity:"secondary",text:"",size:"small"},{icon:u(()=>[e(l(he),{class:"w-4 h-4"})]),_:1}),e(l(k),{onClick:Q,label:"Descargar",severity:"secondary",text:"",size:"small"},{icon:u(()=>[e(l(be),{class:"w-4 h-4"})]),_:1})])]),s("div",pl,[s("pre",vl,f(K(r.value.body)),1)])])])])):(i(),d("div",yl,[e(l(q),{class:"mb-4 mr-2"}),t[25]||(t[25]=s("p",null,"Envía un request para ver la respuesta aquí",-1))]))]),_:1})])]))}});export{Pl as default};
