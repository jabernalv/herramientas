import{m as lr}from"./marked.esm-BaswSlok.js";import{g as nr,i as ur,f as ir,k as cr,a as sr}from"./primevue-CTM77RMy.js";import{_ as fr}from"./BreadcrumbNav.vue_vue_type_script_setup_true_lang-W4xqqyXh.js";import{h as _r}from"./html2pdf-DoeFniV4.js";import{c as dr,a as hr}from"./index-CnwFKGTZ.js";import{E as $r}from"./eye-BK8nzL8P.js";import{S as pr}from"./settings-CEmIS2yx.js";import{P as mr}from"./pen-line-yavWcZVe.js";import{D as or}from"./download-l2r6xAiI.js";import{P as gr,r as Ot,w as vr,c as br,x as Bt,e as Kt,R as Pt,B as Zt,A as ar,d as yr}from"./vue-vendor-ByoO1CXK.js";import"./_commonjsHelpers-D6-XlEtG.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=dr("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license Asciidoctor.js 3.0.4 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */(function($){var Q;if(typeof globalThis<"u"?$=globalThis:typeof global<"u"?$=global:typeof window<"u"&&($=window),$.console==null&&($.console={}),typeof $.console=="object"?Q=$.console:Q={},"log"in Q||(Q.log=function(){}),"warn"in Q||(Q.warn=Q.log),typeof $.Opal<"u")return Q.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),$.Opal;var Re,je,_e,Xe,ze,Te,ye,W=$.Opal={};W.global=$,W.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var Be=Function.prototype.call,Pe=Function.prototype.bind,qe=Object.hasOwn||Be.bind(Object.prototype.hasOwnProperty),He=Object.setPrototypeOf,Ge=Be.bind(Array.prototype.slice),Ne=Be.bind(Array.prototype.splice),te=4,Ee=te;function Je(){return Ee+=2,Ee}W.uid=Je,W.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&$e(f,"$$id",Je()),f.$$id)};var Le=W.gvars={};W.exit=function(f){Le.DEBUG&&Q.log("Exited with status "+f)},W.exceptions=[],W.pop_exception=function(){var f=W.exceptions.pop();f?(Le["!"]=f,Le["@"]=f.$backtrace()):Le["!"]=Le["@"]=Re};function xe(f,w){if(f||(f=W.Exception||Error),ye&&ye.$raise)arguments.length>2?ye.$raise(f.$new.apply(f,Ge(arguments,1))):ye.$raise(f,w);else throw f.$new?f.$new(w):new f(w)}function $e(f,w,J){typeof f=="string"?f[w]=J:Object.defineProperty(f,w,{value:J,enumerable:!1,configurable:!0,writable:!0})}W.prop=$e,W.defineProperty=W.prop,W.slice=Ge;var pe=W.truthy=function(f){return f!==!1&&Re!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};W.falsy=function(f){return!pe(f)},W.type_error=function(f,w,J,de){f=f.$$class,de&&J?(de=de.$$class,xe(W.TypeError,"can't convert "+f+" into "+w+" ("+f+"#"+J+" gives "+de+")")):xe(W.TypeError,"no implicit conversion of "+f+" into "+w)},W.coerce_to=function(f,w,J,de){var Ue;return J==="to_int"&&w===W.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):J==="to_str"&&w===W.String&&f.$$is_string||W.is_a(f,w)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(Ue=f[_t(J)],(Ue==null||Ue.$$stub)&&W.type_error(f,w),Ue.apply(f,de)):(f["$respond_to?"](J)||W.type_error(f,w),de==null&&(de=[]),W.send(f,J,de))},W.respond_to=function(f,w,J){if(f==null||!f.$$class)return!1;J=!!J;var de=f[w];if(f["$respond_to?"].$$pristine){if(typeof de=="function"&&!de.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return W.send(f,f["$respond_to_missing?"],[w.substr(1),J])}else return W.send(f,f["$respond_to?"],[w.substr(1),J])},W.trace_class=!1,W.tracers_for_class=[];function ae(f){var w,J,de;for(w=0,J=W.tracers_for_class.length;w<J;w++)de=W.tracers_for_class[w],de.trace_object=f,de.block.$call(de)}function Ie(f,w){if(f.$$autoload[w].loaded){if(f.$$autoload[w].loaded&&!f.$$autoload[w].required&&f.$$autoload[w].exception)throw f.$$autoload[w].exception}else{f.$$autoload[w].loaded=!0;try{W.Kernel.$require(f.$$autoload[w].path)}catch(J){throw f.$$autoload[w].exception=J,J}if(f.$$autoload[w].required=!0,f.$$const[w]!=null)return f.$$autoload[w].success=!0,f.$$const[w]}}function ne(f,w){if(f){if(f.$$const[w]!=null)return f.$$const[w];if(f.$$autoload&&f.$$autoload[w])return Ie(f,w)}}function me(f,w){var J,de,Ue;if(f.length!==0)for(J=0,de=f.length;J<de;J++){if(Ue=f[J].$$const[w],Ue!=null)return Ue;if(f[J].$$autoload&&f[J].$$autoload[w])return Ie(f[J],w)}}function Z(f,w){var J,de,Ue;if(f!=null)for(Ue=tt(f),J=0,de=Ue.length;J<de;J++){if(Ue[J].$$const&&qe(Ue[J].$$const,w))return Ue[J].$$const[w];if(Ue[J].$$autoload&&Ue[J].$$autoload[w])return Ie(Ue[J],w)}}function p(f,w){if(f==null||f.$$is_module)return Z(_e,w)}function oe(f,w){return(f||_e).$const_missing(w)}W.const_get_local=function(f,w,J){var de;if(f!=null)return f==="::"&&(f=_e),!f.$$is_module&&!f.$$is_class&&xe(W.TypeError,f.toString()+" is not a class/module"),de=ne(f,w),de!=null||J?de:oe(f,w)},W.const_get_qualified=function(f,w,J){var de,Ue,nt,e=W.const_cache_version;if(w==null)return de=ne(_e,f),de??W.const_get_qualified(_e,f,J);if(f!=null)return f==="::"&&(f=_e),!f.$$is_module&&!f.$$is_class&&xe(W.TypeError,f.toString()+" is not a class/module"),(Ue=f.$$const_cache)==null&&($e(f,"$$const_cache",Object.create(null)),Ue=f.$$const_cache),nt=Ue[w],nt==null||nt[0]!==e?((de=ne(f,w))!=null||(de=Z(f,w))!=null,Ue[w]=[e,de]):de=nt[1],de!=null||J?de:oe(f,w)},W.const_cache_version=1,W.const_get_relative=function(f,w,J){var de=f[0],Ue,nt=W.const_cache_version,e,U;return(e=f.$$const_cache)==null&&($e(f,"$$const_cache",Object.create(null)),e=f.$$const_cache),U=e[w],U==null||U[0]!==nt?((Ue=ne(de,w))!=null||(Ue=me(f,w))!=null||(Ue=Z(de,w))!=null||(Ue=p(de,w))!=null,e[w]=[nt,Ue]):Ue=U[1],Ue!=null||J?Ue:oe(de,w)};function I(f,w,J){var de=!0;return(f==null||f==="::")&&(f=_e),J.$$is_a_module&&((J.$$name==null||J.$$name===Re)&&(J.$$name=w),J.$$base_module==null&&(J.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(w in f.$$const||"$$autoload"in f&&w in f.$$autoload)&&(de=!1),f.$$const[w]=J,f.$$=f.$$const,W.const_cache_version++,f===_e&&(W[w]=J),$e(f,w,J),de&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(w),J}W.const_set=I,W.constants=function(f,w){w==null&&(w=!0);var J,de=[f],Ue,nt,e={},U;for(w&&(de=de.concat(tt(f))),w&&f.$$is_module&&(de=de.concat([W.Object]).concat(tt(W.Object))),Ue=0,nt=de.length;Ue<nt&&(J=de[Ue],!(f!==_e&&J==_e));Ue++){for(U in J.$$const)e[U]=!0;if(J.$$autoload)for(U in J.$$autoload)e[U]=!0}return Object.keys(e)},W.const_remove=function(f,w){if(W.const_cache_version++,f.$$const[w]!=null){var J=f.$$const[w];return delete f.$$const[w],J}if(f.$$autoload&&f.$$autoload[w])return delete f.$$autoload[w],Re;xe(W.NameError,"constant "+f+"::"+f.$name()+" not defined")},W.const_get_relative_factory=function(f){return function(w,J){return W.$$(f,w,J)}},W.$$=W.const_get_relative,W.$$$=W.const_get_qualified,W.$r=W.const_get_relative_factory;function V(f,w,J){var de;if(w!=null&&w.$$bridge?de=function(){var U=Ge(arguments),B=new(Pe.apply(w.$$constructor,[null].concat(U)));return He(B,de.$$prototype),B}:de=function(){},f&&f!==Re&&$e(de,"displayName","::"+f),$e(de,"$$name",f),$e(de,"$$constructor",de),$e(de,"$$prototype",de.prototype),$e(de,"$$const",{}),$e(de,"$$is_class",!0),$e(de,"$$is_a_module",!0),$e(de,"$$super",w),$e(de,"$$cvars",{}),$e(de,"$$own_included_modules",[]),$e(de,"$$own_prepended_modules",[]),$e(de,"$$ancestors",[]),$e(de,"$$ancestors_cache_version",null),$e(de,"$$subclasses",[]),$e(de.$$prototype,"$$class",de),W.Class&&He(de,W.Class.prototype),w!=null){if(He(de.$$prototype,w.$$prototype),J!==!0)if(typeof WeakRef<"u"){var Ue,nt,e=[];for(Ue=0;Ue<w.$$subclasses.length;Ue++)nt=w.$$subclasses[Ue],nt.deref()!==void 0&&e.push(nt);e.push(new WeakRef(de)),w.$$subclasses=e}else w.$$subclasses.push(de);w.$$meta&&W.build_class_singleton_class(de)}return de}W.allocate_class=V;function N(f,w){var J=ne(f,w);if(J)return J.$$is_class||xe(W.TypeError,w+" is not a class"),J}function Ae(f,w){f.$$super!==w&&xe(W.TypeError,"superclass mismatch for class "+f.$$name)}W.klass=function(f,w,J){var de;f==null||f=="::"?f=_e:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),w!=null&&(!w.hasOwnProperty||w.hasOwnProperty&&!w.hasOwnProperty("$$is_class"))&&(w.constructor&&w.constructor.name=="Function"?(de=w,w=_e):xe(W.TypeError,"superclass must be a Class ("+(w.constructor&&(w.constructor.name||w.constructor.$$name)||typeof w)+" given)"));var Ue=N(f,J);return Ue!=null?w&&Ae(Ue,w):(w==null&&(w=_e),Ue=V(J,w),I(f,J,Ue),w.$inherited&&w.$inherited(Ue),de&&W.bridge(de,Ue)),W.trace_class&&ae(Ue),Ue};function re(f){var w=function(){},J=w;return f&&$e(w,"displayName",f+".constructor"),$e(J,"$$name",f),$e(J,"$$prototype",w.prototype),$e(J,"$$const",{}),$e(J,"$$is_module",!0),$e(J,"$$is_a_module",!0),$e(J,"$$cvars",{}),$e(J,"$$iclasses",[]),$e(J,"$$own_included_modules",[]),$e(J,"$$own_prepended_modules",[]),$e(J,"$$ancestors",[J]),$e(J,"$$ancestors_cache_version",null),He(J,W.Module.prototype),J}W.allocate_module=re;function L(f,w){var J=ne(f,w);return J==null&&f===_e&&(J=Z(_e,w)),J&&!J.$$is_module&&J!==_e&&xe(W.TypeError,w+" is not a module"),J}W.module=function(f,w){var J;return f==null||f=="::"?f=_e:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),J=L(f,w),J==null&&(J=re(w),I(f,w,J)),W.trace_class&&ae(J),J},W.get_singleton_class=function(f){return f.$$is_number&&xe(W.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?W.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?W.build_module_singleton_class(f):W.build_object_singleton_class(f)};function d(f,w){f.hasOwnProperty("$$meta")?f.$$meta=w:$e(f,"$$meta",w),f.$$frozen?f.$$meta.$freeze():He(f,w.$$prototype)}W.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var w=f===je?ze:W.get_singleton_class(f.$$super),J=V(null,w,!0);return $e(J,"$$is_singleton",!0),$e(J,"$$singleton_of",f),d(f,J),$e(f,"$$class",W.Class),J},W.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var w=V(null,W.Module,!0);return $e(w,"$$is_singleton",!0),$e(w,"$$singleton_of",f),d(f,w),$e(f,"$$class",W.Module),w},W.build_object_singleton_class=function(f){var w=f.$$class,J=V(Re,w,!0);return $e(J,"$$is_singleton",!0),$e(J,"$$singleton_of",f),delete J.$$prototype.$$class,d(f,J),J},W.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},W.instance_methods=function(f){for(var w=[],J=[],de=tt(f),Ue=0,nt=de.length;Ue<nt;Ue++){var e=de[Ue],U=e.$$prototype;U.hasOwnProperty("$$dummy")&&(U=U.$$define_methods_on);for(var B=Object.getOwnPropertyNames(U),C=0,G=B.length;C<G;C++){var u=B[C];if(W.is_method(u)){var R=u.slice(1),we=U[u];we.$$stub&&w.indexOf(R)===-1&&w.push(R),!we.$$stub&&J.indexOf(R)===-1&&w.indexOf(R)===-1&&J.push(R)}}}return J},W.own_instance_methods=function(f){var w=[],J=f.$$prototype;J.hasOwnProperty("$$dummy")&&(J=J.$$define_methods_on);for(var de=Object.getOwnPropertyNames(J),Ue=0,nt=de.length;Ue<nt;Ue++){var e=de[Ue];if(W.is_method(e)){var U=J[e];if(!U.$$stub){var B=e.slice(1);w.push(B)}}}return w},W.methods=function(f){return W.instance_methods(f.$$meta||f.$$class)},W.own_methods=function(f){return f.$$meta?W.own_instance_methods(f.$$meta):[]},W.receiver_methods=function(f){var w=W.get_singleton_class(f),J=W.own_instance_methods(w),de=W.own_instance_methods(w.$$super);return J.concat(de)},W.class_variables=function(f){var w=tt(f),J,de=w.length,Ue={};for(J=de-1;J>=0;J--){var nt=w[J];for(var e in nt.$$cvars)Ue[e]=nt.$$cvars[e]}return Ue},W.class_variable_set=function(f,w,J){var de=tt(f),Ue,nt=de.length;for(Ue=nt-2;Ue>=0;Ue--){var e=de[Ue];if(qe(e.$$cvars,w))return e.$$cvars[w]=J,J}return f.$$cvars[w]=J,J},W.class_variable_get=function(f,w,J){if(qe(f.$$cvars,w))return f.$$cvars[w];var de=tt(f),Ue,nt=de.length;for(Ue=0;Ue<nt;Ue++){var e=de[Ue];if(qe(e.$$cvars,w))return e.$$cvars[w]}return J||xe(W.NameError,"uninitialized class variable "+w+" in "+f.$name()),Re};function i(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function r(f){for(var w=[],J,de=Object.getPrototypeOf(f.$$prototype);de&&!de.hasOwnProperty("$$class");)J=P(de),J&&w.push(J),de=Object.getPrototypeOf(de);return w}function n(f){var w=[],J,de=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;de&&de!==f.$$prototype.$$define_methods_on;)J=P(de),J&&w.push(J),de=Object.getPrototypeOf(de);return w}W.append_features=function(f,w){var J=tt(f),de=[];J.indexOf(w)!==-1&&xe(W.ArgumentError,"cyclic include detected");for(var Ue=0,nt=J.length;Ue<nt;Ue++){var e=J[Ue],U=o(e);$e(U,"$$included",!0),de.push(U)}var B=tt(w),C=y(de),G,u;if(B.indexOf(f)===-1)G=w.$$prototype,u=Object.getPrototypeOf(w.$$prototype);else{for(var R=w.$$prototype,we=Object.getPrototypeOf(R);we!=null&&!(we.$$module===f&&i(we));)R=we,we=Object.getPrototypeOf(we);if(we){for(var z=Object.getPrototypeOf(we);z.hasOwnProperty("$$iclass")&&!i(z);)z=Object.getPrototypeOf(z);G=R,u=z}else G=w.$$prototype,u=Object.getPrototypeOf(w.$$prototype)}He(G,C.first),He(C.last,u),w.$$own_included_modules=r(w),W.const_cache_version++},W.prepend_features=function(f,w){var J=tt(f),de=[];J.indexOf(w)!==-1&&xe(W.ArgumentError,"cyclic prepend detected");for(var Ue=0,nt=J.length;Ue<nt;Ue++){var e=J[Ue],U=o(e);$e(U,"$$prepended",!0),de.push(U)}var B=y(de),C=w.$$prototype,G=Object.getPrototypeOf(C),u,R,we;C.hasOwnProperty("$$dummy")?u=C.$$define_methods_on:(u=g(w),s(w),$e(C,"$$dummy",!0),$e(C,"$$define_methods_on",u),He(C,u),He(u,G));var z=tt(w);if(z.indexOf(f)===-1)for(R=C,we=Object.getPrototypeOf(C);we!=null&&!(we.hasOwnProperty("$$root")||we===u||!we.hasOwnProperty("$$iclass"));)we=Object.getPrototypeOf(we);else xe(W.RuntimeError,"Prepending a module multiple times is not supported");He(R,B.first),He(B.last,we),w.$$own_prepended_modules=n(w),W.const_cache_version++};function s(f){for(var w=f.$$prototype,J=Object.getOwnPropertyNames(w),de=0;de<J.length;de++){var Ue=J[de];W.is_method(Ue)&&delete w[Ue]}}function o(f){var w=g(f);return f.$$is_module&&f.$$iclasses.push(w),w}function g(f){var w={},J=f.$$prototype;J.hasOwnProperty("$$dummy")&&(J=J.$$define_methods_on);var de=Object.getOwnPropertyNames(J),Ue=de.length,nt;for(nt=0;nt<Ue;nt++){var e=de[nt];$e(w,e,J[e])}return $e(w,"$$iclass",!0),$e(w,"$$module",f),w}function y(f){var w=f.length,J=f[0];if($e(J,"$$root",!0),w===1)return{first:J,last:J};for(var de=J,Ue=1;Ue<w;Ue++){var nt=f[Ue];He(de,nt),de=nt}return{first:f[0],last:f[w-1]}}W.bridge=function(f,w){f.hasOwnProperty("$$bridge")&&xe(W.ArgumentError,"already bridged"),$e(f,"$$bridge",w),He(f.prototype,(w.$$super||W.Object).$$prototype),$e(w,"$$prototype",f.prototype),$e(w.$$prototype,"$$class",w),$e(w,"$$constructor",f),$e(w,"$$bridge",!0)};function P(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function be(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function tt(f){if(!f)return[];if(f.$$ancestors_cache_version===W.const_cache_version)return f.$$ancestors;var w=[],J,de,Ue;for(J=0,de=be(f),Ue=de.length;J<Ue;J++)w.push(de[J]);if(f.$$super)for(J=0,de=tt(f.$$super),Ue=de.length;J<Ue;J++)w.push(de[J]);return f.$$ancestors_cache_version=W.const_cache_version,f.$$ancestors=w,w}W.ancestors=tt,W.included_modules=function(f){for(var w=[],J=null,de=Object.getPrototypeOf(f.$$prototype);de&&Object.getPrototypeOf(de);de=Object.getPrototypeOf(de))J=P(de),J&&J.$$is_module&&de.$$iclass&&de.$$included&&w.push(J);return w},W.add_stubs=function(f){var w=W.BasicObject.$$prototype,J,de;f=f.split(",");for(var Ue=0,nt=f.length;Ue<nt;Ue++)J=_t(f[Ue]),de=w[J],(de==null||de.$$stub)&&W.add_stub_for(w,J)},W.add_stub_for=function(f,w){$e(f,w,W.stub_for(w))},W.stub_for=function(f){function w(){this.$method_missing.$$p=w.$$p,w.$$p=null;for(var J=new Array(arguments.length),de=0,Ue=J.length;de<Ue;de++)J[de]=arguments[de];return this.$method_missing.apply(this,[f.slice(1)].concat(J))}return w.$$stub=!0,w},W.ac=function(f,w,J,de){var Ue="";J.$$is_a_module?Ue+=J.$$name+".":Ue+=J.$$class.$$name+"#",Ue+=de,xe(W.ArgumentError,"["+Ue+"] wrong number of arguments (given "+f+", expected "+w+")")},W.block_ac=function(f,w,J){var de="`block in "+J+"'";xe(W.ArgumentError,de+": wrong number of arguments (given "+f+", expected "+w+")")};function ot(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?tt(f.$$meta):tt(f.$$class)}W.find_super=function(f,w,J,de,Ue){var nt=_t(w),e,U;e=ot(f);for(var B=e.indexOf(J.$$owner),C=B+1;C<e.length;C++){var G=e[C],u=G.$$prototype;if(u.hasOwnProperty("$$dummy")&&(u=u.$$define_methods_on),u.hasOwnProperty(nt)){U=u[nt];break}}return!de&&U&&U.$$stub&&f.$method_missing.$$pristine&&xe(W.NoMethodError,"super: no superclass method `"+w+"' for "+f,w),U.$$stub&&!Ue?null:U},W.find_block_super=function(f,w,J,de,Ue){var nt=w;return J||xe(W.RuntimeError,"super called outside of method"),Ue&&J.$$define_meth&&xe(W.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),J.$$def&&(nt=J.$$jsid),W.find_super(f,nt,J,de)},W.find_super_dispatcher=W.find_super,W.find_iter_super_dispatcher=W.find_block_super,W.yield1=function(f,w){typeof f!="function"&&xe(W.LocalJumpError,"no block given");var J=f.$$has_top_level_mlhs_arg,de=f.$$has_trailing_comma_in_args;return(f.length>1||(J||de)&&f.length===1)&&(w=W.to_ary(w)),(f.length>1||de&&f.length===1)&&w.$$is_array?f.apply(null,w):f(w)},W.yieldX=function(f,w){if(typeof f!="function"&&xe(W.LocalJumpError,"no block given"),f.length>1&&w.length===1&&w[0].$$is_array)return f.apply(null,w[0]);if(!w.$$is_array){for(var J=new Array(w.length),de=0,Ue=J.length;de<Ue;de++)J[de]=w[de];return f.apply(null,J)}return f.apply(null,w)},W.rescue=function(f,w){for(var J=0;J<w.length;J++){var de=w[J];if(de.$$is_array){var Ue=W.rescue(f,de);if(Ue)return Ue}else if(de===W.JS.Error||de["$==="](f))return de}return null},W.is_a=function(f,w){if(w!=null&&f.$$meta===w||f.$$class===w)return!0;if(f.$$is_number&&w.$$is_number_class)return w.$$is_integer_class?f%1===0:!0;var J=tt(f.$$is_class?W.get_singleton_class(f):f.$$meta||f.$$class);return J.indexOf(w)!==-1},W.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var w=f.$to_hash();if(w.$$is_hash)return w;xe(W.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+w.$$class+")")}else xe(W.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},W.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var w=f.$to_ary();if(w===Re)return[f];if(w.$$is_array)return w;xe(W.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+w.$$class+")")}else return[f]},W.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var w=f.$to_a();if(w===Re)return[f];if(w.$$is_array)return w;xe(W.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+w.$$class+")")}else return[f]},W.extract_kwargs=function(f){var w=f[f.length-1];if(w!=null&&W.respond_to(w,"$to_hash",!0))return Ne(f,f.length-1),w},W.kwrestargs=function(f,w){var J=[],de={},Ue,nt=f.$$smap;for(Ue in nt)w[Ue]||(J.push(Ue),de[Ue]=nt[Ue]);return W.hash2(J,de)};function lt(f,w){typeof w=="number"?f.$$arity=w:typeof w=="object"&&Object.assign(f,w)}var vt={};function _t(f){return vt[f]||(vt[f]="$"+f)}W.jsid=_t,W.send=function(f,w,J,de,Ue){var nt;return typeof w=="function"?(nt=w,w=null):typeof w=="string"?nt=f[_t(w)]:xe(W.NameError,"Passed method should be a string or a function"),W.send2(f,nt,w,J,de,Ue)},W.send2=function(f,w,J,de,Ue,nt){return w==null&&J!=null&&f.$method_missing&&(w=f.$method_missing,de=[J].concat(de)),lt(Ue,nt),typeof Ue=="function"&&(w.$$p=Ue),w.apply(f,de)},W.refined_send=function(f,w,J,de,Ue,nt){var e,U,B,C,G,u,R,we,z,ce;for(C=ot(w),e=0;e<C.length;e++)for(G=W.id(C[e]),U=0;U<f.length;U++)for(u=f[U],B=u.length-1;B>=0;B--)if(R=u[B],!(typeof R.$$refine_modules>"u")&&(we=R.$$refine_modules,!(typeof we[G]>"u")&&(z=we[G],typeof z.$$prototype[_t(J)]<"u")))return ce=z.$$prototype[_t(J)],W.send2(w,ce,J,de,Ue,nt);return W.send(w,J,de,Ue,nt)},W.lambda=function(f,w){return f.$$is_lambda=!0,lt(f,w),f},W.def=function(f,w,J,de){return lt(J,de),f===W.top?W.defn(W.Object,w,J):!f.$$eval&&f.$$is_a_module?W.defn(f,w,J):W.defs(f,w,J)},W.defn=function(f,w,J){gt(f),J.displayName=w,J.$$owner=f;var de=w.substr(1),Ue=f.$$prototype;if(Ue.hasOwnProperty("$$dummy")&&(Ue=Ue.$$define_methods_on),$e(Ue,w,J),f.$$is_module){f.$$module_function&&W.defs(f,w,J);for(var nt=0,e=f.$$iclasses,U=e.length;nt<U;nt++){var B=e[nt];$e(B,w,J)}}var C=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!C?f.$method_added(de):C&&C.$singleton_method_added&&!C.$singleton_method_added.$$stub&&C.$singleton_method_added(de),de},W.defs=function(f,w,J,de){return lt(J,de),(f.$$is_string||f.$$is_number)&&xe(W.TypeError,"can't define singleton"),W.defn(W.get_singleton_class(f),w,J)},W.rdef=function(f,w){qe(f.$$prototype,w)||xe(W.NameError,"method '"+w.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[w],f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(w.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(w.substr(1))},W.udef=function(f,w){(!f.$$prototype[w]||f.$$prototype[w].$$stub)&&xe(W.NameError,"method '"+w.substr(1)+"' not defined in "+f.$name()),W.add_stub_for(f.$$prototype,w),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(w.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(w.substr(1))};function bt(f){return typeof f=="function"&&!f.$$stub}W.alias=function(f,w,J){var de=_t(w),Ue=_t(J),nt,e;if(typeof f.$$prototype>"u"&&(f=W.Object),nt=f.$$prototype[Ue],f.$$eval)return W.alias(W.get_singleton_class(f),w,J);if(!bt(nt)){for(var U=f.$$super;typeof nt!="function"&&U;)nt=U[Ue],U=U.$$super;!bt(nt)&&f.$$is_module&&(nt=W.Object.$$prototype[Ue]),bt(nt)||xe(W.NameError,"undefined method `"+J+"' for class `"+f.$name()+"'")}nt.$$alias_of&&(nt=nt.$$alias_of),e=function(){var B=e.$$p,C,G,u;for(C=new Array(arguments.length),G=0,u=arguments.length;G<u;G++)C[G]=arguments[G];return e.$$p=null,W.send(this,nt,C,B)};try{Object.defineProperty(e,"length",{value:nt.length})}catch{}return e.displayName=w,e.$$arity=nt.$$arity==null?nt.length:nt.$$arity,e.$$parameters=nt.$$parameters,e.$$source_location=nt.$$source_location,e.$$alias_of=nt,e.$$alias_name=w,W.defn(f,de,e),f},W.alias_gvar=function(f,w){return Object.defineProperty(Le,f,{configurable:!0,enumerable:!0,get:function(){return Le[w]},set:function(J){Le[w]=J}}),Re},W.alias_native=function(f,w,J){var de=_t(w),Ue=f.$$prototype[J];return(typeof Ue!="function"||Ue.$$stub)&&xe(W.NameError,"undefined native method `"+J+"' for class `"+f.$name()+"'"),W.defn(f,de,Ue),f},W.hash_init=function(f){f.$$smap=Object.create(null),f.$$map=Object.create(null),f.$$keys=[]},W.hash_clone=function(f,w){w.$$none=f.$$none,w.$$proc=f.$$proc;for(var J=0,de=f.$$keys,Ue=f.$$smap,nt=de.length,e,U;J<nt;J++)e=de[J],e.$$is_string?U=Ue[e]:(U=e.value,e=e.key),W.hash_put(w,e,U)},W.hash_put=function(f,w,J){if(w.$$is_string){qe(f.$$smap,w)||f.$$keys.push(w),f.$$smap[w]=J;return}var de,Ue,nt;if(de=f.$$by_identity?W.id(w):w.$hash(),!qe(f.$$map,de)){Ue={key:w,key_hash:de,value:J},f.$$keys.push(Ue),f.$$map[de]=Ue;return}for(Ue=f.$$map[de];Ue;){if(w===Ue.key||w["$eql?"](Ue.key)){nt=void 0,Ue.value=J;break}nt=Ue,Ue=Ue.next}nt&&(Ue={key:w,key_hash:de,value:J},f.$$keys.push(Ue),nt.next=Ue)},W.hash_get=function(f,w){if(w.$$is_string)return qe(f.$$smap,w)?f.$$smap[w]:void 0;var J,de;if(J=f.$$by_identity?W.id(w):w.$hash(),qe(f.$$map,J))for(de=f.$$map[J];de;){if(w===de.key||w["$eql?"](de.key))return de.value;de=de.next}},W.hash_delete=function(f,w){var J,de=f.$$keys,Ue=de.length,nt,e;if(w.$$is_string){if(typeof w!="string"&&(w=w.valueOf()),!qe(f.$$smap,w))return;for(J=0;J<Ue;J++)if(e=de[J],e.$$is_string&&typeof e!="string"&&(e=e.valueOf()),e===w){de.splice(J,1);break}return nt=f.$$smap[w],delete f.$$smap[w],nt}var U=w.$hash();if(qe(f.$$map,U))for(var B=f.$$map[U],C;B;){if(w===B.key||w["$eql?"](B.key)){for(nt=B.value,J=0;J<Ue;J++)if(de[J]===B){de.splice(J,1);break}return C&&B.next?C.next=B.next:C?delete C.next:B.next?f.$$map[U]=B.next:delete f.$$map[U],nt}C=B,B=B.next}},W.hash_rehash=function(f){for(var w=0,J=f.$$keys.length,de,Ue,nt;w<J;w++)if(!f.$$keys[w].$$is_string&&(de=f.$$keys[w].key.$hash(),de!==f.$$keys[w].key_hash)){for(Ue=f.$$map[f.$$keys[w].key_hash],nt=void 0;Ue;){if(Ue===f.$$keys[w]){nt&&Ue.next?nt.next=Ue.next:nt?delete nt.next:Ue.next?f.$$map[f.$$keys[w].key_hash]=Ue.next:delete f.$$map[f.$$keys[w].key_hash];break}nt=Ue,Ue=Ue.next}if(f.$$keys[w].key_hash=de,!qe(f.$$map,de)){f.$$map[de]=f.$$keys[w];continue}for(Ue=f.$$map[de],nt=void 0;Ue;){if(Ue===f.$$keys[w]){nt=void 0;break}nt=Ue,Ue=Ue.next}nt&&(nt.next=f.$$keys[w])}},W.hash=function(){var f=arguments.length,w,J,de,Ue,nt,e;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(J=new W.Hash,W.hash_init(J),f===1)if(w=arguments[0],arguments[0].$$is_array){for(Ue=w.length,de=0;de<Ue;de++)w[de].length!==2&&xe(W.ArgumentError,"value not of length 2: "+w[de].$inspect()),nt=w[de][0],e=w[de][1],W.hash_put(J,nt,e);return J}else{w=arguments[0];for(nt in w)qe(w,nt)&&(e=w[nt],W.hash_put(J,nt,e));return J}for(f%2!==0&&xe(W.ArgumentError,"odd number of arguments for Hash"),de=0;de<f;de+=2)nt=arguments[de],e=arguments[de+1],W.hash_put(J,nt,e);return J},W.hash2=function(f,w){var J=new W.Hash;return J.$$smap=w,J.$$map=Object.create(null),J.$$keys=f,J},W.range=function(f,w,J){var de=new W.Range;return de.begin=f,de.end=w,de.excl=J,de};var pt=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];W.ivar=function(f){return pt.indexOf(f)!==-1&&(f+="$"),f};function gt(f){f.$$frozen&&xe(W.FrozenError,"can't modify frozen "+f.$class()+": "+f,W.hash2(["receiver"],{receiver:f}))}W.deny_frozen_access=gt,W.freeze=function(f){return $e(f,"$$frozen",!0),f.hasOwnProperty("$$id")||$e(f,"$$id",Je()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():$e(f,"$$meta",null),f.hasOwnProperty("$$comparable")||$e(f,"$$comparable",null),Object.seal(f),f},W.freeze_props=function(f){var w,J,de;for(w in f)J=typeof w,!((J==="string"||J==="object")&&w[0]==="$")&&(de=Object.getOwnPropertyDescriptor(f,w),de&&de.enumerable&&de.writable&&function(){var Ue=f[w];Object.defineProperty(f,w,{get:function(){return Ue},set:function(nt){gt(f)},enumerable:!0})}())},W.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},W.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},W.global_multiline_regexp=function(f){var w,J;return f.global&&f.multiline?f:(J="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,J)),w=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,J)),w=f.$$gm),w.lastIndex=null,w)},W.regexp=function(f,w){for(var J,de=typeof w<"u"&&w&&w.indexOf("i")>=0,Ue=0,nt=f.length;Ue<nt;Ue++)J=f[Ue],J instanceof RegExp&&(J.ignoreCase!==de&&W.Kernel.$warn("ignore case doesn't match for "+J.source.$inspect(),W.hash({uplevel:1})),J=J.source),J===""&&(J="(?:"+J+")"),f[Ue]=J;return w?new RegExp(f.join(""),w):new RegExp(f.join(""))},W.modules={},W.loaded_features=["corelib/runtime"],W.current_dir=".",W.require_table={"corelib/runtime":!0},W.normalize=function(f){var w,J,de=[],Ue="/";W.current_dir!=="."&&(f=W.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),w=f.split(Ue);for(var nt=0,e=w.length;nt<e;nt++)J=w[nt],J!==""&&(J===".."?de.pop():de.push(J));return de.join(Ue)},W.loaded=function(f){var w,J,de;for(w=0,J=f.length;w<J;w++)de=W.normalize(f[w]),!W.require_table[de]&&(W.loaded_features.push(de),W.require_table[de]=!0)},W.load_normalized=function(f){W.loaded([f]);var w=W.modules[f];if(w){var J=w(W);if(typeof Promise<"u"&&J instanceof Promise)return J.then(ge(!0))}else{var de=W.config.missing_require_severity,Ue="cannot load such file -- "+f;de==="error"?xe(W.LoadError,Ue):de==="warning"&&Q.warn("WARNING: LoadError: "+Ue)}return!0},W.load=function(f){return f=W.normalize(f),W.load_normalized(f)},W.require=function(f){return f=W.normalize(f),W.require_table[f]?!1:W.load_normalized(f)},W.encodings=Object.create(null),W.set_encoding=function(f,w,J){typeof J>"u"&&(J="encoding"),(typeof f=="string"||f.$$frozen===!0)&&xe(W.FrozenError,"can't modify frozen String");var de=W.find_encoding(w);return de===f[J]||(f[J]=de),f},W.find_encoding=function(f){var w=W.encodings,J=w[f]||w[f.toUpperCase()];return J||xe(W.ArgumentError,"unknown encoding name - "+f),J},W.enc=function(f,w){var J=new String(f);return J=W.set_encoding(J,w),J.internal_encoding=J.encoding,J},W.binary=function(f){var w=new String(f);return W.set_encoding(w,"binary","internal_encoding")},W.last_promise=null,W.promise_unhandled_exception=!1,W.queue=function(f){if(W.last_promise)return W.last_promise=W.last_promise.then(function(){if(!W.promise_unhandled_exception)return f(W)}).catch(function(J){W.respond_to(J,"$full_message")&&(J=J.$full_message()),Q.error(J),W.promise_unhandled_exception=!0,W.exit(1)}),W.last_promise;var w=f(W);return typeof Promise=="function"&&typeof w=="object"&&w instanceof Promise&&(W.last_promise=w),w};function mt(f,w){return typeof f=="number"&&typeof w=="number"}W.rb_plus=function(f,w){return mt(f,w)?f+w:f["$+"](w)},W.rb_minus=function(f,w){return mt(f,w)?f-w:f["$-"](w)},W.rb_times=function(f,w){return mt(f,w)?f*w:f["$*"](w)},W.rb_divide=function(f,w){return mt(f,w)?f/w:f["$/"](w)},W.rb_lt=function(f,w){return mt(f,w)?f<w:f["$<"](w)},W.rb_gt=function(f,w){return mt(f,w)?f>w:f["$>"](w)},W.rb_le=function(f,w){return mt(f,w)?f<=w:f["$<="](w)},W.rb_ge=function(f,w){return mt(f,w)?f>=w:f["$>="](w)};function Qe(f,w){return typeof f=="number"&&typeof w=="number"||typeof f=="string"&&typeof w=="string"}function le(f,w){return Qe(f,w)?f===w:pe(f["$=="](w))}W.eqeq=le,W.eqeqeq=function(f,w){return Qe(f,w)?f===w:pe(f["$==="](w))},W.neqeq=function(f,w){return Qe(f,w)?f!==w:pe(f["$!="](w))},W.not=function(f){return f==null||f===!1||Re===f?!0:f===!0||f["$!"].$$pristine?!1:pe(f["$!"]())};function ge(f){return function(){return f}}W.return_val=ge,W.return_self=function(){return this},W.return_ivar=function(f){return function(){return this[f]==null?Re:this[f]}},W.assign_ivar=function(f){return function(w){return gt(this),this[f]=w}},W.assign_ivar_val=function(f,w){return function(){return gt(this),this[f]=w}},W.ensure_kwargs=function(f){if(f==null)return W.hash2([],{});if(f.$$is_hash)return f;xe(W.ArgumentError,"expected kwargs")},W.get_kwarg=function(f,w){return qe(f.$$smap,w)||xe(W.ArgumentError,"missing keyword: "+w),f.$$smap[w]},W.large_array_unpack=function(f){var w=f.split(","),J=w.length,de;for(de=0;de<J;de++)switch(w[de][0]){case void 0:w[de]=Re;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w[de]=+w[de]}return w},W.BasicObject=je=V("BasicObject",null),W.Object=_e=V("Object",W.BasicObject),W.Module=Xe=V("Module",W.Object),W.Class=ze=V("Class",W.Module),W.Opal=Te=re("Opal"),W.Kernel=ye=re("Kernel"),He(W.BasicObject,W.Class.$$prototype),He(W.Object,W.Class.$$prototype),He(W.Module,W.Class.$$prototype),He(W.Class,W.Class.$$prototype),je.$$const.BasicObject=je,I(_e,"BasicObject",je),I(_e,"Object",_e),I(_e,"Module",Xe),I(_e,"Class",ze),I(_e,"Opal",Te),I(_e,"Kernel",ye),je.$$class=ze,_e.$$class=ze,Xe.$$class=ze,ze.$$class=ze,Te.$$class=Xe,ye.$$class=Xe,$e(_e.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),$e(_e.$$prototype,"$require",W.require),W.top=new _e,W.top.$to_s=W.top.$inspect=ge("main"),W.top.$define_method=De;function De(){var f=Ge(arguments),w=De.$$p;return De.$$p=null,W.send(_e,"define_method",f,w)}W.NilClass=V("NilClass",W.Object),I(_e,"NilClass",W.NilClass),Re=W.nil=new W.NilClass,Re.$$id=te,Re.call=Re.apply=function(){xe(W.LocalJumpError,"no block given")},Re.$$frozen=!0,Re.$$comparable=!1,Object.seal(Re),W.thrower=function(f){var w=new Error("unexpected "+f);return w.$thrower_type=f,w.$throw=function(J){throw J==null&&(J=Re),w.$v=J,w},w},W.t_eval_return=W.thrower("return"),TypeError.$$super=Error,W.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function($){var Q=$.type_error,Re=$.coerce_to,je=$.module,_e=$.defs,Xe=$.slice,ze=$.eqeqeq,Te=$.Kernel,ye=$.truthy,W=$.Opal,Be=$.nil,Pe=$.$$$;return $.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(qe){var He=je(qe,"Opal");_e(He,"$bridge",function(te,Ee){return $.bridge(te,Ee)}),_e(He,"$coerce_to!",function(te,Ee,Je,Le){var xe,$e,pe=Be;return xe=Xe(arguments,3),$e=xe,pe=Re(te,Ee,Je,$e),ze(Ee,pe)||Te.$raise(Q(te,Ee,Je,pe)),pe},-4),_e(He,"$coerce_to?",function(te,Ee,Je,Le){var xe,$e,pe=Be;return xe=Xe(arguments,3),$e=xe,!ye(te["$respond_to?"](Je))||(pe=Re(te,Ee,Je,$e),ye(pe["$nil?"]()))?Be:(ze(Ee,pe)||Te.$raise(Q(te,Ee,Je,pe)),pe)},-4),_e(He,"$try_convert",function(te,Ee,Je){return ze(Ee,te)?te:ye(te["$respond_to?"](Je))?te.$__send__(Je):Be}),_e(He,"$compare",function(te,Ee){var Je=Be;return Je=te["$<=>"](Ee),ye(Je===Be)&&Te.$raise(Pe("ArgumentError"),"comparison of "+te.$class()+" with "+Ee.$class()+" failed"),Je}),_e(He,"$destructure",function(te){if(te.length==1)return te[0];if(te.$$is_array)return te;for(var Ee=new Array(te.length),Je=0,Le=Ee.length;Je<Le;Je++)Ee[Je]=te[Je];return Ee}),_e(He,"$respond_to?",function(te,Ee,Je){return Je==null&&(Je=!1),te==null||!te.$$class?!1:te["$respond_to?"](Ee,Je)},-3),_e(He,"$instance_variable_name!",function(te){return te=W["$coerce_to!"](te,Pe("String"),"to_str"),ye(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(te))||Te.$raise(Pe("NameError").$new("'"+te+"' is not allowed as an instance variable name",te)),te}),_e(He,"$class_variable_name!",function(te){return te=W["$coerce_to!"](te,Pe("String"),"to_str"),ye(te.length<3||te.slice(0,2)!=="@@")&&Te.$raise(Pe("NameError").$new("`"+te+"' is not allowed as a class variable name",te)),te}),_e(He,"$const_name?",function(te){return typeof te!="string"&&(te=W["$coerce_to!"](te,Pe("String"),"to_str")),te[0]===te[0].toUpperCase()}),_e(He,"$const_name!",function(te){var Ee=this;return ye(Pe("::","String","skip_raise")?"constant":Be)&&(te=W["$coerce_to!"](te,Pe("String"),"to_str")),(!te||te[0]!=te[0].toUpperCase())&&Ee.$raise(Pe("NameError"),"wrong constant name "+te),te}),_e(He,"$pristine",function(te,Ee){var Je,Le;Je=Xe(arguments,1),Le=Je;for(var xe,$e,pe=Le.length-1;pe>=0;pe--)xe=Le[pe],$e=te.$$prototype[$.jsid(xe)],$e&&!$e.$$stub&&($e.$$pristine=!0);return Be},-2);var Ge=[];return _e(He,"$inspect",function(te){var Ee=Be,Je=!1;return function(){try{try{return te===null?"null":te===void 0?"undefined":typeof te.$$class>"u"?Object.prototype.toString.apply(te):typeof te.$inspect!="function"||te.$inspect.$$stub||Ge.indexOf(te.$__id__())!==-1?"#<"+te.$$class+":0x"+te.$__id__().$to_s(16)+">":(Ge.push(te.$__id__()),Je=!0,te.$inspect())}catch(Le){if($.rescue(Le,[Pe("Exception")])){Ee=Le;try{return"#<"+te.$$class+":0x"+te.$__id__().$to_s(16)+">"}finally{$.pop_exception()}}else throw Le}}finally{Je&&Ge.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function($){var Q=$.truthy,Re=$.coerce_to,je=$.const_set,_e=$.Object,Xe=$.return_ivar,ze=$.assign_ivar,Te=$.ivar,ye=$.deny_frozen_access,W=$.freeze,Be=$.prop,Pe=$.jsid,qe=$.klass,He=$.defs,Ge=$.send,Ne=$.def,te=$.eqeqeq,Ee=$.Module,Je=$.Kernel,Le=$.rb_lt,xe=$.rb_gt,$e=$.slice,pe=$.to_a,ae=$.hash2,Ie=$.Opal,ne=$.return_val,me=$.eqeq,Z=$.lambda,p=$.range,oe=$.send2,I=$.find_super,V=$.alias,N=[],Ae=$.nil,re=$.$$$;return $.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(L,d,i){var r=qe(L,d,"Module"),n=[r].concat(i),s=$.$r(n);return He(r,"$allocate",function(){var g=this,y=$.allocate_module(Ae,function(){});return g!==$.Module&&Object.setPrototypeOf(y,g.$$prototype),y}),Ne(r,"$initialize",function o(){var g=o.$$p||Ae,y=this;return o.$$p=null,g!==Ae?Ge(y,"module_eval",[],g.$to_proc()):Ae}),Ne(r,"$===",function(g){var y=this;return Q(g==null)?!1:$.is_a(g,y)}),Ne(r,"$<",function(g){var y=this;te(Ee,g)||Je.$raise(re("TypeError"),"compared with non class/module");var P=y,be,tt,ot;if(P===g)return!1;for(tt=0,be=$.ancestors(y),ot=be.length;tt<ot;tt++)if(be[tt]===g)return!0;for(tt=0,be=$.ancestors(g),ot=be.length;tt<ot;tt++)if(be[tt]===y)return!1;return Ae}),Ne(r,"$<=",function(g){var y=this,P=Ae;return Q(P=y["$equal?"](g))?P:Le(y,g)}),Ne(r,"$>",function(g){var y=this;return te(Ee,g)||Je.$raise(re("TypeError"),"compared with non class/module"),Le(g,y)}),Ne(r,"$>=",function(g){var y=this,P=Ae;return Q(P=y["$equal?"](g))?P:xe(y,g)}),Ne(r,"$<=>",function(g){var y=this,P=Ae;return y===g?0:!te(Ee,g)||(P=Le(y,g),Q(P["$nil?"]()))?Ae:Q(P)?-1:1}),Ne(r,"$alias_method",function(g,y){var P=this;return ye(P),g=Re(g,re("String"),"to_str"),y=Re(y,re("String"),"to_str"),$.alias(P,g,y),P}),Ne(r,"$alias_native",function(g,y){var P=this;return y==null&&(y=g),ye(P),$.alias_native(P,g,y),P},-2),Ne(r,"$ancestors",function(){var g=this;return $.ancestors(g)}),Ne(r,"$append_features",function(g){var y=this;return ye(g),$.append_features(y,g),y}),Ne(r,"$attr_accessor",function(g){var y,P,be=this;return y=$e(arguments),P=y,Ge(be,"attr_reader",pe(P)),Ge(be,"attr_writer",pe(P))},-1),Ne(r,"$attr",function(g){var y,P,be=this;return y=$e(arguments),P=y,P.length==2&&(P[1]===!0||P[1]===!1)?(be.$warn("optional boolean argument is obsoleted",ae(["uplevel"],{uplevel:1})),P[1]?be.$attr_accessor(P[0]):be.$attr_reader(P[0]),Ae):Ge(be,"attr_reader",pe(P))},-1),Ne(r,"$attr_reader",function(g){var y,P,be=this;y=$e(arguments),P=y,ye(be);for(var tt=be.$$prototype,ot=P.length-1;ot>=0;ot--){var lt=P[ot],vt=Pe(lt),_t=Te(lt),bt=Xe(_t);$.prop(tt,_t,Ae),bt.$$parameters=[],bt.$$arity=0,$.defn(be,vt,bt)}return Ae},-1),Ne(r,"$attr_writer",function(g){var y,P,be=this;y=$e(arguments),P=y,ye(be);for(var tt=be.$$prototype,ot=P.length-1;ot>=0;ot--){var lt=P[ot],vt=Pe(lt+"="),_t=Te(lt),bt=ze(_t);bt.$$parameters=[["req"]],bt.$$arity=1,$.prop(tt,_t,Ae),$.defn(be,vt,bt)}return Ae},-1),Ne(r,"$autoload",function(g,y){var P=this;return ye(P),s("Opal")["$const_name?"](g)||Je.$raise(re("NameError"),"autoload must be constant name: "+g),y==""&&Je.$raise(re("ArgumentError"),"empty file name"),P.$$const.hasOwnProperty(g)||(P.$$autoload||(P.$$autoload={}),$.const_cache_version++,P.$$autoload[g]={path:y,loaded:!1,required:!1,success:!1,exception:!1},P.$const_added&&!P.$const_added.$$pristine&&P.$const_added(g)),Ae}),Ne(r,"$autoload?",function(g){var y=this;if(y.$$autoload&&y.$$autoload[g]&&!y.$$autoload[g].required&&!y.$$autoload[g].success)return y.$$autoload[g].path;for(var P=y.$ancestors(),be=0,tt=P.length;be<tt;be++)if(P[be].$$autoload&&P[be].$$autoload[g]&&!P[be].$$autoload[g].required&&!P[be].$$autoload[g].success)return P[be].$$autoload[g].path;return Ae}),Ne(r,"$class_variables",function(){var g=this;return Object.keys($.class_variables(g))}),Ne(r,"$class_variable_get",function(g){var y=this;return g=Ie["$class_variable_name!"](g),$.class_variable_get(y,g,!1)}),Ne(r,"$class_variable_set",function(g,y){var P=this;return ye(P),g=Ie["$class_variable_name!"](g),$.class_variable_set(P,g,y)}),Ne(r,"$class_variable_defined?",function(g){var y=this;return g=Ie["$class_variable_name!"](g),$.class_variables(y).hasOwnProperty(g)}),Ne(r,"$const_added",ne(Ae)),Ie.$pristine(r,"const_added"),Ne(r,"$remove_class_variable",function(g){var y=this;if(ye(y),g=Ie["$class_variable_name!"](g),$.hasOwnProperty.call(y.$$cvars,g)){var P=y.$$cvars[g];return delete y.$$cvars[g],P}else Je.$raise(re("NameError"),"cannot remove "+g+" for "+y)}),Ne(r,"$constants",function(g){var y=this;return g==null&&(g=!0),$.constants(y,g)},-1),He(r,"$constants",function(g){var y=this;if(g==null){var P=(y.$$nesting||[]).concat(_e),be,tt={},ot,lt;for(ot=0,lt=P.length;ot<lt;ot++)for(be in P[ot].$$const)tt[be]=!0;return Object.keys(tt)}else return $.constants(y,g)},-1),He(r,"$nesting",function(){var g=this;return g.$$nesting||[]}),Ne(r,"$const_defined?",function(g,y){var P=this;y==null&&(y=!0),g=s("Opal")["$const_name!"](g),Q(g["$=~"](re(Ie,"CONST_NAME_REGEXP")))||Je.$raise(re("NameError").$new("wrong constant name "+g,g));var be,tt=[P],ot,lt;for(y&&(tt=tt.concat($.ancestors(P)),P.$$is_module&&(tt=tt.concat([_e]).concat($.ancestors(_e)))),ot=0,lt=tt.length;ot<lt;ot++)if(be=tt[ot],be.$$const[g]!=null||be.$$autoload&&be.$$autoload[g]&&!be.$$autoload[g].required&&!be.$$autoload[g].success)return!0;return!1},-2),Ne(r,"$const_get",function(g,y){var P=this;return y==null&&(y=!0),g=s("Opal")["$const_name!"](g),g.indexOf("::")===0&&g!=="::"&&(g=g.slice(2)),Q(g.indexOf("::")!=-1&&g!="::")?Ge(g.$split("::"),"inject",[P],function(tt,ot){return tt==null&&(tt=Ae),ot==null&&(ot=Ae),tt.$const_get(ot)}):(Q(g["$=~"](re(Ie,"CONST_NAME_REGEXP")))||Je.$raise(re("NameError").$new("wrong constant name "+g,g)),y?$.$$([P],g):$.const_get_local(P,g))},-2),Ne(r,"$const_missing",function(g){var y=this,P=Ae;return P=me(y,_e)?g:""+y+"::"+g,Je.$raise(re("NameError").$new("uninitialized constant "+P,g))}),Ne(r,"$const_set",function(g,y){var P=this;return ye(P),g=Ie["$const_name!"](g),(Q(g["$!~"](re(Ie,"CONST_NAME_REGEXP")))||Q(g["$start_with?"]("::")))&&Je.$raise(re("NameError").$new("wrong constant name "+g,g)),je(P,g,y),y}),Ne(r,"$public_constant",ne(Ae)),Ne(r,"$define_method",function o(g,y){var P=o.$$p||Ae,be=this,tt=Ae,ot=Ae;return o.$$p=null,ye(be),y===void 0&&P===Ae&&Je.$raise(re("ArgumentError"),"tried to create a Proc object without a block"),P=Q(tt=P)?tt:te(re("Proc"),ot=y)?y:te(re("Method"),ot)?y.$to_proc().$$unbound:te(re("UnboundMethod"),ot)?Z(function lt(vt){var _t,bt,pt=lt.$$s==null?this:lt.$$s,gt=Ae;return _t=$e(arguments),bt=_t,gt=y.$bind(pt),Ge(gt,"call",pe(bt))},{$$arity:-1,$$s:be}):Je.$raise(re("TypeError"),"wrong argument type "+P.$class()+" (expected Proc/Method)"),typeof Proxy<"u"&&(P.$$proxy_target=P,P=new Proxy(P,{apply:function(lt,vt,_t){var bt=lt.$$jsid;lt.$$jsid=g;try{return lt.apply(vt,_t)}catch(pt){if(pt===lt.$$brk||pt===lt.$$ret)return pt.$v;throw pt}finally{lt.$$jsid=bt}}})),P.$$jsid=g,P.$$s=null,P.$$def=P,P.$$define_meth=!0,$.defn(be,Pe(g),P)},-2),Ne(r,"$freeze",function(){var g=this;return Q(g["$frozen?"]())?g:(g.hasOwnProperty("$$base_module")||Be(g,"$$base_module",null),W(g))}),Ne(r,"$remove_method",function(g){var y,P,be=this;y=$e(arguments),P=y;for(var tt=0;tt<P.length;tt++){var ot=P[tt];typeof ot=="string"||ot.$$is_string||be.$raise(re("TypeError"),""+be.$name()+" is not a symbol nor a string"),ye(be),$.rdef(be,"$"+ot)}return be},-1),Ne(r,"$singleton_class?",function(){var g=this;return!!g.$$is_singleton}),Ne(r,"$include",function(g){var y,P,be=this;y=$e(arguments),P=y;for(var tt=P.length-1;tt>=0;tt--){var ot=P[tt];ot.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$append_features(be),ot.$included(be)}return be},-1),Ne(r,"$included_modules",function(){var g=this;return $.included_modules(g)}),Ne(r,"$include?",function(g){var y=this;g.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+g.$class()+" (expected Module)");var P,be,tt,ot=$.ancestors(y);for(P=0,be=ot.length;P<be;P++)if(tt=ot[P],tt===g&&tt!==y)return!0;return!1}),Ne(r,"$instance_method",function(g){var y=this,P=y.$$prototype[Pe(g)];return(!P||P.$$stub)&&Je.$raise(re("NameError").$new("undefined method `"+g+"' for class `"+y.$name()+"'",g)),re("UnboundMethod").$new(y,P.$$owner||y,P,g)}),Ne(r,"$instance_methods",function(g){var y=this;return g==null&&(g=!0),Q(g)?$.instance_methods(y):$.own_instance_methods(y)},-1),Ne(r,"$included",ne(Ae)),Ne(r,"$extended",ne(Ae)),Ne(r,"$extend_object",function(g){return ye(g),Ae}),Ne(r,"$method_added",function(g){return $e(arguments),Ae},-1),Ne(r,"$method_removed",function(g){return $e(arguments),Ae},-1),Ne(r,"$method_undefined",function(g){return $e(arguments),Ae},-1),Ne(r,"$module_eval",function o(g){var y=o.$$p||Ae,P,be,tt,ot=this,lt=Ae,vt=Ae,_t=Ae,bt=Ae,pt=Ae,gt=Ae;o.$$p=null,P=$e(arguments),be=P,Q(y["$nil?"]())&&Q(!!$.compile)?(Q(p(1,3,!1)["$cover?"](be.$size()))||Je.$raise(re("ArgumentError"),"wrong number of arguments (0 for 1..3)"),tt=[].concat(pe(be)),lt=tt[0]==null?Ae:tt[0],vt=tt[1]==null?Ae:tt[1],tt[2]==null||tt[2],_t=ae(["file","eval"],{file:Q(bt=vt)?bt:"(eval)",eval:!0}),pt=$.hash({arity_check:!1}).$merge(_t),gt=Ie.$compile(lt,pt),y=Ge(Je,"proc",[],function le(){var ge=le.$$s==null?this:le.$$s;return new Function("Opal,self","return "+gt)($,ge)},{$$s:ot})):Q(be["$any?"]())&&Je.$raise(re("ArgumentError"),"wrong number of arguments ("+be.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var mt=y.$$s,Qe;return y.$$s=null,Qe=y.apply(ot,[ot]),y.$$s=mt,Qe},-1),Ne(r,"$module_exec",function o(g){var y=o.$$p||Ae,P,be,tt=this;o.$$p=null,P=$e(arguments),be=P,y===Ae&&Je.$raise(re("LocalJumpError"),"no block given");var ot=y.$$s,lt;return y.$$s=null,lt=y.apply(tt,be),y.$$s=ot,lt},-1),Ne(r,"$method_defined?",function(g){var y=this,P=y.$$prototype[Pe(g)];return!!P&&!P.$$stub}),Ne(r,"$module_function",function(g){var y,P,be=this;if(y=$e(arguments),P=y,ye(be),P.length===0)return be.$$module_function=!0,Ae;for(var tt=0,ot=P.length;tt<ot;tt++){var lt=P[tt],vt=Pe(lt),_t=be.$$prototype[vt];$.defs(be,vt,_t)}return P.length===1?P[0]:P},-1),Ne(r,"$name",function(){var g=this;if(g.$$full_name)return g.$$full_name;for(var y=[],P=g;P;){if(P.$$name===Ae||P.$$name==null)return Ae;if(y.unshift(P.$$name),P=P.$$base_module,P===_e)break}return y.length===0?Ae:g.$$full_name=y.join("::")}),Ne(r,"$prepend",function(g){var y,P,be=this;y=$e(arguments),P=y,P.length===0&&Je.$raise(re("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var tt=P.length-1;tt>=0;tt--){var ot=P[tt];ot.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$prepend_features(be),ot.$prepended(be)}return be},-1),Ne(r,"$prepend_features",function(g){var y=this;return ye(g),y.$$is_module||Je.$raise(re("TypeError"),"wrong argument type "+y.$class()+" (expected Module)"),$.prepend_features(y,g),y}),Ne(r,"$prepended",ne(Ae)),Ne(r,"$remove_const",function(g){var y=this;return ye(y),$.const_remove(y,g)}),Ne(r,"$to_s",function(){var g=this,y=Ae;return Q(y=$.Module.$name.call(g))?y:"#<"+(g.$$is_module?"Module":"Class")+":0x"+g.$__id__().$to_s(16)+">"}),Ne(r,"$undef_method",function(g){var y,P,be=this;y=$e(arguments),P=y;for(var tt=0;tt<P.length;tt++){var ot=P[tt];typeof ot=="string"||ot.$$is_string||be.$raise(re("TypeError"),""+be.$name()+" is not a symbol nor a string"),ye(be),$.udef(be,"$"+P[tt])}return be},-1),Ne(r,"$instance_variables",function(){var g=this,y=Ae;y=($.Module.$$nesting=n,g.$constants());var P=[];for(var be in g)g.hasOwnProperty(be)&&be.charAt(0)!=="$"&&be!=="constructor"&&!y["$include?"](be)&&P.push("@"+be);return P}),Ne(r,"$dup",function o(){var g=o.$$p||Ae,y=this,P=Ae;return o.$$p=null,P=oe(y,I(y,"dup",o,!1,!0),"dup",[],g),P.$copy_class_variables(y),P.$copy_constants(y),P}),Ne(r,"$copy_class_variables",function(g){var y=this;for(var P in g.$$cvars)y.$$cvars[P]=g.$$cvars[P]}),Ne(r,"$copy_constants",function(g){var y=this,P,be=g.$$const;for(P in be)je(y,P,be[P])}),Ne(r,"$refine",function o(g){var y=o.$$p||Ae,P,be=this,tt=Ae,ot=Ae,lt=Ae;return o.$$p=null,P=[be,Ae,Ae],tt=P[0],ot=P[1],lt=P[2],lt=$.id(g),typeof be.$$refine_modules>"u"&&(be.$$refine_modules=Object.create(null)),typeof be.$$refine_modules[lt]>"u"?ot=be.$$refine_modules[lt]=re("Refinement").$new():ot=be.$$refine_modules[lt],ot.refinement_module=tt,ot.refined_class=g,Ge(ot,"class_exec",[],y.$to_proc()),ot}),Ne(r,"$refinements",function(){var g=this,y=g.$$refine_modules,P=ae([],{});if(typeof y>"u")return P;for(var be in y)P["$[]="](y[be].refined_class,y[be]);return P}),Ne(r,"$using",function(g){return Je.$raise("Module#using is not permitted in methods")}),V(r,"class_eval","module_eval"),V(r,"class_exec","module_exec"),V(r,"inspect","to_s")}("::",null,N),function(L,d){var i=qe(L,d,"Refinement"),r=i.$$prototype;return r.refinement_module=r.refined_class=Ae,i.$attr_reader("refined_class"),Ne(i,"$inspect",function n(){var s=n.$$p||Ae,o=this;return n.$$p=null,Q(o.refinement_module)?"#<refinement:"+o.refined_class.$inspect()+"@"+o.refinement_module.$inspect()+">":oe(o,I(o,"inspect",n,!1,!0),"inspect",[],s)})}("::",Ee)};Opal.modules["corelib/class"]=function($){var Q=$.klass,Re=$.send,je=$.defs,_e=$.def,Xe=$.rb_plus,ze=$.return_val,Te=$.slice,ye=$.send2,W=$.find_super,Be=$.Kernel,Pe=$.alias,qe=$.top,He=[],Ge=$.nil,Ne=$.$$$;return $.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),qe.$require("corelib/module"),function(te,Ee,Je){var Le=Q(te,Ee,"Class"),xe=[Le].concat(Je),$e=$.$r(xe);return je(Le,"$new",function pe(ae){var Ie=pe.$$p||Ge;if(pe.$$p=null,ae==null&&(ae=$e("Object")),!ae.$$is_class)throw $.TypeError.$new("superclass must be a Class");var ne=$.allocate_class(Ge,ae);return ae.$inherited(ne),Ie!==Ge&&Re(ne,"class_eval",[],Ie.$to_proc()),ne},-1),_e(Le,"$allocate",function(){var ae=this,Ie=new ae.$$constructor;return Ie.$$id=$.uid(),Ie}),_e(Le,"$descendants",function(){var ae=this;return Xe(ae.$subclasses(),Re(ae.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),_e(Le,"$inherited",ze(Ge)),_e(Le,"$initialize_dup",function(ae){var Ie=this;Ie.$initialize_copy(ae),Ie.$$name=null,Ie.$$full_name=null}),_e(Le,"$new",function pe(ae){var Ie=pe.$$p||Ge,ne,me,Z=this;pe.$$p=null,ne=Te(arguments),me=ne;var p=Z.$allocate();return $.send(p,p.$initialize,me,Ie),p},-1),_e(Le,"$subclasses",function(){var ae=this;if(typeof WeakRef<"u"){var Ie,ne,me=[];for(Ie=0;Ie<ae.$$subclasses.length;Ie++)ne=ae.$$subclasses[Ie].deref(),ne!==void 0&&me.push(ne);return me}else return ae.$$subclasses}),_e(Le,"$superclass",function(){var ae=this;return ae.$$super||Ge}),_e(Le,"$to_s",function pe(){pe.$$p;var ae=this;pe.$$p=null;var Ie=ae.$$singleton_of;return Ie&&Ie.$$is_a_module?"#<Class:"+Ie.$name()+">":Ie?"#<Class:#<"+Ie.$$class.$name()+":0x"+$.id(Ie).$to_s(16)+">>":ye(ae,W(ae,"to_s",pe,!1,!0),"to_s",[],null)}),_e(Le,"$attached_object",function(){var ae=this;if(ae.$$singleton_of!=null)return ae.$$singleton_of;Be.$raise(Ne("TypeError"),"`"+ae+"' is not a singleton class")}),Pe(Le,"inspect","to_s")}("::",null,He)};Opal.modules["corelib/basic_object"]=function($){var Q=$.klass,Re=$.slice,je=$.def,_e=$.alias,Xe=$.return_val,ze=$.Opal,Te=$.truthy,ye=$.range,W=$.Kernel,Be=$.to_a,Pe=$.hash2,qe=$.send,He=$.eqeq,Ge=$.rb_ge,Ne=$.nil,te=$.$$$;return $.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(Ee,Je){var Le=Q(Ee,Je,"BasicObject");return je(Le,"$initialize",function($e){return Re(arguments),Ne},-1),je(Le,"$==",function($e){var pe=this;return pe===$e}),je(Le,"$eql?",function($e){var pe=this;return pe["$=="]($e)}),_e(Le,"equal?","=="),je(Le,"$__id__",function(){var $e=this;return $e.$$id!=null||$.prop($e,"$$id",$.uid()),$e.$$id}),je(Le,"$__send__",function xe($e,pe){var ae=xe.$$p||Ne,Ie,ne,me=this;xe.$$p=null,Ie=Re(arguments,1),ne=Ie,$e.$$is_string||me.$raise(te("TypeError"),""+me.$inspect()+" is not a symbol nor a string");var Z=me[$.jsid($e)];return Z?(ae!==Ne&&(Z.$$p=ae),Z.apply(me,ne)):(ae!==Ne&&(me.$method_missing.$$p=ae),me.$method_missing.apply(me,[$e].concat(ne)))},-2),je(Le,"$!",Xe(!1)),ze.$pristine("!"),je(Le,"$!=",function($e){var pe=this;return pe["$=="]($e)["$!"]()}),je(Le,"$instance_eval",function xe($e){var pe=xe.$$p||Ne,ae,Ie,ne,me=this,Z=Ne,p=Ne,oe=Ne,I=Ne,V=Ne,N=Ne;if(xe.$$p=null,ae=Re(arguments),Ie=ae,Te(pe["$nil?"]())&&Te(!!$.compile))Te(ye(1,3,!1)["$cover?"](Ie.$size()))||W.$raise(te("ArgumentError"),"wrong number of arguments (0 for 1..3)"),ne=[].concat(Be(Ie)),Z=ne[0]==null?Ne:ne[0],p=ne[1]==null?Ne:ne[1],ne[2]==null||ne[2],oe=Pe(["file","eval"],{file:Te(I=p)?I:"(eval)",eval:!0}),V=$.hash({arity_check:!1}).$merge(oe),N=ze.$compile(Z,V),pe=qe(W,"proc",[],function L(){var d=L.$$s==null?this:L.$$s;return new Function("Opal,self","return "+N)($,d)},{$$s:me});else{if(Te(pe["$nil?"]())&&Te(Ge(Ie.$length(),1))&&He(Ie.$first()["$[]"](0),"@"))return me.$instance_variable_get(Ie.$first());Te(Ie["$any?"]())&&W.$raise(te("ArgumentError"),"wrong number of arguments ("+Ie.$size()+" for 0)")}var Ae=pe.$$s,re;if(pe.$$s=null,me.$$is_a_module){me.$$eval=!0;try{re=pe.call(me,me)}finally{me.$$eval=!1}}else re=pe.call(me,me);return pe.$$s=Ae,re},-1),je(Le,"$instance_exec",function xe($e){var pe=xe.$$p||Ne,ae,Ie,ne=this;xe.$$p=null,ae=Re(arguments),Ie=ae,Te(pe)||W.$raise(te("ArgumentError"),"no block given");var me=pe.$$s,Z;if(pe.$$s=null,ne.$$is_a_module){ne.$$eval=!0;try{Z=pe.apply(ne,Ie)}finally{ne.$$eval=!1}}else Z=pe.apply(ne,Ie);return pe.$$s=me,Z},-1),je(Le,"$singleton_method_added",function($e){return Re(arguments),Ne},-1),je(Le,"$singleton_method_removed",function($e){return Re(arguments),Ne},-1),je(Le,"$singleton_method_undefined",function($e){return Re(arguments),Ne},-1),je(Le,"$method_missing",function xe($e,pe){xe.$$p;var ae,Ie,ne=this,me=Ne;return xe.$$p=null,ae=Re(arguments,1),Ie=ae,me=ze.$inspect(ne),W.$raise(te("NoMethodError").$new("undefined method `"+$e+"' for "+me,$e,Ie),Ne,W.$caller(1))},-2),ze.$pristine(Le,"method_missing"),je(Le,"$respond_to_missing?",function($e,pe){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function($){var Q=$.truthy,Re=$.coerce_to,je=$.respond_to,_e=$.Opal,Xe=$.deny_frozen_access,ze=$.freeze,Te=$.freeze_props,ye=$.jsid,W=$.module,Be=$.return_val,Pe=$.def,qe=$.Kernel,He=$.gvars,Ge=$.slice,Ne=$.send,te=$.to_a,Ee=$.ensure_kwargs,Je=$.eqeq,Le=$.hash2,xe=$.rb_plus,$e=$.eqeqeq,pe=$.return_self,ae=$.rb_le,Ie=$.extract_kwargs,ne=$.rb_lt,me=$.Object,Z=$.alias,p=$.klass,oe=[],I=$.nil,V=$.$$$;return $.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(N,Ae){var re=W(N,"Kernel"),L=[re].concat(Ae),d=$.$r(L);Pe(re,"$=~",Be(!1)),Pe(re,"$!~",function(n){var s=this;return s["$=~"](n)["$!"]()}),Pe(re,"$===",function(n){var s=this,o=I;return Q(o=s.$object_id()["$=="](n.$object_id()))?o:s["$=="](n)}),Pe(re,"$<=>",function(n){var s=this;s.$$comparable=!0;var o=s["$=="](n);return o&&o!==I?0:I}),Pe(re,"$method",function(n){var s=this,o=s[ye(n)];return(!o||o.$$stub)&&qe.$raise(V("NameError").$new("undefined method `"+n+"' for class `"+s.$class()+"'",n)),V("Method").$new(s,o.$$owner||s.$class(),o,n)}),Pe(re,"$methods",function(n){var s=this;return n==null&&(n=!0),Q(n)?$.methods(s):$.own_methods(s)},-1),Pe(re,"$public_methods",function(n){var s=this;return n==null&&(n=!0),Q(n)?$.methods(s):$.receiver_methods(s)},-1),Pe(re,"$Array",function(n){var s;return n===I?[]:n.$$is_array?n:(s=_e["$coerce_to?"](n,V("Array"),"to_ary"),s!==I||(s=_e["$coerce_to?"](n,V("Array"),"to_a"),s!==I)?s:[n])}),Pe(re,"$at_exit",function r(){var n=r.$$p||I,s=I;return He.__at_exit__==null&&(He.__at_exit__=I),r.$$p=null,He.__at_exit__=Q(s=He.__at_exit__)?s:[],He.__at_exit__["$<<"](n),n}),Pe(re,"$caller",function(n,s){n==null&&(n=1),s==null&&(s=I);var o,g;o=new Error().$backtrace(),g=[];for(var y=n+1,P=o.length;y<P;y++)o[y].match(/runtime\.js/)||g.push(o[y]);return s!=I&&(g=g.slice(0,s)),g},-1),Pe(re,"$caller_locations",function(n){var s,o,g=this;return s=Ge(arguments),o=s,Ne(Ne(g,"caller",te(o)),"map",[],function(P){return P==null&&(P=I),V(V(V("Thread"),"Backtrace"),"Location").$new(P)})},-1),Pe(re,"$class",function(){var n=this;return n.$$class}),Pe(re,"$copy_instance_variables",function(n){var s=this,o=Object.keys(n),g,y,P;for(g=0,y=o.length;g<y;g++)P=o[g],P.charAt(0)!=="$"&&n.hasOwnProperty(P)&&(s[P]=n[P])}),Pe(re,"$copy_singleton_methods",function(n){var s=this,o,g,y,P;if(n.hasOwnProperty("$$meta")&&n.$$meta!==null){var be=$.get_singleton_class(n),tt=$.get_singleton_class(s);for(y=Object.getOwnPropertyNames(be.$$prototype),o=0,P=y.length;o<P;o++)g=y[o],$.is_method(g)&&(tt.$$prototype[g]=be.$$prototype[g]);tt.$$const=Object.assign({},be.$$const),Object.setPrototypeOf(tt.$$prototype,Object.getPrototypeOf(be.$$prototype))}for(o=0,y=Object.getOwnPropertyNames(n),P=y.length;o<P;o++)g=y[o],g.charAt(0)==="$"&&g.charAt(1)!=="$"&&n.hasOwnProperty(g)&&(s[g]=n[g])}),Pe(re,"$clone",function(n){var s,o=this,g=I;return n=Ee(n),s=n.$$smap.freeze,s==null&&(s=I),Q(s["$nil?"]())||Je(s,!0)||Je(s,!1)||o.$raise(d("ArgumentError"),"unexpected value for freeze: "+s.$class()),g=o.$class().$allocate(),g.$copy_instance_variables(o),g.$copy_singleton_methods(o),g.$initialize_clone(o,Le(["freeze"],{freeze:s})),(Je(s,!0)||Q(s["$nil?"]())&&Q(o["$frozen?"]()))&&g.$freeze(),g},-1),Pe(re,"$initialize_clone",function(n,s){var o=this;return s=Ee(s),s.$$smap.freeze,o.$initialize_copy(n),o},-2),Pe(re,"$define_singleton_method",function r(n,s){var o=r.$$p||I,g=this;return r.$$p=null,Ne(g.$singleton_class(),"define_method",[n,s],o.$to_proc())},-2),Pe(re,"$dup",function(){var n=this,s=I;return s=n.$class().$allocate(),s.$copy_instance_variables(n),s.$initialize_dup(n),s}),Pe(re,"$initialize_dup",function(n){var s=this;return s.$initialize_copy(n)}),Pe(re,"$enum_for",function r(n,s){var o=r.$$p||I,g,y,P,be=this;return r.$$p=null,g=Ge(arguments),g.length>0&&(y=g.shift()),y==null&&(y="each"),P=g,Ne(V("Enumerator"),"for",[be,y].concat(te(P)),o.$to_proc())},-1),Pe(re,"$equal?",function(n){var s=this;return s===n}),Pe(re,"$exit",function(n){var s=I,o=I;for(He.__at_exit__==null&&(He.__at_exit__=I),n==null&&(n=!0),He.__at_exit__=Q(s=He.__at_exit__)?s:[];!Q(He.__at_exit__["$empty?"]());)o=He.__at_exit__.$pop(),o.$call();return n.$$is_boolean?n=n?0:1:n=Re(n,V("Integer"),"to_int"),$.exit(n),I},-1),Pe(re,"$extend",function(n){var s,o,g=this;s=Ge(arguments),o=s,o.length==0&&g.$raise(V("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),Xe(g);for(var y=g.$singleton_class(),P=o.length-1;P>=0;P--){var be=o[P];be.$$is_module||qe.$raise(V("TypeError"),"wrong argument type "+be.$class()+" (expected Module)"),be.$append_features(y),be.$extend_object(g),be.$extended(g)}return g},-1),Pe(re,"$freeze",function(){var n=this;return Q(n["$frozen?"]())?n:typeof n=="object"?(Te(n),ze(n)):n}),Pe(re,"$frozen?",function(){var n=this;switch(typeof n){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return n.$$frozen||!1;default:return!1}}),Pe(re,"$gets",function(n){var s,o;return He.stdin==null&&(He.stdin=I),s=Ge(arguments),o=s,Ne(He.stdin,"gets",te(o))},-1),Pe(re,"$hash",function(){var n=this;return n.$__id__()}),Pe(re,"$initialize_copy",Be(I));var i=[];return Pe(re,"$inspect",function(){var n=this,s=I,o=I,g=I,y=I;return function(){try{try{return s="",o=n.$__id__(),Q(i["$include?"](o))?s=" ...":(i["$<<"](o),g=!0,Ne(n.$instance_variables(),"each",[],function P(be){var tt=P.$$s==null?this:P.$$s,ot=I,lt=I;return be==null&&(be=I),ot=tt.$instance_variable_get(be),lt=d("Opal").$inspect(ot),s=xe(s," "+be+"="+lt)},{$$s:n})),"#<"+n.$class()+":0x"+o.$to_s(16)+s+">"}catch(P){if($.rescue(P,[d("StandardError")])){y=P;try{return"#<"+n.$class()+":0x"+o.$to_s(16)+">"}finally{$.pop_exception()}}else throw P}}finally{Q(g)&&i.$pop()}}()}),Pe(re,"$instance_of?",function(n){var s=this;return!n.$$is_class&&!n.$$is_module&&qe.$raise(V("TypeError"),"class or module required"),s.$$class===n}),Pe(re,"$instance_variable_defined?",function(n){var s=this;return n=_e["$instance_variable_name!"](n),$.hasOwnProperty.call(s,n.substr(1))}),Pe(re,"$instance_variable_get",function(n){var s=this;n=_e["$instance_variable_name!"](n);var o=s[$.ivar(n.substr(1))];return o??I}),Pe(re,"$instance_variable_set",function(n,s){var o=this;return Xe(o),n=_e["$instance_variable_name!"](n),o[$.ivar(n.substr(1))]=s}),Pe(re,"$remove_instance_variable",function(n){var s=this;n=_e["$instance_variable_name!"](n);var o=$.ivar(n.substr(1)),g;return s.hasOwnProperty(o)?(g=s[o],delete s[o],g):qe.$raise(V("NameError"),"instance variable "+n+" not defined")}),Pe(re,"$instance_variables",function(){var n=this,s=[],o;for(var g in n)n.hasOwnProperty(g)&&g.charAt(0)!=="$"&&(g.substr(-1)==="$"?o=g.slice(0,g.length-1):o=g,s.push("@"+o));return s}),Pe(re,"$Integer",function(n,s){var o,g,y;return n.$$is_string?n==="0"?0:(s===void 0?s=0:(s=Re(s,V("Integer"),"to_int"),(s===1||s<0||s>36)&&qe.$raise(V("ArgumentError"),"invalid radix "+s)),g=n.toLowerCase(),g=g.replace(/(\d)_(?=\d)/g,"$1"),g=g.replace(/^(\s*[+-]?)(0[bodx]?)/,function(P,be,tt){switch(tt){case"0b":if(s===0||s===2)return s=2,be;case"0":case"0o":if(s===0||s===8)return s=8,be;case"0d":if(s===0||s===10)return s=10,be;case"0x":if(s===0||s===16)return s=16,be}qe.$raise(V("ArgumentError"),'invalid value for Integer(): "'+n+'"')}),s=s===0?10:s,y="0-"+(s<=10?s-1:"9a-"+String.fromCharCode(97+(s-11))),new RegExp("^\\s*[+-]?["+y+"]+\\s*$").test(g)||qe.$raise(V("ArgumentError"),'invalid value for Integer(): "'+n+'"'),o=parseInt(g,s),isNaN(o)&&qe.$raise(V("ArgumentError"),'invalid value for Integer(): "'+n+'"'),o):(s!==void 0&&qe.$raise(V("ArgumentError"),"base specified for non string value"),n===I&&qe.$raise(V("TypeError"),"can't convert nil into Integer"),n.$$is_number?((n===1/0||n===-1/0||isNaN(n))&&qe.$raise(V("FloatDomainError"),n),Math.floor(n)):n["$respond_to?"]("to_int")&&(o=n.$to_int(),o!==I)?o:_e["$coerce_to!"](n,V("Integer"),"to_i"))},-2),Pe(re,"$Float",function(n){var s;return n===I&&qe.$raise(V("TypeError"),"can't convert nil into Float"),n.$$is_string?(s=n.toString(),s=s.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(s)?qe.$Integer(s):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(s)||qe.$raise(V("ArgumentError"),'invalid value for Float(): "'+n+'"'),parseFloat(s))):_e["$coerce_to!"](n,V("Float"),"to_f")}),Pe(re,"$Hash",function(n){return Q(n["$nil?"]())||Je(n,[])?Le([],{}):$e(V("Hash"),n)?n:_e["$coerce_to!"](n,V("Hash"),"to_hash")}),Pe(re,"$is_a?",function(n){var s=this;return!n.$$is_class&&!n.$$is_module&&qe.$raise(V("TypeError"),"class or module required"),$.is_a(s,n)}),Pe(re,"$itself",pe),Pe(re,"$lambda",function r(){var n=r.$$p||I;return r.$$p=null,$.lambda(n)}),Pe(re,"$load",function(n){return n=_e["$coerce_to!"](n,V("String"),"to_str"),$.load(n)}),Pe(re,"$loop",function r(){var n=r.$$p||I,s=this,o=I;if(r.$$p=null,n===I)return Ne(s,"enum_for",["loop"],function(){return V(V("Float"),"INFINITY")});for(;Q(!0);)try{$.yieldX(n,[])}catch(g){if($.rescue(g,[V("StopIteration")])){o=g;try{return o.$result()}finally{$.pop_exception()}}else throw g}return s}),Pe(re,"$nil?",Be(!1)),Pe(re,"$printf",function(n){var s,o,g=this;return s=Ge(arguments),o=s,Q(o["$any?"]())&&g.$print(Ne(g,"format",te(o))),I},-1),Pe(re,"$proc",function r(){var n=r.$$p||I;return r.$$p=null,Q(n)||qe.$raise(V("ArgumentError"),"tried to create Proc object without a block"),n.$$is_lambda=!1,n}),Pe(re,"$puts",function(n){var s,o;return He.stdout==null&&(He.stdout=I),s=Ge(arguments),o=s,Ne(He.stdout,"puts",te(o))},-1),Pe(re,"$p",function(n){var s,o;return s=Ge(arguments),o=s,Ne(o,"each",[],function(y){return He.stdout==null&&(He.stdout=I),y==null&&(y=I),He.stdout.$puts(y.$inspect())}),Q(ae(o.$length(),1))?o["$[]"](0):o},-1),Pe(re,"$print",function(n){var s,o;return He.stdout==null&&(He.stdout=I),s=Ge(arguments),o=s,Ne(He.stdout,"print",te(o))},-1),Pe(re,"$readline",function(n){var s,o;return He.stdin==null&&(He.stdin=I),s=Ge(arguments),o=s,Ne(He.stdin,"readline",te(o))},-1),Pe(re,"$warn",function(n,s){var o,g,y,P,be,tt,ot=this,lt=I;return He.VERBOSE==null&&(He.VERBOSE=I),He.stderr==null&&(He.stderr=I),o=Ge(arguments),g=Ie(o),g=Ee(g),y=o,P=g.$$smap.uplevel,P==null&&(P=I),Q(P)&&(P=_e["$coerce_to!"](P,V("Integer"),"to_str"),Q(ne(P,0))&&qe.$raise(V("ArgumentError"),"negative level ("+P+")"),lt=(be=(tt=ot.$caller(xe(P,1),1).$first(),tt===I||tt==null?I:tt.$split(":in `")),be===I||be==null?I:be.$first()),Q(lt)&&(lt=""+lt+": "),y=Ne(y,"map",[],function(_t){return _t==null&&(_t=I),""+lt+"warning: "+_t})),Q(He.VERBOSE["$nil?"]())||Q(y["$empty?"]())?I:Ne(He.stderr,"puts",te(y))},-1),Pe(re,"$raise",function(n,s,o){throw He["!"]==null&&(He["!"]=I),He["@"]==null&&(He["@"]=I),s==null&&(s=I),o==null&&(o=I),n==null&&He["!"]!==I?He["!"]:(n==null?n=V("RuntimeError").$new(""):je(n,"$to_str")?n=V("RuntimeError").$new(n.$to_str()):n.$$is_class&&je(n,"$exception")?n=n.$exception(s):n.$$is_exception||(n=V("TypeError").$new("exception class/object expected")),o!==I&&n.$set_backtrace(o),He["!"]!==I&&$.exceptions.push(He["!"]),He["!"]=n,He["@"]=n.$backtrace(),n)},-1),Pe(re,"$rand",function(n){return n===void 0?V(V("Random"),"DEFAULT").$rand():(n.$$is_number&&(n<0&&(n=Math.abs(n)),n%1!==0&&(n=n.$to_i()),n===0&&(n=void 0)),V(V("Random"),"DEFAULT").$rand(n))},-1),Pe(re,"$respond_to?",function(n,s){var o=this;s==null&&(s=!1);var g=o[ye(n)];return typeof g=="function"&&!g.$$stub?!0:o["$respond_to_missing?"].$$pristine===!0?!1:o["$respond_to_missing?"](n,s)},-2),Pe(re,"$respond_to_missing?",function(n,s){return!1},-2),_e.$pristine(re,"respond_to?","respond_to_missing?"),Pe(re,"$require",function(n){return typeof n!="string"&&$.String&&$.Array&&(n=_e["$coerce_to!"](n,V("String"),"to_str")),$.require(n)}),Pe(re,"$require_relative",function(n){return _e["$try_convert!"](n,V("String"),"to_str"),n=V("File").$expand_path(V("File").$join($.current_file,"..",n)),$.require(n)}),Pe(re,"$require_tree",function(n,s){var o;s=Ee(s),o=s.$$smap.autoload,o==null&&(o=!1);var g=[];n=V("File").$expand_path(n),n=$.normalize(n),n==="."&&(n="");for(var y in $.modules)y["$start_with?"](n)&&(o?g.push([y,!0]):g.push([y,$.require(y)]));return g},-2),Pe(re,"$singleton_class",function(){var n=this;return $.get_singleton_class(n)}),Pe(re,"$sleep",function(n){n==null&&(n=I),n===I&&qe.$raise(V("TypeError"),"can't convert NilClass into time interval"),n.$$is_number||qe.$raise(V("TypeError"),"can't convert "+n.$class()+" into time interval"),n<0&&qe.$raise(V("ArgumentError"),"time interval must be positive");for(var s=$.global.performance?function(){return performance.now()}:function(){return new Date},o=s();s()-o<=n*1e3;);return Math.round(n)},-1),Pe(re,"$srand",function(n){return n==null&&(n=d("Random").$new_seed()),V("Random").$srand(n)},-1),Pe(re,"$String",function(n){var s=I;return Q(s=_e["$coerce_to?"](n,V("String"),"to_str"))?s:_e["$coerce_to!"](n,V("String"),"to_s")}),Pe(re,"$tap",function r(){var n=r.$$p||I,s=this;return r.$$p=null,$.yield1(n,s),s}),Pe(re,"$to_proc",pe),Pe(re,"$to_s",function(){var n=this;return"#<"+n.$class()+":0x"+n.$__id__().$to_s(16)+">"}),Pe(re,"$catch",function r(n){var s=r.$$p||I,o=I,g=I;r.$$p=null,n==null&&(n=I);try{return n=Q(o=n)?o:me.$new(),$.yield1(s,n)}catch(y){if($.rescue(y,[V("UncaughtThrowError")])){g=y;try{return Je(g.$tag(),n)?g.$value():qe.$raise()}finally{$.pop_exception()}}else throw y}},-1),Pe(re,"$throw",function(n,s){return s==null&&(s=I),qe.$raise(V("UncaughtThrowError").$new(n,s))},-2),Pe(re,"$open",function r(n){var s=r.$$p||I,o,g;return r.$$p=null,o=Ge(arguments),g=o,Ne(V("File"),"open",te(g),s.$to_proc())},-1),Pe(re,"$yield_self",function r(){var n=r.$$p||I,s=this;return r.$$p=null,n===I?Ne(s,"enum_for",["yield_self"],Be(1)):$.yield1(n,s)}),Z(re,"fail","raise"),Z(re,"kind_of?","is_a?"),Z(re,"object_id","__id__"),Z(re,"public_send","__send__"),Z(re,"send","__send__"),Z(re,"then","yield_self"),Z(re,"to_enum","enum_for")}("::",oe),function(N,Ae){var re=p(N,Ae,"Object");return delete me.$$prototype.$require,re.$include(qe)}("::",null)};Opal.modules["corelib/main"]=function($){var Q=$.return_val,Re=$.def,je=$.Object,_e=$.slice,Xe=$.Kernel,ze=$.top;return $.nil,$.add_stubs("include,raise"),function(Te,ye){return Re(Te,"$to_s",Q("main")),Re(Te,"$include",function(Be){return je.$include(Be)}),Re(Te,"$autoload",function(Be){var Pe,qe;return Pe=_e(arguments),qe=Pe,$.Object.$autoload.apply($.Object,qe)},-1),Re(Te,"$using",function(Be){return Xe.$raise("main.using is permitted only at toplevel")})}($.get_singleton_class(ze))};Opal.modules["corelib/error/errno"]=function($){var Q=$.module,Re=$.truthy,je=$.rb_plus,_e=$.send2,Xe=$.find_super,ze=$.def,Te=$.klass,ye=$.nil,W=$.$$$;return $.add_stubs("+,errno,class,attr_reader"),function(Be,Pe){var qe=Q(Be,"Errno"),He=ye,Ge=ye;He=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],Ge=ye;var Ne;for(Ne=0;Ne<He.length;Ne++)(function(){var te=He[Ne][0],Ee=He[Ne][1],Je=He[Ne][2];Ge=$.klass(qe,$.SystemCallError,te),Ge.errno=Je,function(Le,xe){return ze(Le,"$new",function $e(pe){$e.$$p;var ae=this,Ie=ye;return $e.$$p=null,pe==null&&(pe=ye),Ie=Ee,Re(pe)&&(Ie=je(Ie," - "+pe)),_e(ae,Xe(ae,"new",$e,!1,!0),"new",[Ie],null)},-1)}($.get_singleton_class(Ge))})()}("::"),function(Be,Pe,qe){var He=Te(Be,Pe,"SystemCallError");return ze(He,"$errno",function(){var Ne=this;return Ne.$class().$errno()}),function(Ge,Ne){return Ge.$attr_reader("errno")}($.get_singleton_class(He))}("::",W("StandardError"))};Opal.modules["corelib/error"]=function($){var Q=$.klass,Re=$.slice,je=$.gvars,_e=$.defs,Xe=$.send,ze=$.to_a,Te=$.def,ye=$.truthy,W=$.hash2,Be=$.Kernel,Pe=$.not,qe=$.rb_plus,He=$.eqeq,Ge=$.Object,Ne=$.ensure_kwargs,te=$.send2,Ee=$.find_super,Je=$.module,Le=[],xe=$.nil,$e=$.$$$;return $.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(pe,ae,Ie){var ne=Q(pe,ae,"Exception"),me=[ne].concat(Ie),Z=$.$r(me),p=ne.$$prototype;p.message=xe,$.prop(ne.$$prototype,"$$is_exception",!0);var oe;Error.stackTraceLimit=100,_e(ne,"$new",function(N){var Ae,re,L=this;je["!"]==null&&(je["!"]=xe),Ae=Re(arguments),re=Ae;var d=re.length>0?re[0]:xe,i=new L.$$constructor(d);return i.name=L.$$name,i.message=d,i.cause=je["!"],$.send(i,i.$initialize,re),$.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(i,oe),i},-1),oe=ne.$new,_e(ne,"$exception",function(N){var Ae,re,L=this;return Ae=Re(arguments),re=Ae,Xe(L,"new",ze(re))},-1),Te(ne,"$initialize",function(N){var Ae,re,L=this;return Ae=Re(arguments),re=Ae,L.message=re.length>0?re[0]:xe},-1);function I(V){for(var N=[],Ae,re=0;re<V.length;re++){var L=V[re];!L||!L.$$is_string||((Ae=L.match(/^    at (.*?) \((.*?)\)$/))?N.push(Ae[2]+":in `"+Ae[1]+"'"):(Ae=L.match(/^    at (.*?)$/))?N.push(Ae[1]+":in `undefined'"):(Ae=L.match(/^  from (.*?)$/))?N.push(Ae[1]):(Ae=L.match(/^(.*?)@(.*?)$/))&&N.push(Ae[2]+":in `"+Ae[1]+"'"))}return N}return Te(ne,"$backtrace",function(){var N=this;if(N.backtrace)return N.backtrace;var Ae=N.stack;return typeof Ae<"u"&&Ae.$$is_string?N.backtrace=I(Ae.split(`
`)):Ae?N.backtrace=I(Ae):[]}),Te(ne,"$backtrace_locations",function(){var N,Ae=this;return Ae.backtrace_locations||(Ae.backtrace_locations=(N=Ae.$backtrace(),N===xe||N==null?xe:Xe(N,"map",[],function(L){return L==null&&(L=xe),$e($e($e("Thread"),"Backtrace"),"Location").$new(L)}))),Ae.backtrace_locations}),Te(ne,"$cause",function(){var N=this;return N.cause||xe}),Te(ne,"$exception",function(N){var Ae=this;if(N==null&&(N=xe),N===xe||Ae===N)return Ae;var re=Ae.$clone();return re.message=N,Ae.backtrace&&(re.backtrace=Ae.backtrace.$dup()),re.stack=Ae.stack,re.cause=Ae.cause,re},-1),Te(ne,"$message",function(){var N=this;return N.$to_s()}),Te(ne,"$full_message",function(N){var Ae,re=this,L=xe,d=xe,i=xe,r=xe,n=xe,s=xe,o=xe,g=xe,y=xe;return je.stderr==null&&(je.stderr=xe),N==null&&(N=xe),ye(Z("Hash","skip_raise")?"constant":xe)?(N=W(["highlight","order"],{highlight:je.stderr["$tty?"](),order:"top"}).$merge(ye(L=N)?L:W([],{})),Ae=[N["$[]"]("highlight"),N["$[]"]("order")],d=Ae[0],i=Ae[1],ye([!0,!1]["$include?"](d))||Be.$raise($e("ArgumentError"),"expected true or false as highlight: "+d),ye(["top","bottom"]["$include?"](i))||Be.$raise($e("ArgumentError"),"expected :top or :bottom as order: "+i),ye(d)?(r="\x1B[1;4m",n="\x1B[1m",s="\x1B[m"):r=n=s="",o=re.$backtrace().$dup(),(Pe(o)||ye(o["$empty?"]()))&&(o=re.$caller()),g=o.$shift(),y=""+g+": ",y=qe(y,""+n+re.$to_s()+" ("+r+re.$class()+s+n+")"+s+`
`),y=qe(y,Xe(o,"map",[],function(be){return be==null&&(be=xe),"	from "+be+`
`}).$join()),ye(re.$cause())&&(y=qe(y,re.$cause().$full_message(W(["highlight"],{highlight:d})))),He(i,"bottom")&&(y=y.$split(`
`).$reverse().$join(`
`),y=qe(""+n+"Traceback"+s+` (most recent call last):
`,y)),y):""+re.message+`
`+re.stack},-1),Te(ne,"$inspect",function(){var N=this,Ae=xe;return Ae=N.$to_s(),ye(Ae["$empty?"]())?N.$class().$to_s():"#<"+N.$class().$to_s()+": "+N.$to_s()+">"}),Te(ne,"$set_backtrace",function(N){var Ae=this,re=!0,L,d;if(N===xe)Ae.backtrace=xe,Ae.stack="";else if(N.$$is_string)Ae.backtrace=[N],Ae.stack="  from "+N;else{if(N.$$is_array){for(L=0,d=N.length;L<d;L++)if(!N[L].$$is_string){re=!1;break}}else re=!1;re===!1&&Be.$raise($e("TypeError"),"backtrace must be Array of String"),Ae.backtrace=N,Ae.stack=Xe(N,"map",[],function(r){return r==null&&(r=xe),qe("  from ",r)}).join(`
`)}return N}),Te(ne,"$to_s",function(){var N=this,Ae=xe,re=xe;return ye(Ae=ye(re=N.message)?N.message.$to_s():re)?Ae:N.$class().$to_s()})}("::",Error,Le),Q("::",$e("Exception"),"ScriptError"),Q("::",$e("ScriptError"),"SyntaxError"),Q("::",$e("ScriptError"),"LoadError"),Q("::",$e("ScriptError"),"NotImplementedError"),Q("::",$e("Exception"),"SystemExit"),Q("::",$e("Exception"),"NoMemoryError"),Q("::",$e("Exception"),"SignalException"),Q("::",$e("SignalException"),"Interrupt"),Q("::",$e("Exception"),"SecurityError"),Q("::",$e("Exception"),"SystemStackError"),Q("::",$e("Exception"),"StandardError"),Q("::",$e("StandardError"),"EncodingError"),Q("::",$e("StandardError"),"ZeroDivisionError"),Q("::",$e("StandardError"),"NameError"),Q("::",$e("NameError"),"NoMethodError"),Q("::",$e("StandardError"),"RuntimeError"),Q("::",$e("RuntimeError"),"FrozenError"),Q("::",$e("StandardError"),"LocalJumpError"),Q("::",$e("StandardError"),"TypeError"),Q("::",$e("StandardError"),"ArgumentError"),Q("::",$e("ArgumentError"),"UncaughtThrowError"),Q("::",$e("StandardError"),"IndexError"),Q("::",$e("IndexError"),"StopIteration"),Q("::",$e("StopIteration"),"ClosedQueueError"),Q("::",$e("IndexError"),"KeyError"),Q("::",$e("StandardError"),"RangeError"),Q("::",$e("RangeError"),"FloatDomainError"),Q("::",$e("StandardError"),"IOError"),Q("::",$e("IOError"),"EOFError"),Q("::",$e("StandardError"),"SystemCallError"),Q("::",$e("StandardError"),"RegexpError"),Q("::",$e("StandardError"),"ThreadError"),Q("::",$e("StandardError"),"FiberError"),Ge.$autoload("Errno","corelib/error/errno"),function(pe,ae){var Ie=Q(pe,ae,"FrozenError");return Ie.$attr_reader("receiver"),Te(Ie,"$initialize",function ne(me,Z){var p;ne.$$p;var oe=this;return ne.$$p=null,Z=Ne(Z),p=Z.$$smap.receiver,p==null&&(p=xe),te(oe,Ee(oe,"initialize",ne,!1,!0),"initialize",[me],null),oe.receiver=p},-2)}("::",$e("RuntimeError")),function(pe,ae){var Ie=Q(pe,ae,"UncaughtThrowError"),ne=Ie.$$prototype;return ne.tag=xe,Ie.$attr_reader("tag","value"),Te(Ie,"$initialize",function me(Z,p){me.$$p;var oe=this;return me.$$p=null,p==null&&(p=xe),oe.tag=Z,oe.value=p,te(oe,Ee(oe,"initialize",me,!1,!0),"initialize",["uncaught throw "+oe.tag.$inspect()],null)},-2)}("::",$e("ArgumentError")),function(pe,ae){var Ie=Q(pe,ae,"NameError");return Ie.$attr_reader("name"),Te(Ie,"$initialize",function ne(me,Z){ne.$$p;var p=this;return ne.$$p=null,Z==null&&(Z=xe),te(p,Ee(p,"initialize",ne,!1,!0),"initialize",[me],null),p.name=Z},-2)}("::",null),function(pe,ae){var Ie=Q(pe,ae,"NoMethodError");return Ie.$attr_reader("args"),Te(Ie,"$initialize",function ne(me,Z,p){ne.$$p;var oe=this;return ne.$$p=null,Z==null&&(Z=xe),p==null&&(p=[]),te(oe,Ee(oe,"initialize",ne,!1,!0),"initialize",[me,Z],null),oe.args=p},-2)}("::",null),function(pe,ae){var Ie=Q(pe,ae,"StopIteration");return Ie.$attr_reader("result")}("::",null),function(pe,ae){var Ie=Q(pe,ae,"KeyError"),ne=Ie.$$prototype;return ne.receiver=ne.key=xe,Te(Ie,"$initialize",function me(Z,p){var oe,I;me.$$p;var V=this;return me.$$p=null,p=Ne(p),oe=p.$$smap.receiver,oe==null&&(oe=xe),I=p.$$smap.key,I==null&&(I=xe),te(V,Ee(V,"initialize",me,!1,!0),"initialize",[Z],null),V.receiver=oe,V.key=I},-2),Te(Ie,"$receiver",function(){var Z=this,p=xe;return ye(p=Z.receiver)?p:Be.$raise($e("ArgumentError"),"no receiver is available")}),Te(Ie,"$key",function(){var Z=this,p=xe;return ye(p=Z.key)?p:Be.$raise($e("ArgumentError"),"no key is available")})}("::",null),function(pe,ae){var Ie=Je(pe,"JS"),ne=[Ie].concat(ae);return Q(ne[0],null,"Error"),xe}("::",Le)};Opal.modules["corelib/constants"]=function($){var Q=$.const_set;$.nil;var Re=$.$$$;return Q("::","RUBY_PLATFORM","opal"),Q("::","RUBY_ENGINE","opal"),Q("::","RUBY_VERSION","3.2.0"),Q("::","RUBY_ENGINE_VERSION","1.7.3"),Q("::","RUBY_RELEASE_DATE","2023-03-23"),Q("::","RUBY_PATCHLEVEL",0),Q("::","RUBY_REVISION","0"),Q("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),Q("::","RUBY_DESCRIPTION","opal "+Re("RUBY_ENGINE_VERSION")+" ("+Re("RUBY_RELEASE_DATE")+" revision "+Re("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function($){var Q=$.Object;return $.nil,$.add_stubs("require"),Q.$require("corelib/runtime"),Q.$require("corelib/helpers"),Q.$require("corelib/module"),Q.$require("corelib/class"),Q.$require("corelib/basic_object"),Q.$require("corelib/kernel"),Q.$require("corelib/main"),Q.$require("corelib/error"),Q.$require("corelib/constants")};Opal.modules["corelib/nil"]=function($){var Q=$.klass,Re=$.Kernel,je=$.def,_e=$.return_val,Xe=$.ensure_kwargs,ze=$.NilClass,Te=$.slice,ye=$.truthy,W=$.rb_gt,Be=$.alias,Pe=$.nil,qe=$.$$$;return $.add_stubs("raise,name,new,>,length,Rational,to_i"),function(He,Ge,Ne){var te=Q(He,Ge,"NilClass");return te.$$prototype.$$meta=te,function(Ee,Je){return je(Ee,"$allocate",function(){var xe=this;return Re.$raise(qe("TypeError"),"allocator undefined for "+xe.$name())}),$.udef(Ee,"$new"),Pe}($.get_singleton_class(te)),je(te,"$!",_e(!0)),je(te,"$&",_e(!1)),je(te,"$|",function(Je){return Je!==!1&&Je!==Pe}),je(te,"$^",function(Je){return Je!==!1&&Je!==Pe}),je(te,"$==",function(Je){return Je===Pe}),je(te,"$dup",_e(Pe)),je(te,"$clone",function(Je){return Je=Xe(Je),Je.$$smap.freeze,Pe},-1),je(te,"$inspect",_e("nil")),je(te,"$nil?",_e(!0)),je(te,"$singleton_class",function(){return ze}),je(te,"$to_a",function(){return[]}),je(te,"$to_h",function(){return $.hash()}),je(te,"$to_i",_e(0)),je(te,"$to_s",_e("")),je(te,"$to_c",function(){return qe("Complex").$new(0,0)}),je(te,"$rationalize",function(Je){var Le,xe;return Le=Te(arguments),xe=Le,ye(W(xe.$length(),1))&&Re.$raise(qe("ArgumentError")),Re.$Rational(0,1)},-1),je(te,"$to_r",function(){return Re.$Rational(0,1)}),je(te,"$instance_variables",function(){return[]}),Be(te,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function($){var Q=$.klass,Re=$.Kernel,je=$.def,_e=$.return_self,Xe=$.ensure_kwargs,ze=$.slice,Te=$.truthy,ye=$.send2,W=$.find_super,Be=$.to_a,Pe=$.alias,qe=$.nil,He=$.$$$;return $.add_stubs("raise,name,==,to_s,__id__"),function(Ge,Ne,te){var Ee=Q(Ge,Ne,"Boolean");$.prop(Ee.$$prototype,"$$is_boolean",!0);for(var Je=["$$class","$$meta"],Le=0;Le<Je.length;Le++)Object.defineProperty(Ee.$$prototype,Je[Le],{configurable:!0,enumerable:!1,get:function(){return this==!0?$.TrueClass:this==!1?$.FalseClass:$.Boolean}});return Object.defineProperty(Ee.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:qe}}),function(xe,$e){return je(xe,"$allocate",function(){var ae=this;return Re.$raise(He("TypeError"),"allocator undefined for "+ae.$name())}),$.udef(xe,"$new"),qe}($.get_singleton_class(Ee)),je(Ee,"$__id__",function(){var $e=this;return $e.valueOf()?2:0}),je(Ee,"$!",function(){var $e=this;return $e!=!0}),je(Ee,"$&",function($e){var pe=this;return pe==!0?$e!==!1&&$e!==qe:!1}),je(Ee,"$|",function($e){var pe=this;return pe==!0?!0:$e!==!1&&$e!==qe}),je(Ee,"$^",function($e){var pe=this;return pe==!0?$e===!1||$e===qe:$e!==!1&&$e!==qe}),je(Ee,"$==",function($e){var pe=this;return pe==!0===$e.valueOf()}),je(Ee,"$singleton_class",function(){var $e=this;return $e.$$meta}),je(Ee,"$to_s",function(){var $e=this;return $e==!0?"true":"false"}),je(Ee,"$dup",_e),je(Ee,"$clone",function($e){var pe=this;return $e=Xe($e),$e.$$smap.freeze,pe},-1),je(Ee,"$method_missing",function xe($e,pe){var ae=xe.$$p||qe,Ie,ne,me=this;xe.$$p=null,Ie=ze(arguments,1),ne=Ie;var Z=me.$$class.$$prototype[$.jsid($e)];return Te(typeof Z<"u"&&!Z.$$stub)||ye(me,W(me,"method_missing",xe,!1,!0),"method_missing",[$e].concat(Be(ne)),ae),$.send(me,Z,ne,ae)},-2),je(Ee,"$respond_to_missing?",function($e,pe){var ae=this,Ie=ae.$$class.$$prototype[$.jsid($e)];return typeof Ie<"u"&&!Ie.$$stub},-2),Pe(Ee,"eql?","=="),Pe(Ee,"equal?","=="),Pe(Ee,"inspect","to_s"),Pe(Ee,"object_id","__id__")}("::",Boolean),Q("::",He("Boolean"),"TrueClass"),Q("::",He("Boolean"),"FalseClass"),qe};Opal.modules["corelib/comparable"]=function($){var Q=$.truthy,Re=$.module,je=$.rb_gt,_e=$.rb_lt,Xe=$.eqeqeq,ze=$.Kernel,Te=$.def,ye=$.nil,W=$.$$$;return $.add_stubs(">,<,===,raise,class,<=>,equal?"),function(Be){var Pe=Re(Be,"Comparable"),qe=ye;function He(te){return $.is_a(te,$.Integer)?te:je(te,0)?1:_e(te,0)?-1:0}function Ge(te,Ee){var Je;Xe(ye,qe=Ee)||Xe(!0,qe)||Xe(!1,qe)||Xe(W("Integer"),qe)||Xe(W("Float"),qe)?Je=Ee.$inspect():Je=Ee.$$class,ze.$raise(W("ArgumentError"),"comparison of "+te.$class()+" with "+Je+" failed")}function Ne(te,Ee){var Je=te["$<=>"](Ee);return Q(Je)||Ge(te,Ee),He(Je)}return Te(Pe,"$==",function(Ee){var Je=this,Le=ye;return Q(Je["$equal?"](Ee))?!0:Je["$<=>"]==$.Kernel["$<=>"]?!1:Je.$$comparable?(Je.$$comparable=!1,!1):Q(Le=Je["$<=>"](Ee))?He(Le)==0:!1}),Te(Pe,"$>",function(Ee){var Je=this;return Ne(Je,Ee)>0}),Te(Pe,"$>=",function(Ee){var Je=this;return Ne(Je,Ee)>=0}),Te(Pe,"$<",function(Ee){var Je=this;return Ne(Je,Ee)<0}),Te(Pe,"$<=",function(Ee){var Je=this;return Ne(Je,Ee)<=0}),Te(Pe,"$between?",function(Ee,Je){var Le=this;return!(_e(Le,Ee)||je(Le,Je))}),Te(Pe,"$clamp",function(Ee,Je){var Le=this;Je==null&&(Je=ye);var xe,$e;if(Je===ye&&($.is_a(Ee,$.Range)||ze.$raise(W("TypeError"),"wrong argument type "+Ee.$class()+" (expected Range)"),$e=Ee.excl,Je=Ee.end,Ee=Ee.begin,Je!==ye&&$e&&ze.$raise(W("ArgumentError"),"cannot clamp with an exclusive range")),Ee!==ye&&Je!==ye&&Ne(Ee,Je)>0&&ze.$raise(W("ArgumentError"),"min argument must be smaller than max argument"),Ee!==ye){if(xe=Ne(Le,Ee),xe==0)return Le;if(xe<0)return Ee}return Je!==ye&&(xe=Ne(Le,Je),xe>0)?Je:Le},-2)}("::")};Opal.modules["corelib/regexp"]=function($){var Q=$.coerce_to,Re=$.prop,je=$.freeze,_e=$.klass,Xe=$.const_set,ze=$.send2,Te=$.find_super,ye=$.def,W=$.truthy,Be=$.gvars,Pe=$.slice,qe=$.Kernel,He=$.Opal,Ge=$.alias,Ne=$.send,te=$.hash2,Ee=$.rb_plus,Je=$.ensure_kwargs,Le=$.rb_ge,xe=$.to_a,$e=$.eqeqeq,pe=$.rb_minus,ae=$.return_ivar,Ie=[],ne=$.nil,me=$.$$$;return $.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),_e("::",me("StandardError"),"RegexpError"),function(Z,p,oe){var I=_e(Z,p,"Regexp"),V=[I].concat(oe),N=$.$r(V);return Xe(I,"IGNORECASE",1),Xe(I,"EXTENDED",2),Xe(I,"MULTILINE",4),$.prop(I.$$prototype,"$$is_regexp",!0),function(Ae,re){var L=[Ae].concat(re),d=$.$r(L);return ye(Ae,"$allocate",function i(){var r=i.$$p||ne,n=this,s=ne;return i.$$p=null,s=ze(n,Te(n,"allocate",i,!1,!0),"allocate",[],r),s.uninitialized=!0,s}),ye(Ae,"$escape",function(r){return $.escape_regexp(r)}),ye(Ae,"$last_match",function(r){return Be["~"]==null&&(Be["~"]=ne),r==null&&(r=ne),W(r["$nil?"]())?Be["~"]:W(Be["~"])?Be["~"]["$[]"](r):ne},-1),ye(Ae,"$union",function(r){var n,s,o=this;n=Pe(arguments),s=n;var g,y,P,be,tt;if(s.length==0)return/(?!)/;if(s.length==1&&s[0].$$is_regexp)return s[0];g=s[0].$$is_array,s.length>1&&g&&qe.$raise(me("TypeError"),"no implicit conversion of Array into String"),g&&(s=s[0]),be=void 0,y=[];for(var ot=0;ot<s.length;ot++)P=s[ot],P.$$is_string?y.push(o.$escape(P)):P.$$is_regexp?(tt=P.$options(),be!=null&&be!=tt&&qe.$raise(me("TypeError"),"All expressions must use the same options"),be=tt,y.push("("+P.source+")")):y.push(o.$escape(P.$to_str()));return o.$new(y.$join("|"),be)},-1),ye(Ae,"$new",function(r,n){if(r.$$is_regexp)return new RegExp(r);if(r=He["$coerce_to!"](r,me("String"),"to_str"),r.charAt(r.length-1)==="\\"&&r.charAt(r.length-2)!=="\\"&&qe.$raise(me("RegexpError"),"too short escape sequence: /"+r+"/"),r=r.replace("\\A","^").replace("\\z","$"),n===void 0||n["$!"]())return new RegExp(r);if(n.$$is_number){var s="";d("IGNORECASE")&n&&(s+="i"),d("MULTILINE")&n&&(s+="m"),n=s}else n="i";return new RegExp(r,n)},-2),Ge(Ae,"compile","new"),Ge(Ae,"quote","escape")}($.get_singleton_class(I),V),ye(I,"$==",function(re){var L=this;return re instanceof RegExp&&L.toString()===re.toString()}),ye(I,"$===",function(re){var L=this;return L.$match(He["$coerce_to?"](re,me("String"),"to_str"))!==ne}),ye(I,"$=~",function(re){var L=this,d=ne;return Be["~"]==null&&(Be["~"]=ne),W(d=L.$match(re))?Be["~"].$begin(0):d}),ye(I,"$freeze",function(){var re=this;return W(re["$frozen?"]())?re:(re.hasOwnProperty("$$g")||Re(re,"$$g",null),re.hasOwnProperty("$$gm")||Re(re,"$$gm",null),je(re))}),ye(I,"$inspect",function(){var re=this,L=/^\/(.*)\/([^\/]*)$/,d=re.toString(),i=L.exec(d);if(i){for(var r=i[1],n=i[2],s=r.split(""),o=s.length,g=!1,y="",P=0;P<o;P++){var be=s[P];!g&&be=="/"&&(y=y.concat("\\")),y=y.concat(be),be=="\\"?g?g=!1:g=!0:g=!1}return"/"+y+"/"+n}else return d}),ye(I,"$match",function Ae(re,L){var d=Ae.$$p||ne,i=this;if(Be["~"]==null&&(Be["~"]=ne),Ae.$$p=null,i.uninitialized&&qe.$raise(me("TypeError"),"uninitialized Regexp"),L===void 0){if(re===ne)return Be["~"]=ne;var r=i.exec(Q(re,me("String"),"to_str"));return r?(Be["~"]=me("MatchData").$new(i,r),d===ne?Be["~"]:$.yield1(d,Be["~"])):Be["~"]=ne}if(L=Q(L,me("Integer"),"to_int"),re===ne||(re=Q(re,me("String"),"to_str"),L<0&&(L+=re.length,L<0)))return Be["~"]=ne;for(var n,s=$.global_regexp(i);;){if(n=s.exec(re),n===null)return Be["~"]=ne;if(n.index>=L)return Be["~"]=me("MatchData").$new(s,n),d===ne?Be["~"]:$.yield1(d,Be["~"]);s.lastIndex=n.index+1}},-2),ye(I,"$match?",function(re,L){var d=this;if(d.uninitialized&&qe.$raise(me("TypeError"),"uninitialized Regexp"),L===void 0)return re===ne?!1:d.test(Q(re,me("String"),"to_str"));if(L=Q(L,me("Integer"),"to_int"),re===ne||(re=Q(re,me("String"),"to_str"),L<0&&(L+=re.length,L<0)))return!1;var i,r=$.global_regexp(d);return i=r.exec(re),!(i===null||i.index<L)},-2),ye(I,"$names",function(){var re=this;return Ne(re.$source().$scan(/\(?<(\w+)>/,te(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),ye(I,"$named_captures",function(){var re=this;return Ne(Ne(Ne(re.$source().$scan(/\(?<(\w+)>/,te(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(d){return d==null&&(d=ne),Ne(d,"map",[],function(r){return r==null&&(r=ne),Ee(r.$last(),1)})})}),ye(I,"$~",function(){var re=this;return Be._==null&&(Be._=ne),re["$=~"](Be._)}),ye(I,"$source",function(){var re=this;return re.source}),ye(I,"$options",function(){var re=this;re.uninitialized&&qe.$raise(me("TypeError"),"uninitialized Regexp");var L=0;return re.multiline&&(L|=N("MULTILINE")),re.ignoreCase&&(L|=N("IGNORECASE")),L}),ye(I,"$casefold?",function(){var re=this;return re.ignoreCase}),Ge(I,"eql?","=="),Ge(I,"to_s","source")}("::",RegExp,Ie),function(Z,p,oe){var I=_e(Z,p,"MatchData"),V=[I].concat(oe),N=$.$r(V),Ae=I.$$prototype;return Ae.matches=ne,I.$attr_reader("post_match","pre_match","regexp","string"),ye(I,"$initialize",function(L,d,i){var r,n=this;i=Je(i),r=i.$$smap.no_matchdata,r==null&&(r=!1),W(r)||(Be["~"]=n),n.regexp=L,n.begin=d.index,n.string=d.input,n.pre_match=d.input.slice(0,d.index),n.post_match=d.input.slice(d.index+d[0].length),n.matches=[];for(var s=0,o=d.length;s<o;s++){var g=d[s];g==null?n.matches.push(ne):n.matches.push(g)}},-3),ye(I,"$match",function(L){var d=this,i=ne;return W(i=d["$[]"](L))?i:W(L["$is_a?"](N("Integer")))&&W(Le(L,d.$length()))?qe.$raise(me("IndexError"),"index "+L+" out of matches"):ne}),ye(I,"$match_length",function(L){var d,i=this;return d=i.$match(L),d===ne||d==null?ne:d.$length()}),ye(I,"$[]",function(L){var d,i,r=this;return d=Pe(arguments),i=d,i[0].$$is_string?(r.$regexp().$names()["$include?"](i["$[]"](0))["$!"]()&&qe.$raise(me("IndexError"),"undefined group name reference: "+i["$[]"](0)),r.$named_captures()["$[]"](i["$[]"](0))):Ne(r.matches,"[]",xe(i))},-1),ye(I,"$offset",function(L){var d=this;return L!==0&&qe.$raise(me("ArgumentError"),"MatchData#offset only supports 0th element"),[d.begin,d.begin+d.matches[L].length]}),ye(I,"$==",function(L){var d=this,i=ne,r=ne,n=ne,s=ne;return $e(me("MatchData"),L)?W(i=W(r=W(n=W(s=d.string==L.string)?d.regexp.toString()==L.regexp.toString():s)?d.pre_match==L.pre_match:n)?d.post_match==L.post_match:r)?d.begin==L.begin:i:!1}),ye(I,"$begin",function(L){var d=this;return L!==0&&qe.$raise(me("ArgumentError"),"MatchData#begin only supports 0th element"),d.begin}),ye(I,"$end",function(L){var d=this;return L!==0&&qe.$raise(me("ArgumentError"),"MatchData#end only supports 0th element"),d.begin+d.matches[L].length}),ye(I,"$captures",function(){var L=this;return L.matches.slice(1)}),ye(I,"$named_captures",function(){var L=this,d=ne;return d=L.$captures(),Ne(L.$regexp().$named_captures(),"transform_values",[],function(r){return r==null&&(r=ne),d["$[]"](pe(r.$last(),1))})}),ye(I,"$names",function(){var L=this;return L.$regexp().$names()}),ye(I,"$inspect",function(){var L=this,d="#<MatchData "+L.matches[0].$inspect();if(L.$regexp().$names()["$empty?"]())for(var i=1,r=L.matches.length;i<r;i++)d+=" "+i+":"+L.matches[i].$inspect();else Ne(L.$named_captures(),"each",[],function(s,o){return s==null&&(s=ne),o==null&&(o=ne),d+=" "+s+":"+o.$inspect()});return d+">"}),ye(I,"$length",function(){var L=this;return L.matches.length}),ye(I,"$to_a",ae("matches")),ye(I,"$to_s",function(){var L=this;return L.matches[0]}),ye(I,"$values_at",function(L){var d,i,r=this;d=Pe(arguments),i=d;var n,s,o,g=[];for(n=0;n<i.length;n++){if(i[n].$$is_range&&(s=i[n].$to_a(),s.unshift(n,1),Array.prototype.splice.apply(i,s)),o=He["$coerce_to!"](i[n],me("Integer"),"to_int"),o<0&&(o+=r.matches.length,o<0)){g.push(ne);continue}g.push(r.matches[o])}return g},-1),Ge(I,"eql?","=="),Ge(I,"size","length")}(Ie[0],null,Ie)};Opal.modules["corelib/string"]=function($){var Q=$.coerce_to,Re=$.respond_to,je=$.global_multiline_regexp,_e=$.prop,Xe=$.klass,ze=$.def,Te=$.Opal,ye=$.defs,W=$.slice,Be=$.send,Pe=$.to_a,qe=$.extract_kwargs,He=$.ensure_kwargs,Ge=$.eqeqeq,Ne=$.Kernel,te=$.truthy,Ee=$.gvars,Je=$.rb_divide,Le=$.rb_plus,xe=$.eqeq,$e=$.hash2,pe=$.alias,ae=$.const_set,Ie=$.top,ne=[],me=$.$r(ne),Z=$.nil,p=$.$$$;return $.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),Ie.$require("corelib/comparable"),Ie.$require("corelib/regexp"),function(oe,I,V){var N=Xe(oe,I,"String"),Ae=[N].concat(V),re=$.$r(Ae);N.$include(p("Comparable")),$.prop(N.$$prototype,"$$is_string",!0),ze(N,"$__id__",function(){var i=this;return i.toString()}),ye(N,"$try_convert",function(i){return Te["$coerce_to?"](i,p("String"),"to_str")}),ye(N,"$new",function(i){var r,n,s=this;r=W(arguments),n=r;var o=n[0]||"",g=n[n.length-1];return o=Q(o,p("String"),"to_str"),g&&g.$$is_hash&&g.$$smap.encoding&&(o=o.$force_encoding(g.$$smap.encoding)),o=new s.$$constructor(o),o.$initialize.$$pristine||Be(o,"initialize",Pe(n)),o},-1),ze(N,"$initialize",function(i,r){var n,s;return n=W(arguments),s=qe(n),s=He(s),n.length>0&&n.shift(),s.$$smap.encoding,s.$$smap.capacity,Z},-1),ze(N,"$%",function(i){var r=this;return Ge(p("Array"),i)?Be(r,"format",[r].concat(Pe(i))):r.$format(r,i)}),ze(N,"$*",function(i){var r=this;if(i=Q(i,p("Integer"),"to_int"),i<0&&Ne.$raise(p("ArgumentError"),"negative argument"),i===0)return"";var n="",s=r.toString();for(s.length*i>=1<<28&&Ne.$raise(p("RangeError"),"multiply count must not overflow maximum string size");(i&1)===1&&(n+=s),i>>>=1,i!==0;)s+=s;return n}),ze(N,"$+",function(i){var r=this;if(i=Q(i,p("String"),"to_str"),i==""&&r.$$class===$.String)return r;if(r==""&&i.$$class===$.String)return i;var n=r+i;return r.encoding===n.encoding&&i.encoding===n.encoding||r.encoding.name==="UTF-8"||i.encoding.name==="UTF-8"?n:$.enc(n,r.encoding)}),ze(N,"$<=>",function(i){var r=this;if(te(i["$respond_to?"]("to_str")))return i=i.$to_str().$to_s(),r>i?1:r<i?-1:0;var n=i["$<=>"](r);return n===Z?Z:n>0?-1:n<0?1:0}),ze(N,"$==",function(i){var r=this;return i.$$is_string?r.toString()===i.toString():Re(i,"$to_str")?i["$=="](r):!1}),ze(N,"$=~",function(i){var r=this;return i.$$is_string&&Ne.$raise(p("TypeError"),"type mismatch: String given"),i["$=~"](r)}),ze(N,"$[]",function(i,r){var n=this,s=n.length,o,g;if(i.$$is_range)return o=i.excl,g=i,r=i.end===Z?-1:Q(i.end,p("Integer"),"to_int"),i=i.begin===Z?0:Q(i.begin,p("Integer"),"to_int"),Math.abs(i)>s?Z:(i<0&&(i+=s),r<0&&(r+=s),(!o||g.end===Z)&&(r+=1),r=r-i,r<0&&(r=0),n.substr(i,r));if(i.$$is_string)return r!=null&&Ne.$raise(p("TypeError")),n.indexOf(i)!==-1?i:Z;if(i.$$is_regexp){var y=n.match(i);return y===null?(Ee["~"]=Z,Z):(Ee["~"]=p("MatchData").$new(i,y),r==null?y[0]:(r=Q(r,p("Integer"),"to_int"),r<0&&-r<y.length?y[r+=y.length]:r>=0&&r<y.length?y[r]:Z))}return i=Q(i,p("Integer"),"to_int"),i<0&&(i+=s),r==null?i>=s||i<0?Z:n.substr(i,1):(r=Q(r,p("Integer"),"to_int"),r<0||i>s||i<0?Z:n.substr(i,r))},-2),ze(N,"$b",function(){var i=this;return new String(i).$force_encoding("binary")}),ze(N,"$capitalize",function(){var i=this;return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}),ze(N,"$casecmp",function(i){var r=this;if(!te(i["$respond_to?"]("to_str")))return Z;i=Q(i,p("String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(r)&&n.test(i)&&(r=r.toLowerCase(),i=i.toLowerCase()),r["$<=>"](i)}),ze(N,"$casecmp?",function(i){var r=this,n=r.$casecmp(i);return n===Z?Z:n===0}),ze(N,"$center",function(i,r){var n=this;if(r==null&&(r=" "),i=Q(i,p("Integer"),"to_int"),r=Q(r,p("String"),"to_str").$to_s(),te(r["$empty?"]())&&Ne.$raise(p("ArgumentError"),"zero width padding"),te(i<=n.length))return n;var s=n.$ljust(Je(Le(i,n.length),2).$ceil(),r),o=n.$rjust(Je(Le(i,n.length),2).$floor(),r);return o+s.slice(n.length)},-2),ze(N,"$chomp",function(i){var r=this;if(Ee["/"]==null&&(Ee["/"]=Z),i==null&&(i=Ee["/"]),te(i===Z||r.length===0))return r;i=Te["$coerce_to!"](i,p("String"),"to_str").$to_s();var n;if(i===`
`)n=r.replace(/\r?\n?$/,"");else if(i==="")n=r.replace(/(\r?\n)+$/,"");else if(r.length>=i.length){var s=r.substr(r.length-i.length,i.length);s===i&&(n=r.substr(0,r.length-i.length))}return n??r},-1),ze(N,"$chop",function(){var i=this,r=i.length,n;return r<=1?n="":i.charAt(r-1)===`
`&&i.charAt(r-2)==="\r"?n=i.substr(0,r-2):n=i.substr(0,r-1),n}),ze(N,"$chr",function(){var i=this;return i.charAt(0)}),ze(N,"$clone",function(i){var r,n=this,s=Z;return i=He(i),r=i.$$smap.freeze,r==null&&(r=Z),te(r["$nil?"]())||xe(r,!0)||xe(r,!1)||n.$raise(re("ArgumentError"),"unexpected value for freeze: "+r.$class()),s=new String(n),s.$copy_singleton_methods(n),s.$initialize_clone(n,$e(["freeze"],{freeze:r})),xe(r,!0)?s.$$frozen||(s.$$frozen=!0):te(r["$nil?"]())&&n.$$frozen&&(s.$$frozen=!0),s},-1),ze(N,"$dup",function(){var i=this,r=Z;return r=new String(i),r.$initialize_dup(i),r}),ze(N,"$count",function(i){var r,n,s=this;r=W(arguments),n=r,n.length===0&&Ne.$raise(p("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=L(n);return o===null?0:s.length-s.replace(new RegExp(o,"g"),"").length},-1),ze(N,"$delete",function(i){var r,n,s=this;r=W(arguments),n=r,n.length===0&&Ne.$raise(p("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=L(n);return o===null?s:s.replace(new RegExp(o,"g"),"")},-1),ze(N,"$delete_prefix",function(i){var r=this;return i.$$is_string||(i=Q(i,p("String"),"to_str")),r.slice(0,i.length)===i?r.slice(i.length):r}),ze(N,"$delete_suffix",function(i){var r=this;return i.$$is_string||(i=Q(i,p("String"),"to_str")),r.slice(r.length-i.length)===i?r.slice(0,r.length-i.length):r}),ze(N,"$downcase",function(){var i=this;return i.toLowerCase()}),ze(N,"$each_line",function d(i,r){var n=d.$$p||Z,s,o,g,y,P=this;if(Ee["/"]==null&&(Ee["/"]=Z),d.$$p=null,s=W(arguments),o=qe(s),o=He(o),s.length>0&&(g=s.shift()),g==null&&(g=Ee["/"]),y=o.$$smap.chomp,y==null&&(y=!1),n===Z)return P.$enum_for("each_line",g,$e(["chomp"],{chomp:y}));if(g===Z)return $.yield1(n,P),P;g=Q(g,p("String"),"to_str");var be,tt,ot,lt,vt,_t,bt,pt;if(g.length===0){for(be=P.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),tt=0,ot=be.length;tt<ot;tt+=2)(be[tt]||be[tt+1])&&(pt=(be[tt]||"")+(be[tt+1]||""),y&&(pt=pt.$chomp(`
`)),$.yield1(n,pt));return P}for(vt=P.$chomp(g),_t=P.length!=vt.length,bt=vt.split(g),tt=0,lt=bt.length;tt<lt;tt++)pt=bt[tt],(tt<lt-1||_t)&&(pt+=g),y&&(pt=pt.$chomp(g)),$.yield1(n,pt);return P},-1),ze(N,"$empty?",function(){var i=this;return i.length===0}),ze(N,"$end_with?",function(i){var r,n,s=this;r=W(arguments),n=r;for(var o=0,g=n.length;o<g;o++){var y=Q(n[o],p("String"),"to_str").$to_s();if(s.length>=y.length&&s.substr(s.length-y.length,y.length)==y)return!0}return!1},-1),ze(N,"$gsub",function d(i,r){var n=d.$$p||Z,s=this;if(d.$$p=null,r===void 0&&n===Z)return s.$enum_for("gsub",i);var o="",g=Z,y=0,P,be;i.$$is_regexp?i=je(i):(i=Q(i,p("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var tt;;){if(P=i.exec(s),P===null){Ee["~"]=Z,o+=s.slice(y);break}g=p("MatchData").$new(i,P),r===void 0?(tt=i.lastIndex,be=n(P[0]),i.lastIndex=tt):r.$$is_hash?be=r["$[]"](P[0]).$to_s():(r.$$is_string||(r=Q(r,p("String"),"to_str")),be=r.replace(/([\\]+)([0-9+&`'])/g,function(ot,lt,vt){if(lt.length%2===0)return ot;switch(vt){case"+":for(var _t=P.length-1;_t>0;_t--)if(P[_t]!==void 0)return lt.slice(1)+P[_t];return"";case"&":return lt.slice(1)+P[0];case"`":return lt.slice(1)+s.slice(0,P.index);case"'":return lt.slice(1)+s.slice(P.index+P[0].length);default:return lt.slice(1)+(P[vt]||"")}}).replace(/\\\\/g,"\\")),i.lastIndex===P.index?(o+=s.slice(y,P.index)+be+(s[P.index]||""),i.lastIndex+=1):o+=s.slice(y,P.index)+be,y=i.lastIndex}return Ee["~"]=g,o},-2),ze(N,"$hash",function(){var i=this;return i.toString()}),ze(N,"$hex",function(){var i=this;return i.$to_i(16)}),ze(N,"$include?",function(i){var r=this;return i.$$is_string||(i=Q(i,p("String"),"to_str")),r.indexOf(i)!==-1}),ze(N,"$index",function(i,r){var n=this,s,o,g;if(r===void 0)r=0;else if(r=Q(r,p("Integer"),"to_int"),r<0&&(r+=n.length,r<0))return Z;if(i.$$is_regexp)for(g=je(i);;){if(o=g.exec(n),o===null){Ee["~"]=Z,s=-1;break}if(o.index>=r){Ee["~"]=p("MatchData").$new(g,o),s=o.index;break}g.lastIndex=o.index+1}else i=Q(i,p("String"),"to_str"),i.length===0&&r>n.length?s=-1:s=n.indexOf(i,r);return s===-1?Z:s},-2),ze(N,"$inspect",function(){var i=this,r=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},s=i.replace(r,function(o){return n[o]?n[o]:(o=o.charCodeAt(0),o<=255&&(i.encoding["$binary?"]()||i.internal_encoding["$binary?"]())?"\\x"+("00"+o.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+o.toString(16).toUpperCase()).slice(-4))});return'"'+s.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),ze(N,"$intern",function(){var i=this;return i.toString()}),ze(N,"$length",function(){var i=this;return i.length}),pe(N,"size","length"),ze(N,"$lines",function d(i,r){var n=d.$$p||Z,s,o,g,y,P=this,be=Z;return Ee["/"]==null&&(Ee["/"]=Z),d.$$p=null,s=W(arguments),o=qe(s),o=He(o),s.length>0&&(g=s.shift()),g==null&&(g=Ee["/"]),y=o.$$smap.chomp,y==null&&(y=!1),be=Be(P,"each_line",[g,$e(["chomp"],{chomp:y})],n.$to_proc()),te(n)?P:be.$to_a()},-1),ze(N,"$ljust",function(i,r){var n=this;if(r==null&&(r=" "),i=Q(i,p("Integer"),"to_int"),r=Q(r,p("String"),"to_str").$to_s(),te(r["$empty?"]())&&Ne.$raise(p("ArgumentError"),"zero width padding"),te(i<=n.length))return n;var s=-1,o="";for(i-=n.length;++s<i;)o+=r;return n+o.slice(0,i)},-2),ze(N,"$lstrip",function(){var i=this;return i.replace(/^[\u0000\s]*/,"")}),ze(N,"$ascii_only?",function(){var i=this;return i.encoding.ascii?/^[\x00-\x7F]*$/.test(i):!1}),ze(N,"$match",function d(i,r){var n=d.$$p||Z,s=this;return d.$$p=null,(Ge(re("String"),i)||te(i["$respond_to?"]("to_str")))&&(i=p("Regexp").$new(i.$to_str())),Ge(p("Regexp"),i)||Ne.$raise(p("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),Be(i,"match",[s,r],n.$to_proc())},-2),ze(N,"$match?",function(i,r){var n=this;return(Ge(re("String"),i)||te(i["$respond_to?"]("to_str")))&&(i=p("Regexp").$new(i.$to_str())),Ge(p("Regexp"),i)||Ne.$raise(p("TypeError"),"wrong argument type "+i.$class()+" (expected Regexp)"),i["$match?"](n,r)},-2),ze(N,"$next",function(){var i=this,r=i.length;if(r===0)return"";for(var n=i,s=i.search(/[a-zA-Z0-9]/),o=!1,g;r--;){if(g=i.charCodeAt(r),g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122)switch(g){case 57:o=!0,g=48;break;case 90:o=!0,g=65;break;case 122:o=!0,g=97;break;default:o=!1,g+=1}else s===-1?g===255?(o=!0,g=0):(o=!1,g+=1):o=!0;if(n=n.slice(0,r)+String.fromCharCode(g)+n.slice(r+1),o&&(r===0||r===s)){switch(g){case 65:break;case 97:break;default:g+=1}r===0?n=String.fromCharCode(g)+n:n=n.slice(0,r)+String.fromCharCode(g)+n.slice(r),o=!1}if(!o)break}return n}),ze(N,"$oct",function(){var i=this,r,n=i,s=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(o,g,y,P){switch(P.charAt(0)){case"+":case"-":return o;case"0":if(P.charAt(1)==="x"&&y==="0x")return o}switch(y){case"0b":s=2;break;case"0":case"0o":s=8;break;case"0d":s=10;break;case"0x":s=16;break}return g+P}),r=parseInt(n.replace(/_(?!_)/g,""),s),isNaN(r)?0:r)}),ze(N,"$ord",function(){var i=this;return typeof i.codePointAt=="function"?i.codePointAt(0):i.charCodeAt(0)}),ze(N,"$partition",function(i){var r=this,n,s;return i.$$is_regexp?(s=i.exec(r),s===null?n=-1:(p("MatchData").$new(i,s),i=s[0],n=s.index)):(i=Q(i,p("String"),"to_str"),n=r.indexOf(i)),n===-1?[r,"",""]:[r.slice(0,n),r.slice(n,n+i.length),r.slice(n+i.length)]}),ze(N,"$reverse",function(){var i=this;return i.split("").reverse().join("")}),ze(N,"$rindex",function(i,r){var n=this,s,o,g,y;if(r===void 0)r=n.length;else if(r=Q(r,p("Integer"),"to_int"),r<0&&(r+=n.length,r<0))return Z;if(i.$$is_regexp){for(o=null,g=je(i);y=g.exec(n),!(y===null||y.index>r);)o=y,g.lastIndex=o.index+1;o===null?(Ee["~"]=Z,s=-1):(p("MatchData").$new(g,o),s=o.index)}else i=Q(i,p("String"),"to_str"),s=n.lastIndexOf(i,r);return s===-1?Z:s},-2),ze(N,"$rjust",function(i,r){var n=this;if(r==null&&(r=" "),i=Q(i,p("Integer"),"to_int"),r=Q(r,p("String"),"to_str").$to_s(),te(r["$empty?"]())&&Ne.$raise(p("ArgumentError"),"zero width padding"),te(i<=n.length))return n;var s=Math.floor(i-n.length),o=Math.floor(s/r.length),g=Array(o+1).join(r),y=s-g.length;return g+r.slice(0,y)+n},-2),ze(N,"$rpartition",function(i){var r=this,n,s,o,g;if(i.$$is_regexp){for(s=null,o=je(i);g=o.exec(r),g!==null;)s=g,o.lastIndex=s.index+1;s===null?n=-1:(p("MatchData").$new(o,s),i=s[0],n=s.index)}else i=Q(i,p("String"),"to_str"),n=r.lastIndexOf(i);return n===-1?["","",r]:[r.slice(0,n),r.slice(n,n+i.length),r.slice(n+i.length)]}),ze(N,"$rstrip",function(){var i=this;return i.replace(/[\s\u0000]*$/,"")}),ze(N,"$scan",function d(i,r){var n=d.$$p||Z,s,o=this;d.$$p=null,r=He(r),s=r.$$smap.no_matchdata,s==null&&(s=!1);var g=[],y=Z,P;for(i.$$is_regexp?i=je(i):(i=Q(i,p("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(P=i.exec(o))!=null;)y=p("MatchData").$new(i,P,$e(["no_matchdata"],{no_matchdata:s})),n===Z?P.length==1?g.push(P[0]):g.push(y.$captures()):P.length==1?$.yield1(n,P[0]):$.yield1(n,y.$captures()),i.lastIndex===P.index&&(i.lastIndex+=1);return s||(Ee["~"]=y),n!==Z?o:g},-2),ze(N,"$singleton_class",function(){var i=this;return $.get_singleton_class(i)}),ze(N,"$split",function(i,r){var n=this,s=Z;if(Ee[";"]==null&&(Ee[";"]=Z),n.length===0)return[];if(r===void 0)r=0;else if(r=Te["$coerce_to!"](r,p("Integer"),"to_int"),r===1)return[n];(i===void 0||i===Z)&&(i=te(s=Ee[";"])?s:" ");var o=[],g=n.toString(),y=0,P,be,tt;if(i.$$is_regexp?i=je(i):(i=Q(i,p("String"),"to_str").$to_s(),i===" "?(i=/\s+/gm,g=g.replace(/^\s+/,"")):i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),o=g.split(i),o.length===1&&o[0]===g)return[o[0]];for(;(be=o.indexOf(void 0))!==-1;)o.splice(be,1);if(r===0){for(;o[o.length-1]==="";)o.length-=1;return o}if(P=i.exec(g),r<0){if(P!==null&&P[0]===""&&i.source.indexOf("(?=")===-1)for(be=0,tt=P.length;be<tt;be++)o.push("");return o}if(P!==null&&P[0]==="")return o.splice(r-1,o.length-1,o.slice(r-1).join("")),o;if(r>=o.length)return o;for(be=0;P!==null&&(be++,y=i.lastIndex,be+1!==r);)P=i.exec(g);return o.splice(r-1,o.length-1,g.slice(y)),o},-1),ze(N,"$squeeze",function(i){var r,n,s=this;if(r=W(arguments),n=r,n.length===0)return s.replace(/(.)\1+/g,"$1");var o=L(n);return o===null?s:s.replace(new RegExp("("+o+")\\1+","g"),"$1")},-1),ze(N,"$start_with?",function(i){var r,n,s=this;r=W(arguments),n=r;for(var o=0,g=n.length;o<g;o++)if(n[o].$$is_regexp){var y=n[o],P=y.exec(s);if(P!=null&&P.index===0)return Ee["~"]=p("MatchData").$new(y,P),!0;Ee["~"]=Z}else{var be=Q(n[o],p("String"),"to_str").$to_s();if(s.indexOf(be)===0)return!0}return!1},-1),ze(N,"$strip",function(){var i=this;return i.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),ze(N,"$sub",function d(i,r){var n=d.$$p||Z,s=this;d.$$p=null,i.$$is_regexp||(i=Q(i,p("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,g=i.exec(s);return g===null?(Ee["~"]=Z,o=s.toString()):(p("MatchData").$new(i,g),r===void 0?(n===Z&&Ne.$raise(p("ArgumentError"),"wrong number of arguments (1 for 2)"),o=s.slice(0,g.index)+n(g[0])+s.slice(g.index+g[0].length)):r.$$is_hash?o=s.slice(0,g.index)+r["$[]"](g[0]).$to_s()+s.slice(g.index+g[0].length):(r=Q(r,p("String"),"to_str"),r=r.replace(/([\\]+)([0-9+&`'])/g,function(y,P,be){if(P.length%2===0)return y;switch(be){case"+":for(var tt=g.length-1;tt>0;tt--)if(g[tt]!==void 0)return P.slice(1)+g[tt];return"";case"&":return P.slice(1)+g[0];case"`":return P.slice(1)+s.slice(0,g.index);case"'":return P.slice(1)+s.slice(g.index+g[0].length);default:return P.slice(1)+(g[be]||"")}}).replace(/\\\\/g,"\\"),o=s.slice(0,g.index)+r+s.slice(g.index+g[0].length))),o},-2),ze(N,"$sum",function(i){var r=this;i==null&&(i=16),i=Q(i,p("Integer"),"to_int");for(var n=0,s=r.length,o=0;o<s;o++)n+=r.charCodeAt(o);return i<=0?n:n&Math.pow(2,i)-1},-1),ze(N,"$swapcase",function(){var i=this,r=i.replace(/([a-z]+)|([A-Z]+)/g,function(n,s,o){return s?n.toUpperCase():n.toLowerCase()});return r}),ze(N,"$to_f",function(){var i=this;if(i.charAt(0)==="_")return 0;var r=parseFloat(i.replace(/_/g,""));return isNaN(r)||r==1/0||r==-1/0?0:r}),ze(N,"$to_i",function(i){var r=this;i==null&&(i=10);var n,s=r.toLowerCase(),o=Q(i,p("Integer"),"to_int");return(o===1||o<0||o>36)&&Ne.$raise(p("ArgumentError"),"invalid radix "+o),/^\s*_/.test(s)?0:(s=s.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(g,y,P,be){switch(be.charAt(0)){case"+":case"-":return g;case"0":if(be.charAt(1)==="x"&&P==="0x"&&(o===0||o===16))return g}switch(P){case"0b":if(o===0||o===2)return o=2,y+be;break;case"0":case"0o":if(o===0||o===8)return o=8,y+be;break;case"0d":if(o===0||o===10)return o=10,y+be;break;case"0x":if(o===0||o===16)return o=16,y+be;break}return g}),n=parseInt(s.replace(/_(?!_)/g,""),o),isNaN(n)?0:n)},-1),ze(N,"$to_proc",function d(){d.$$p;var i=this,r=Z,n=Z,s=Z;return d.$$p=null,r=i.valueOf(),n=$.jsid(r),s=Be(Ne,"proc",[],function o(g){var y=o.$$p||Z,P,be;o.$$p=null,P=W(arguments),be=P,be.length===0&&Ne.$raise(p("ArgumentError"),"no receiver given");var tt=be[0];tt==null&&(tt=Z);var ot=tt[n];return ot?be=be.slice(1):(ot=tt.$method_missing,be[0]=r),typeof y=="function"&&(ot.$$p=y),be.length===0?ot.call(tt):ot.apply(tt,be)},-1),s.$$source_location=Z,s}),ze(N,"$to_s",function(){var i=this;return i.toString()}),ze(N,"$tr",function(i,r){var n=this;if(i=Q(i,p("String"),"to_str").$to_s(),r=Q(r,p("String"),"to_str").$to_s(),i.length==0||i===r)return n;var s,o,g,y,P,be,tt,ot={},lt=i.split(""),vt=lt.length,_t=r.split(""),bt=_t.length,pt=!1,gt=null;lt[0]==="^"&&lt.length>1&&(pt=!0,lt.shift(),gt=_t[bt-1],vt-=1);var mt=[],Qe=null;for(o=!1,s=0;s<vt;s++)if(y=lt[s],Qe==null)Qe=y,mt.push(y);else if(y==="-")Qe==="-"?(mt.push("-"),mt.push("-")):s==vt-1?mt.push("-"):o=!0;else if(o){for(P=Qe.charCodeAt(0),be=y.charCodeAt(0),P>be&&Ne.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)mt.push(String.fromCharCode(g));mt.push(y),o=null,Qe=null}else mt.push(y);if(lt=mt,vt=lt.length,pt)for(s=0;s<vt;s++)ot[lt[s]]=!0;else{if(bt>0){var le=[],ge=null;for(o=!1,s=0;s<bt;s++)if(y=_t[s],ge==null)ge=y,le.push(y);else if(y==="-")ge==="-"?(le.push("-"),le.push("-")):s==bt-1?le.push("-"):o=!0;else if(o){for(P=ge.charCodeAt(0),be=y.charCodeAt(0),P>be&&Ne.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)le.push(String.fromCharCode(g));le.push(y),o=null,ge=null}else le.push(y);_t=le,bt=_t.length}var De=vt-bt;if(De>0){var f=bt>0?_t[bt-1]:"";for(s=0;s<De;s++)_t.push(f)}for(s=0;s<vt;s++)ot[lt[s]]=_t[s]}var w="";for(s=0,tt=n.length;s<tt;s++){y=n.charAt(s);var J=ot[y];pt?w+=J==null?gt:y:w+=J??y}return w}),ze(N,"$tr_s",function(i,r){var n=this;if(i=Q(i,p("String"),"to_str").$to_s(),r=Q(r,p("String"),"to_str").$to_s(),i.length==0)return n;var s,o,g,y,P,be,tt,ot={},lt=i.split(""),vt=lt.length,_t=r.split(""),bt=_t.length,pt=!1,gt=null;lt[0]==="^"&&lt.length>1&&(pt=!0,lt.shift(),gt=_t[bt-1],vt-=1);var mt=[],Qe=null;for(o=!1,s=0;s<vt;s++)if(y=lt[s],Qe==null)Qe=y,mt.push(y);else if(y==="-")Qe==="-"?(mt.push("-"),mt.push("-")):s==vt-1?mt.push("-"):o=!0;else if(o){for(P=Qe.charCodeAt(0),be=y.charCodeAt(0),P>be&&Ne.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)mt.push(String.fromCharCode(g));mt.push(y),o=null,Qe=null}else mt.push(y);if(lt=mt,vt=lt.length,pt)for(s=0;s<vt;s++)ot[lt[s]]=!0;else{if(bt>0){var le=[],ge=null;for(o=!1,s=0;s<bt;s++)if(y=_t[s],Qe==null)Qe=y,le.push(y);else if(y==="-")ge==="-"?(le.push("-"),le.push("-")):s==bt-1?le.push("-"):o=!0;else if(o){for(P=Qe.charCodeAt(0),be=y.charCodeAt(0),P>be&&Ne.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(P)+"-"+String.fromCharCode(be)+'" in string transliteration'),g=P+1;g<be;g++)le.push(String.fromCharCode(g));le.push(y),o=null,Qe=null}else le.push(y);_t=le,bt=_t.length}var De=vt-bt;if(De>0){var f=bt>0?_t[bt-1]:"";for(s=0;s<De;s++)_t.push(f)}for(s=0;s<vt;s++)ot[lt[s]]=_t[s]}var w="",J=null;for(s=0,tt=n.length;s<tt;s++){y=n.charAt(s);var de=ot[y];pt?de==null?J==null&&(w+=gt,J=!0):(w+=y,J=null):de!=null?(J==null||J!==de)&&(w+=de,J=de):(w+=y,J=null)}return w}),ze(N,"$upcase",function(){var i=this;return i.toUpperCase()}),ze(N,"$upto",function d(i,r){var n=d.$$p||Z,s=this;if(d.$$p=null,r==null&&(r=!1),n===Z)return s.$enum_for("upto",i,r);var o,g,y=s.toString();if(i=Q(i,p("String"),"to_str"),y.length===1&&i.length===1)for(o=y.charCodeAt(0),g=i.charCodeAt(0);o<=g&&!(r&&o===g);)n(String.fromCharCode(o)),o+=1;else if(parseInt(y,10).toString()===y&&parseInt(i,10).toString()===i)for(o=parseInt(y,10),g=parseInt(i,10);o<=g&&!(r&&o===g);)n(o.toString()),o+=1;else for(;y.length<=i.length&&y<=i&&!(r&&y===i);)n(y),y=y.$succ();return s},-2);function L(d){function i(ot){var lt="",vt,_t=ot.length,bt,pt,gt,mt,Qe;for(vt=0;vt<_t;vt++)if(bt=ot.charAt(vt),bt==="-"&&vt>0&&vt<_t-1&&!pt){for(gt=ot.charCodeAt(vt-1),mt=ot.charCodeAt(vt+1),gt>mt&&Ne.$raise(p("ArgumentError"),'invalid range "'+gt+"-"+mt+'" in string transliteration'),Qe=gt+1;Qe<mt+1;Qe++)lt+=String.fromCharCode(Qe);pt=!0,vt++}else pt=bt==="\\",lt+=bt;return lt}function r(ot,lt){if(ot.length===0)return lt;var vt="",_t,bt=ot.length,pt;for(_t=0;_t<bt;_t++)pt=ot.charAt(_t),lt.indexOf(pt)!==-1&&(vt+=pt);return vt}var n,s,o,g,y,P,be="",tt="";for(n=0,s=d.length;n<s;n++)o=Q(d[n],p("String"),"to_str"),g=o.charAt(0)==="^"&&o.length>1,o=i(g?o.slice(1):o),g?tt=r(tt,o):be=r(be,o);if(be.length>0&&tt.length>0){for(P="",n=0,s=be.length;n<s;n++)y=be.charAt(n),tt.indexOf(y)===-1&&(P+=y);be=P,tt=""}return be.length>0?"["+p("Regexp").$escape(be)+"]":tt.length>0?"[^"+p("Regexp").$escape(tt)+"]":null}return ze(N,"$instance_variables",function(){return[]}),ye(N,"$_load",function(i){var r,n,s=this;return r=W(arguments),n=r,Be(s,"new",Pe(n))},-1),ze(N,"$unicode_normalize",function(i){var r=this;return i==null&&(i="nfc"),te(["nfc","nfd","nfkc","nfkd"]["$include?"](i))||Ne.$raise(p("ArgumentError"),"Invalid normalization form "+i),r.normalize(i.$upcase())},-1),ze(N,"$unicode_normalized?",function(i){var r=this;return i==null&&(i="nfc"),r.$unicode_normalize(i)["$=="](r)},-1),ze(N,"$unpack",function(i){return Ne.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),ze(N,"$unpack1",function(i){return Ne.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),ze(N,"$freeze",function(){var i=this;return typeof i=="string"||_e(i,"$$frozen",!0),i}),ze(N,"$-@",function(){var i=this;return typeof i=="string"||i.$$frozen?i:i.encoding.name=="UTF-8"&&i.internal_encoding.name=="UTF-8"?i.toString():i.$dup().$freeze()}),ze(N,"$frozen?",function(){var i=this;return typeof i=="string"||i.$$frozen===!0}),pe(N,"+@","dup"),pe(N,"===","=="),pe(N,"byteslice","[]"),pe(N,"eql?","=="),pe(N,"equal?","==="),pe(N,"object_id","__id__"),pe(N,"slice","[]"),pe(N,"succ","next"),pe(N,"to_str","to_s"),pe(N,"to_sym","intern"),Te.$pristine(N,"initialize")}("::",String,ne),ae(ne[0],"Symbol",me("String"))};Opal.modules["corelib/enumerable"]=function($){var Q=$.truthy,Re=$.coerce_to,je=$.yield1,_e=$.yieldX,Xe=$.deny_frozen_access,ze=$.module,Te=$.send,ye=$.slice,W=$.to_a,Be=$.Opal,Pe=$.thrower,qe=$.def,He=$.Kernel,Ge=$.return_val,Ne=$.rb_gt,te=$.rb_times,Ee=$.rb_lt,Je=$.eqeq,Le=$.rb_plus,xe=$.rb_minus,$e=$.rb_divide,pe=$.rb_le,ae=$.hash2,Ie=$.lambda,ne=$.not,me=$.alias,Z=[],p=$.nil,oe=$.$$$;return $.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(I,V){var N=ze(I,"Enumerable"),Ae=[N].concat(V),re=$.$r(Ae);function L(d){return d.length===0&&(d=[p]),d.length>1&&(d=[d]),d}return qe(N,"$all?",function d(i){try{var r=Pe("return"),n=d.$$p||p,s=this;return d.$$p=null,Q(i!==void 0)?Te(s,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=L(P),Q(Te(i,"public_send",["==="].concat(W(be)))))return p;r.$throw(!1)},{$$arity:-1,$$ret:r}):n!==p?Te(s,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,Q($.yieldX(n,W(P))))return p;r.$throw(!1)},{$$arity:-1,$$ret:r}):Te(s,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,Q(Be.$destructure(P)))return p;r.$throw(!1)},{$$arity:-1,$$ret:r}),!0}catch(o){if(o===r)return o.$v;throw o}},-1),qe(N,"$any?",function d(i){try{var r=Pe("return"),n=d.$$p||p,s=this;return d.$$p=null,Q(i!==void 0)?Te(s,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=L(P),Q(Te(i,"public_send",["==="].concat(W(be)))))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}):n!==p?Te(s,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,Q($.yieldX(n,W(P))))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}):Te(s,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,Q(Be.$destructure(P)))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}),!1}catch(o){if(o===r)return o.$v;throw o}},-1),qe(N,"$chunk",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p?Te(r,"to_enum",["chunk"],function n(){var s=n.$$s==null?this:n.$$s;return s.$enumerator_size()},{$$s:r}):Te(oe("Enumerator"),"new",[],function n(s){var o=n.$$s==null?this:n.$$s;s==null&&(s=p);var g=p,y=[];function P(){y.length>0&&s.$yield(g,y)}o.$each.$$p=function(be){var tt=je(i,be);tt===p?(P(),y=[],g=p):(g===p||g===tt?y.push(be):(P(),y=[be]),g=tt)},o.$each(),P()},{$$s:r})}),qe(N,"$chunk_while",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p&&He.$raise(oe("ArgumentError"),"no block given"),Te(r,"slice_when",[],function(s,o){return s==null&&(s=p),o==null&&(o=p),$.yieldX(i,[s,o])["$!"]()})}),qe(N,"$collect",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return Te(r,"enum_for",["collect"],function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var s=_e(i,arguments);n.push(s)},r.$each(),n}),qe(N,"$collect_concat",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p?Te(r,"enum_for",["collect_concat"],function n(){var s=n.$$s==null?this:n.$$s;return s.$enumerator_size()},{$$s:r}):Te(r,"map",[],i.$to_proc()).$flatten(1)}),qe(N,"$compact",function(){var i=this;return i.$to_a().$compact()}),qe(N,"$count",function d(i){var r=d.$$p||p,n=this,s=p;return d.$$p=null,s=0,i!=null&&r!==p&&n.$warn("warning: given block not used"),Q(i!=null)?r=Te(He,"proc",[],function(g){var y,P;return y=ye(arguments),P=y,Be.$destructure(P)["$=="](i)},-1):Q(r["$nil?"]())&&(r=Te(He,"proc",[],Ge(!0))),Te(n,"each",[],function(g){var y,P;return y=ye(arguments),P=y,Q(_e(r,P))?s++:p},-1),s},-1),qe(N,"$cycle",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),r===p)return Te(n,"enum_for",["cycle",i],function y(){var P=y.$$s==null?this:y.$$s;return Q(i["$nil?"]())?Q(P["$respond_to?"]("size"))?oe(oe("Float"),"INFINITY"):p:(i=Be["$coerce_to!"](i,oe("Integer"),"to_int"),Q(Ne(i,0))?te(P.$enumerator_size(),i):0)},{$$s:n});if(!Q(i["$nil?"]())&&(i=Be["$coerce_to!"](i,oe("Integer"),"to_int"),Q(i<=0)))return p;var s=[],o,g;if(n.$each.$$p=function(){var y=Be.$destructure(arguments);je(r,y),s.push(y)},n.$each(),s.length===0)return p;if(i===p)for(;;)for(o=0,g=s.length;o<g;o++)je(r,s[o]);else for(;i>1;){for(o=0,g=s.length;o<g;o++)je(r,s[o]);i--}},-1),qe(N,"$detect",function d(i){try{var r=Pe("return"),n=d.$$p||p,s=this;return d.$$p=null,n===p?s.$enum_for("detect",i):(Te(s,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=Be.$destructure(P),Q($.yield1(n,be)))r.$throw(be);else return p},{$$arity:-1,$$ret:r}),i!==void 0?typeof i=="function"?i():i:p)}catch(o){if(o===r)return o.$v;throw o}},-1),qe(N,"$drop",function(i){var r=this;i=Re(i,oe("Integer"),"to_int"),Q(i<0)&&He.$raise(oe("ArgumentError"),"attempt to drop negative size");var n=[],s=0;return r.$each.$$p=function(){i<=s&&n.push(Be.$destructure(arguments)),s++},r.$each(),n}),qe(N,"$drop_while",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return r.$enum_for("drop_while");var n=[],s=!0;return r.$each.$$p=function(){var o=Be.$destructure(arguments);if(s){var g=je(i,o);Q(g)||(s=!1,n.push(o))}else n.push(o)},r.$each(),n}),qe(N,"$each_cons",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,Q(arguments.length!=1)&&He.$raise(oe("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),i=Be.$try_convert(i,oe("Integer"),"to_int"),Q(i<=0)&&He.$raise(oe("ArgumentError"),"invalid size"),r===p)return Te(n,"enum_for",["each_cons",i],function o(){var g=o.$$s==null?this:o.$$s,y=p;return y=g.$enumerator_size(),Q(y["$nil?"]())?p:Je(y,0)||Q(Ee(y,i))?0:Le(xe(y,i),1)},{$$s:n});var s=[];return n.$each.$$p=function(){var o=Be.$destructure(arguments);s.push(o),s.length>i&&s.shift(),s.length==i&&je(r,s.slice(0,i))},n.$each(),n}),qe(N,"$each_entry",function d(i){var r=d.$$p||p,n,s,o=this;return d.$$p=null,n=ye(arguments),s=n,r===p?Te(o,"to_enum",["each_entry"].concat(W(s)),function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:o}):(o.$each.$$p=function(){var g=Be.$destructure(arguments);je(r,g)},o.$each.apply(o,s),o)},-1),qe(N,"$each_slice",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i=Re(i,oe("Integer"),"to_int"),Q(i<=0)&&He.$raise(oe("ArgumentError"),"invalid slice size"),r===p)return Te(n,"enum_for",["each_slice",i],function o(){var g=o.$$s==null?this:o.$$s;return Q(g["$respond_to?"]("size"))?$e(g.$size(),i).$ceil():p},{$$s:n});var s=[];return n.$each.$$p=function(){var o=Be.$destructure(arguments);s.push(o),s.length===i&&(je(r,s),s=[])},n.$each(),s.length>0&&je(r,s),n}),qe(N,"$each_with_index",function d(i){var r=d.$$p||p,n,s,o=this;if(d.$$p=null,n=ye(arguments),s=n,r===p)return Te(o,"enum_for",["each_with_index"].concat(W(s)),function y(){var P=y.$$s==null?this:y.$$s;return P.$enumerator_size()},{$$s:o});var g=0;return o.$each.$$p=function(){var y=Be.$destructure(arguments);r(y,g),g++},o.$each.apply(o,s),o},-1),qe(N,"$each_with_object",function d(i){var r=d.$$p||p,n=this;return d.$$p=null,r===p?Te(n,"enum_for",["each_with_object",i],function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:n}):(n.$each.$$p=function(){var s=Be.$destructure(arguments);r(s,i)},n.$each(),i)}),qe(N,"$entries",function(i){var r,n,s=this;r=ye(arguments),n=r;var o=[];return s.$each.$$p=function(){o.push(Be.$destructure(arguments))},s.$each.apply(s,n),o},-1),qe(N,"$filter_map",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p?Te(r,"enum_for",["filter_map"],function n(){var s=n.$$s==null?this:n.$$s;return s.$enumerator_size()},{$$s:r}):Te(Te(r,"map",[],i.$to_proc()),"select",[],"itself".$to_proc())}),qe(N,"$find_all",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return Te(r,"enum_for",["find_all"],function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var s=Be.$destructure(arguments),o=je(i,s);Q(o)&&n.push(s)},r.$each(),n}),qe(N,"$find_index",function d(i){try{var r=Pe("return"),n=d.$$p||p,s=this,o=p;return d.$$p=null,Q(i===void 0&&n===p)?s.$enum_for("find_index"):(i!=null&&n!==p&&s.$warn("warning: given block not used"),o=0,Q(i!=null)?Te(s,"each",[],function(y){var P,be;return P=ye(arguments),be=P,Je(Be.$destructure(be),i)&&r.$throw(o),o+=1},{$$arity:-1,$$ret:r}):Te(s,"each",[],function(y){var P,be;return P=ye(arguments),be=P,Q($.yieldX(n,W(be)))&&r.$throw(o),o+=1},{$$arity:-1,$$ret:r}),p)}catch(g){if(g===r)return g.$v;throw g}},-1),qe(N,"$first",function(i){try{var r=Pe("return"),n=this,s=p,o=p;return Q(i===void 0)?Te(n,"each",[],function(y){y==null&&(y=p),r.$throw(y)},{$$ret:r}):(s=[],i=Re(i,oe("Integer"),"to_int"),Q(i<0)&&He.$raise(oe("ArgumentError"),"attempt to take negative size"),Q(i==0)?[]:(o=0,Te(n,"each",[],function(y){var P,be;if(P=ye(arguments),be=P,s.push(Be.$destructure(be)),Q(i<=++o))r.$throw(s);else return p},{$$arity:-1,$$ret:r}),s))}catch(g){if(g===r)return g.$v;throw g}},-1),qe(N,"$grep",function d(i){var r=d.$$p||p,n=this,s=p;return d.$$p=null,s=[],Te(n,"each",[],function(g){var y,P,be=p;return y=ye(arguments),P=y,be=L(P),Q(Te(i,"__send__",["==="].concat(W(be))))?(r!==p?(Q(Ne(P.$length(),1))&&(P=[P]),P=$.yieldX(r,W(P))):Q(pe(P.$length(),1))&&(P=P["$[]"](0)),s.$push(P)):p},-1),s}),qe(N,"$grep_v",function d(i){var r=d.$$p||p,n=this,s=p;return d.$$p=null,s=[],Te(n,"each",[],function(g){var y,P,be=p;return y=ye(arguments),P=y,be=L(P),Q(Te(i,"__send__",["==="].concat(W(be))))?p:(r!==p?(Q(Ne(P.$length(),1))&&(P=[P]),P=$.yieldX(r,W(P))):Q(pe(P.$length(),1))&&(P=P["$[]"](0)),s.$push(P))},-1),s}),qe(N,"$group_by",function d(){var i=d.$$p||p,r,n=this,s=p,o=p;return d.$$p=null,i===p?Te(n,"enum_for",["group_by"],function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:n}):(s=ae([],{}),n.$each.$$p=function(){var g=Be.$destructure(arguments),y=je(i,g);(Q(o=s["$[]"](y))?o:(r=[y,[]],Te(s,"[]=",r),r[r.length-1]))["$<<"](g)},n.$each(),s)}),qe(N,"$include?",function(i){try{var r=Pe("return"),n=this;return Te(n,"each",[],function(o){var g,y;if(g=ye(arguments),y=g,Je(Be.$destructure(y),i))r.$throw(!0);else return p},{$$arity:-1,$$ret:r}),!1}catch(s){if(s===r)return s.$v;throw s}}),qe(N,"$inject",function d(i,r){var n=d.$$p||p,s=this;d.$$p=null;var o=i;return n!==p&&r===void 0?s.$each.$$p=function(){var g=Be.$destructure(arguments);if(o===void 0){o=g;return}g=_e(n,[o,g]),o=g}:(r===void 0&&(oe("Symbol")["$==="](i)||He.$raise(oe("TypeError"),""+i.$inspect()+" is not a Symbol"),r=i,o=void 0),s.$each.$$p=function(){var g=Be.$destructure(arguments);if(o===void 0){o=g;return}o=o.$__send__(r,g)}),s.$each(),o??p},-1),qe(N,"$lazy",function(){var i=this;return Te(oe(oe("Enumerator"),"Lazy"),"new",[i,i.$enumerator_size()],function(n,s){var o,g;return n==null&&(n=p),o=ye(arguments,1),g=o,Te(n,"yield",W(g))},-2)}),qe(N,"$enumerator_size",function(){var i=this;return Q(i["$respond_to?"]("size"))?i.$size():p}),qe(N,"$max",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i===void 0||i===p){var s,o;return n.$each.$$p=function(){var g=Be.$destructure(arguments);if(s===void 0){s=g;return}r!==p?o=_e(r,[g,s]):o=g["$<=>"](s),o===p&&He.$raise(oe("ArgumentError"),"comparison failed"),o>0&&(s=g)},n.$each(),s===void 0?p:s}return i=Re(i,oe("Integer"),"to_int"),Te(n,"sort",[],r.$to_proc()).$reverse().$first(i)},-1),qe(N,"$max_by",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),!Q(r))return Te(n,"enum_for",["max_by",i],function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:n});if(!Q(i["$nil?"]()))return Te(n,"sort_by",[],r.$to_proc()).$reverse().$take(i);var s,o;return n.$each.$$p=function(){var g=Be.$destructure(arguments),y=je(r,g);if(s===void 0){s=g,o=y;return}y["$<=>"](o)>0&&(s=g,o=y)},n.$each(),s===void 0?p:s},-1),qe(N,"$min",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),!Q(i["$nil?"]()))return r!==p?Te(n,"sort",[],function(g,y){return g==null&&(g=p),y==null&&(y=p),$.yieldX(r,[g,y])}).$take(i):n.$sort().$take(i);var s;return r!==p?n.$each.$$p=function(){var o=Be.$destructure(arguments);if(s===void 0){s=o;return}var g=r(o,s);g===p&&He.$raise(oe("ArgumentError"),"comparison failed"),g<0&&(s=o)}:n.$each.$$p=function(){var o=Be.$destructure(arguments);if(s===void 0){s=o;return}Be.$compare(o,s)<0&&(s=o)},n.$each(),s===void 0?p:s},-1),qe(N,"$min_by",function d(i){var r=d.$$p||p,n=this;if(d.$$p=null,i==null&&(i=p),!Q(r))return Te(n,"enum_for",["min_by",i],function g(){var y=g.$$s==null?this:g.$$s;return y.$enumerator_size()},{$$s:n});if(!Q(i["$nil?"]()))return Te(n,"sort_by",[],r.$to_proc()).$take(i);var s,o;return n.$each.$$p=function(){var g=Be.$destructure(arguments),y=je(r,g);if(s===void 0){s=g,o=y;return}y["$<=>"](o)<0&&(s=g,o=y)},n.$each(),s===void 0?p:s},-1),qe(N,"$minmax",function d(){var i=d.$$p||p,r=this,n=p;d.$$p=null,i=Q(n=i)?n:Te(He,"proc",[],function(P,be){return P==null&&(P=p),be==null&&(be=p),P["$<=>"](be)});var s=p,o=p,g=!0;return r.$each.$$p=function(){var y=Be.$destructure(arguments);if(g)s=o=y,g=!1;else{var P=i.$call(s,y);P===p?He.$raise(oe("ArgumentError"),"comparison failed"):P>0&&(s=y);var be=i.$call(o,y);be===p?He.$raise(oe("ArgumentError"),"comparison failed"):be<0&&(o=y)}},r.$each(),[s,o]}),qe(N,"$minmax_by",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,!Q(i))return Te(r,"enum_for",["minmax_by"],function y(){var P=y.$$s==null?this:y.$$s;return P.$enumerator_size()},{$$s:r});var n=p,s=p,o,g;return r.$each.$$p=function(){var y=Be.$destructure(arguments),P=je(i,y);(o===void 0||P["$<=>"](o)<0)&&(n=y,o=P),(g===void 0||P["$<=>"](g)>0)&&(s=y,g=P)},r.$each(),[n,s]}),qe(N,"$none?",function d(i){try{var r=Pe("return"),n=d.$$p||p,s=this;return d.$$p=null,Q(i!==void 0)?Te(s,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=L(P),Q(Te(i,"public_send",["==="].concat(W(be)))))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}):n!==p?Te(s,"each",[],function(g){var y,P;if(y=ye(arguments),P=y,Q($.yieldX(n,W(P))))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}):Te(s,"each",[],function(g){var y,P,be=p;if(y=ye(arguments),P=y,be=Be.$destructure(P),Q(be))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}),!0}catch(o){if(o===r)return o.$v;throw o}},-1),qe(N,"$one?",function d(i){try{var r=Pe("return"),n=d.$$p||p,s=this,o=p;return d.$$p=null,o=0,Q(i!==void 0)?Te(s,"each",[],function(y){var P,be,tt=p;if(P=ye(arguments),be=P,tt=L(be),Q(Te(i,"public_send",["==="].concat(W(tt)))))if(o=Le(o,1),Q(Ne(o,1)))r.$throw(!1);else return p;else return p},{$$arity:-1,$$ret:r}):n!==p?Te(s,"each",[],function(y){var P,be;if(P=ye(arguments),be=P,!Q($.yieldX(n,W(be))))return p;if(o=Le(o,1),Q(Ne(o,1)))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}):Te(s,"each",[],function(y){var P,be;if(P=ye(arguments),be=P,!Q(Be.$destructure(be)))return p;if(o=Le(o,1),Q(Ne(o,1)))r.$throw(!1);else return p},{$$arity:-1,$$ret:r}),o["$=="](1)}catch(g){if(g===r)return g.$v;throw g}},-1),qe(N,"$partition",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return Te(r,"enum_for",["partition"],function o(){var g=o.$$s==null?this:o.$$s;return g.$enumerator_size()},{$$s:r});var n=[],s=[];return r.$each.$$p=function(){var o=Be.$destructure(arguments),g=je(i,o);Q(g)?n.push(o):s.push(o)},r.$each(),[n,s]}),qe(N,"$reject",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return Te(r,"enum_for",["reject"],function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var s=Be.$destructure(arguments),o=je(i,s);Q(o)||n.push(s)},r.$each(),n}),qe(N,"$reverse_each",function d(){var i=d.$$p||p,r=this;if(d.$$p=null,i===p)return Te(r,"enum_for",["reverse_each"],function o(){var g=o.$$s==null?this:o.$$s;return g.$enumerator_size()},{$$s:r});var n=[];r.$each.$$p=function(){n.push(arguments)},r.$each();for(var s=n.length-1;s>=0;s--)_e(i,n[s]);return n}),qe(N,"$slice_before",function d(i){var r=d.$$p||p,n=this;return d.$$p=null,Q(i===void 0&&r===p)&&He.$raise(oe("ArgumentError"),"both pattern and block are given"),Q(i!==void 0&&r!==p||arguments.length>1)&&He.$raise(oe("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),Te(oe("Enumerator"),"new",[],function s(o){var g=s.$$s==null?this:s.$$s;o==null&&(o=p);var y=[];r!==p?i===void 0?g.$each.$$p=function(){var P=Be.$destructure(arguments),be=je(r,P);Q(be)&&y.length>0&&(o["$<<"](y),y=[]),y.push(P)}:g.$each.$$p=function(){var P=Be.$destructure(arguments),be=r(P,i.$dup());Q(be)&&y.length>0&&(o["$<<"](y),y=[]),y.push(P)}:g.$each.$$p=function(){var P=Be.$destructure(arguments),be=i["$==="](P);Q(be)&&y.length>0&&(o["$<<"](y),y=[]),y.push(P)},g.$each(),y.length>0&&o["$<<"](y)},{$$s:n})},-1),qe(N,"$slice_after",function d(i){var r=d.$$p||p,n=this;return d.$$p=null,Q(i===void 0&&r===p)&&He.$raise(oe("ArgumentError"),"both pattern and block are given"),Q(i!==void 0&&r!==p||arguments.length>1)&&He.$raise(oe("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),Q(i!==void 0)&&(r=Te(He,"proc",[],function(o){return o==null&&(o=p),i["$==="](o)})),Te(oe("Enumerator"),"new",[],function s(o){var g=s.$$s==null?this:s.$$s;o==null&&(o=p);var y;g.$each.$$p=function(){var P=Be.$destructure(arguments),be=je(r,P);y==null&&(y=[]),Q(be)?(y.push(P),o.$yield(y),y=null):y.push(P)},g.$each(),y!=null&&o.$yield(y)},{$$s:n})},-1),qe(N,"$slice_when",function d(){var i=d.$$p||p,r=this;return d.$$p=null,i===p&&He.$raise(oe("ArgumentError"),"wrong number of arguments (0 for 1)"),Te(oe("Enumerator"),"new",[],function n(s){var o=n.$$s==null?this:n.$$s;s==null&&(s=p);var g=p,y=p;o.$each_cons.$$p=function(){var P=Be.$destructure(arguments),be=P[0],tt=P[1],ot=_e(i,[be,tt]);y=tt,g===p&&(g=[]),Q(ot)?(g.push(be),s.$yield(g),g=[]):g.push(be)},o.$each_cons(2),g!==p&&(g.push(y),s.$yield(g))},{$$s:r})}),qe(N,"$sort",function d(){var i=d.$$p||p,r=this,n=p;return d.$$p=null,n=r.$to_a(),i===p&&(i=Ie(function(o,g){return o==null&&(o=p),g==null&&(g=p),o["$<=>"](g)})),Te(n,"sort",[],i.$to_proc())}),qe(N,"$sort_by",function d(){var i=d.$$p||p,r=this,n=p;return d.$$p=null,i===p?Te(r,"enum_for",["sort_by"],function s(){var o=s.$$s==null?this:s.$$s;return o.$enumerator_size()},{$$s:r}):(n=Te(r,"map",[],function(){var o=p;return o=Be.$destructure(arguments),[$.yield1(i,o),o]}),Te(n,"sort!",[],function(o,g){return o==null&&(o=p),g==null&&(g=p),o[0]["$<=>"](g[0])}),Te(n,"map!",[],function(o){return o==null&&(o=p),o[1]}))}),qe(N,"$sum",function d(i){var r=d.$$p||p,n=this,s=p,o=p;return d.$$p=null,i==null&&(i=0),s=i,o=0,Te(n,"each",[],function(y){var P,be,tt=p,ot=p,lt=p;return P=ye(arguments),be=P,tt=r!==p?$.yieldX(r,W(be)):Be.$destructure(be),ne([oe(oe("Float"),"INFINITY"),oe(oe("Float"),"INFINITY")["$-@"]()]["$include?"](tt))&&Q(tt["$respond_to?"]("-"))?(ot=xe(tt,o),lt=Le(s,ot),o=xe(xe(lt,s),ot),s=lt):s=Le(s,tt)},-1),s},-1),qe(N,"$take",function(i){var r=this;return r.$first(i)}),qe(N,"$take_while",function d(){try{var i=Pe("return"),r=d.$$p||p,n=this,s=p;return d.$$p=null,Q(r)?(s=[],Te(n,"each",[],function(g){var y,P,be=p;return y=ye(arguments),P=y,be=Be.$destructure(P),Q($.yield1(r,be))||i.$throw(s),s.push(be)},{$$arity:-1,$$ret:i})):n.$enum_for("take_while")}catch(o){if(o===i)return o.$v;throw o}}),qe(N,"$uniq",function d(){var i=d.$$p||p,r=this,n=p;return d.$$p=null,n=ae([],{}),Te(r,"each",[],function(o){var g,y,P,be=p,tt=p;return g=ye(arguments),y=g,be=Be.$destructure(y),tt=i!==p?$.yield1(i,be):be,Q(n["$key?"](tt))?p:(P=[tt,be],Te(n,"[]=",P),P[P.length-1])},-1),n.$values()}),qe(N,"$tally",function(i){var r=this,n=p;return i&&i!==p&&Xe(i),n=Te(Te(r,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),Q(i)?(Te(n,"each",[],function(o,g){var y;return o==null&&(o=p),g==null&&(g=p),y=[o,Le(i.$fetch(o,0),g)],Te(i,"[]=",y),y[y.length-1]}),i):n},-1),qe(N,"$to_h",function d(i){var r=d.$$p||p,n,s,o=this;if(d.$$p=null,n=ye(arguments),s=n,r!==p)return Te(Te(o,"map",[],r.$to_proc()),"to_h",W(s));var g=ae([],{});return o.$each.$$p=function(){var y=Be.$destructure(arguments),P=Be["$coerce_to?"](y,oe("Array"),"to_ary"),be,tt;P.$$is_array||He.$raise(oe("TypeError"),"wrong element type "+P.$class()+" (expected array)"),P.length!==2&&He.$raise(oe("ArgumentError"),"wrong array length (expected 2, was "+P.$length()+")"),be=P[0],tt=P[1],$.hash_put(g,be,tt)},o.$each.apply(o,s),g},-1),qe(N,"$to_set",function d(i,r){var n=d.$$p||p,s,o,g,y=this;return d.$$p=null,s=ye(arguments),s.length>0&&(o=s.shift()),o==null&&(o=re("Set")),g=s,Te(o,"new",[y].concat(W(g)),n.$to_proc())},-1),qe(N,"$zip",function d(i){d.$$p;var r,n,s=this;return d.$$p=null,r=ye(arguments),n=r,Te(s.$to_a(),"zip",W(n))},-1),me(N,"find","detect"),me(N,"filter","find_all"),me(N,"flat_map","collect_concat"),me(N,"map","collect"),me(N,"member?","include?"),me(N,"reduce","inject"),me(N,"select","find_all"),me(N,"to_a","entries")}("::",Z)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function($){var Q=$.klass,Re=$.truthy,je=$.to_a,_e=$.eqeq,Xe=$.Kernel,ze=$.def,Te=$.rb_gt,ye=$.rb_lt,W=$.rb_le,Be=$.rb_ge,Pe=$.rb_plus,qe=$.rb_minus,He=$.eqeqeq,Ge=$.not,Ne=$.rb_times,te=$.rb_divide,Ee=$.alias,Je=[],Le=$.nil,xe=$.$$$;return $.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function($e,pe,ae){var Ie=Q($e,pe,"Enumerator"),ne=[Ie].concat(ae);return function(me,Z,p){var oe=Q(me,Z,"ArithmeticSequence"),I=[oe].concat(p),V=$.$r(I),N=oe.$$prototype;N.step_arg2=N.receiver_num=N.step_arg1=N.step=N.range=N.topfx=N.bypfx=N.creation_method=N.skipped_arg=Le,$.prop(oe.$$prototype,"$$is_arithmetic_seq",!0);var Ae=1/0;return ze(oe,"$initialize",function(L,d,i){var r,n=this,s=Le;return i==null&&(i="step"),n.creation_method=i,Re(L["$is_a?"](xe("Array")))?(r=[].concat(je(L)),n.step_arg1=r[0]==null?Le:r[0],n.step_arg2=r[1]==null?Le:r[1],n.topfx=r[2]==null?Le:r[2],n.bypfx=r[3]==null?Le:r[3],n.receiver_num=d,n.step=1,n.range=Re(n.step_arg2)?(n.step=n.step_arg2,$.Range.$new(n.receiver_num,n.step_arg1,!1)):Re(n.step_arg1)?$.Range.$new(n.receiver_num,n.step_arg1,!1):$.Range.$new(n.receiver_num,Le,!1)):(Re(d)||(n.skipped_arg=!0),r=[L,Re(s=d)?s:1],n.range=r[0],n.step=r[1]),n.object=n,_e(n.step,0)&&Xe.$raise(V("ArgumentError"),"step can't be 0"),Re(n.step["$respond_to?"]("to_int"))?Le:Xe.$raise(V("ArgumentError"),"no implicit conversion of "+n.step.$class()+" into Integer")},-2),oe.$attr_reader("step"),ze(oe,"$begin",function(){var L=this;return L.range.$begin()}),ze(oe,"$end",function(){var L=this;return L.range.$end()}),ze(oe,"$exclude_end?",function(){var L=this;return L.range["$exclude_end?"]()}),ze(oe,"$_lesser_than_end?",function(L){var d=this,i=Le,r=Le;return i=Re(r=d.$end())?r:Ae,Re(Te(d.$step(),0))?Re(d["$exclude_end?"]())?ye(L,i):W(L,i):Re(d["$exclude_end?"]())?Te(L,i):Be(L,i)}),ze(oe,"$_greater_than_begin?",function(L){var d=this,i=Le,r=Le;return i=Re(r=d.$begin())?r:Ae["$-@"](),Re(Te(d.$step(),0))?Te(L,i):ye(L,i)}),ze(oe,"$first",function(L){var d=this,i=Le,r=Le,n=Le;if(i=Re(r=d.$begin())?r:Ae["$-@"](),!Re(L))return Re(d["$_lesser_than_end?"](i))?i:Le;for(n=[];Re(Re(r=d["$_lesser_than_end?"](i))?Te(L,0):r);)n["$<<"](i),i=Pe(i,d.$step()),L=qe(L,1);return n},-1),ze(oe,"$each",function re(){var L=re.$$p||Le,d=this,i=Le,r=Le;if(re.$$p=null,L===Le)return d;for(He(Le,i=d.$begin())&&Xe.$raise(V("TypeError"),"nil can't be coerced into Integer"),r=Re(i=d.$begin())?i:Ae["$-@"]();Re(d["$_lesser_than_end?"](r));)$.yield1(L,r),r=Pe(r,d.$step());return d}),ze(oe,"$last",function(L){var d=this,i=Le,r=Le,n=Le;if(He(Ae,i=d.$end())||He(Ae["$-@"](),i)?Xe.$raise(xe("FloatDomainError"),d.$end()):He(Le,i)&&Xe.$raise(xe("RangeError"),"cannot get the last element of endless arithmetic sequence"),r=qe(d.$end(),qe(d.$end(),d.$begin())["$%"](d.$step())),Re(d["$_lesser_than_end?"](r))||(r=qe(r,d.$step())),!Re(L))return Re(d["$_greater_than_begin?"](r))?r:Le;for(n=[];Re(Re(i=d["$_greater_than_begin?"](r))?Te(L,0):i);)n["$<<"](r),r=qe(r,d.$step()),L=qe(L,1);return n.$reverse()},-1),ze(oe,"$size",function(){var L=this,d=Le,i=Le;return d=Re(Te(L.$step(),0))?1:-1,Ge(L["$_lesser_than_end?"](L.$begin()))?0:Re([Ae["$-@"](),Ae]["$include?"](L.$step()))?1:Re([Ne(Ae["$-@"](),d),Le]["$include?"](L.$begin()))||Re([Ne(Ae,d),Le]["$include?"](L.$end()))?Ae:(i=qe(L.$end(),qe(L.$end(),L.$begin())["$%"](L.$step())),Re(L["$_lesser_than_end?"](i))||(i=qe(i,L.$step())),Pe(te(qe(i,L.$begin()),L.$step()).$abs().$to_i(),1))}),ze(oe,"$==",function(L){var d=this,i=Le,r=Le,n=Le,s=Le;return Re(i=Re(r=Re(n=Re(s=d.$class()["$=="](L.$class()))?d.$begin()["$=="](L.$begin()):s)?d.$end()["$=="](L.$end()):n)?d.$step()["$=="](L.$step()):r)?d["$exclude_end?"]()["$=="](L["$exclude_end?"]()):i}),ze(oe,"$hash",function(){var L=this;return[L.$begin(),L.$end(),L.$step(),L["$exclude_end?"]()].$hash()}),ze(oe,"$inspect",function(){var L=this,d=Le;return Re(L.receiver_num)?(d=Re(L.step_arg2)?"("+L.topfx+L.step_arg1.$inspect()+", "+L.bypfx+L.step_arg2.$inspect()+")":Re(L.step_arg1)?"("+L.topfx+L.step_arg1.$inspect()+")":Le,"("+L.receiver_num.$inspect()+"."+L.creation_method+d+")"):(d=Re(L.skipped_arg)?Le:"("+L.step+")","(("+L.range.$inspect()+")."+L.creation_method+d+")")}),Ee(oe,"===","=="),Ee(oe,"eql?","==")}(Ie,Ie,ne)}("::",null,Je)};Opal.modules["corelib/enumerator/chain"]=function($){var Q=$.deny_frozen_access,Re=$.klass,je=$.slice,_e=$.def,Xe=$.send,ze=$.to_a,Te=$.truthy,ye=$.rb_plus,W=$.thrower,Be=$.nil,Pe=$.$$$;return $.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(qe,He){var Ge=Re(qe,He,"Enumerator");return function(Ne,te){var Ee=Re(Ne,te,"Chain"),Je=Ee.$$prototype;return Je.enums=Je.iterated=Be,_e(Ee,"$initialize",function(xe){var $e,pe,ae=this;return $e=je(arguments),pe=$e,Q(ae),ae.enums=pe,ae.iterated=[],ae.object=ae},-1),_e(Ee,"$each",function Le(xe){var $e=Le.$$p||Be,pe,ae,Ie=this;return Le.$$p=null,pe=je(arguments),ae=pe,$e===Be?Xe(Ie,"to_enum",["each"].concat(ze(ae)),function ne(){var me=ne.$$s==null?this:ne.$$s;return me.$size()},{$$s:Ie}):(Xe(Ie.enums,"each",[],function ne(me){var Z=ne.$$s==null?this:ne.$$s;return Z.iterated==null&&(Z.iterated=Be),me==null&&(me=Be),Z.iterated["$<<"](me),Xe(me,"each",ze(ae),$e.$to_proc())},{$$s:Ie}),Ie)},-1),_e(Ee,"$size",function(xe){try{var $e=W("return"),pe,ae,Ie=this,ne=Be;return pe=je(arguments),ae=pe,ne=0,Xe(Ie.enums,"each",[],function(Z){var p=Be;return Z==null&&(Z=Be),p=Xe(Z,"size",ze(ae)),Te([Be,Pe(Pe("Float"),"INFINITY")]["$include?"](p))&&$e.$throw(p),ne=ye(ne,p)},{$$ret:$e}),ne}catch(me){if(me===$e)return me.$v;throw me}},-1),_e(Ee,"$rewind",function(){var xe=this;return Xe(xe.iterated,"reverse_each",[],function(pe){return pe==null&&(pe=Be),Te(pe["$respond_to?"]("rewind"))?pe.$rewind():Be}),xe.iterated=[],xe}),_e(Ee,"$inspect",function(){var xe=this;return"#<Enumerator::Chain: "+xe.enums.$inspect()+">"})}(Ge,Ge)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function($){var Q=$.deny_frozen_access,Re=$.klass,je=$.truthy,_e=$.Kernel,Xe=$.def,ze=$.slice,Te=$.send,ye=[],W=$.nil,Be=$.$$$;return $.add_stubs("include,raise,new,to_proc"),function(Pe,qe,He){var Ge=Re(Pe,qe,"Enumerator"),Ne=[Ge].concat(He);return function(te,Ee,Je){var Le=Re(te,Ee,"Generator"),xe=[Le].concat(Je),$e=$.$r(xe),pe=Le.$$prototype;return pe.block=W,Le.$include(Be("Enumerable")),Xe(Le,"$initialize",function ae(){var Ie=ae.$$p||W,ne=this;return ae.$$p=null,Q(ne),je(Ie)||_e.$raise(Be("LocalJumpError"),"no block given"),ne.block=Ie}),Xe(Le,"$each",function ae(Ie){var ne=ae.$$p||W,me,Z,p=this,oe=W;ae.$$p=null,me=ze(arguments),Z=me,oe=Te($e("Yielder"),"new",[],ne.$to_proc());try{Z.unshift(oe),$.yieldX(p.block,Z)}catch(I){if(I&&I.$thrower_type=="breaker")return I.$v;throw I}return p},-1)}(Ne[0],null,Ne)}(ye[0],null,ye)};Opal.modules["corelib/enumerator/lazy"]=function($){var Q=$.truthy,Re=$.coerce_to,je=$.yield1,_e=$.yieldX,Xe=$.deny_frozen_access,ze=$.klass,Te=$.slice,ye=$.send2,W=$.find_super,Be=$.to_a,Pe=$.defs,qe=$.Kernel,He=$.send,Ge=$.def,Ne=$.return_self,te=$.Opal,Ee=$.rb_lt,Je=$.eqeqeq,Le=$.rb_plus,xe=$.alias,$e=[],pe=$.nil,ae=$.$$$;return $.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(Ie,ne,me){var Z=ze(Ie,ne,"Enumerator"),p=[Z].concat(me);return function(oe,I,V){var N=ze(oe,I,"Lazy"),Ae=[N].concat(V),re=$.$r(Ae),L=N.$$prototype;return L.enumerator=pe,ze(N,ae("Exception"),"StopLazyError"),Pe(N,"$for",function d(i,r){var n,s,o=d.$$p||pe,g=this,y=pe;return d.$$p=null,n=Te(arguments,1),s=n,y=ye(g,W(g,"for",d,!1,!0),"for",[i].concat(Be(s)),o),y.enumerator=i,y},-2),Ge(N,"$initialize",function d(i,r){var n=d.$$p||pe,s=this;return d.$$p=null,r==null&&(r=pe),Xe(s),n===pe&&qe.$raise(ae("ArgumentError"),"tried to call lazy new without a block"),s.enumerator=i,ye(s,W(s,"initialize",d,!1,!0),"initialize",[r],function(g,y){var P,be;g==null&&(g=pe),P=Te(arguments,1),be=P;try{return He(i,"each",Be(be),function(ot){var lt,vt;lt=Te(arguments),vt=lt,vt.unshift(g),_e(n,vt)},-1)}catch(tt){if($.rescue(tt,[re("StopLazyError")]))try{return pe}finally{$.pop_exception()}else throw tt}},-2)},-2),Ge(N,"$lazy",Ne),Ge(N,"$collect",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,Q(i)||qe.$raise(ae("ArgumentError"),"tried to call lazy map without a block"),He(re("Lazy"),"new",[r,r.$enumerator_size()],function(s,o){var g,y;s==null&&(s=pe),g=Te(arguments,1),y=g;var P=_e(i,y);s.$yield(P)},-2)}),Ge(N,"$collect_concat",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,Q(i)||qe.$raise(ae("ArgumentError"),"tried to call lazy map without a block"),He(re("Lazy"),"new",[r,pe],function(s,o){var g,y;s==null&&(s=pe),g=Te(arguments,1),y=g;var P=_e(i,y);if(P["$respond_to?"]("force")&&P["$respond_to?"]("each"))He(P,"each",[],function(ot){return ot==null&&(ot=pe),s.$yield(ot)});else{var be=te.$try_convert(P,ae("Array"),"to_ary");be===pe?s.$yield(P):He(P,"each",[],function(ot){return ot==null&&(ot=pe),s.$yield(ot)})}},-2)}),Ge(N,"$drop",function(i){var r=this,n=pe,s=pe,o=pe;return i=Re(i,ae("Integer"),"to_int"),Q(Ee(i,0))&&qe.$raise(ae("ArgumentError"),"attempt to drop negative size"),n=r.$enumerator_size(),s=Je(ae("Integer"),n)&&Q(Ee(i,n))?i:n,o=0,He(re("Lazy"),"new",[r,s],function(y,P){var be,tt;return y==null&&(y=pe),be=Te(arguments,1),tt=be,Q(Ee(o,i))?o=Le(o,1):He(y,"yield",Be(tt))},-2)}),Ge(N,"$drop_while",function d(){var i=d.$$p||pe,r=this,n=pe;return d.$$p=null,Q(i)||qe.$raise(ae("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,He(re("Lazy"),"new",[r,pe],function(o,g){var y,P;if(o==null&&(o=pe),y=Te(arguments,1),P=y,Q(n)){var be=_e(i,P);Q(be)||(n=!1,He(o,"yield",Be(P)))}else return He(o,"yield",Be(P))},-2)}),Ge(N,"$enum_for",function d(i,r){var n=d.$$p||pe,s,o,g,y=this;return d.$$p=null,s=Te(arguments),s.length>0&&(o=s.shift()),o==null&&(o="each"),g=s,He(y.$class(),"for",[y,o].concat(Be(g)),n.$to_proc())},-1),Ge(N,"$find_all",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,Q(i)||qe.$raise(ae("ArgumentError"),"tried to call lazy select without a block"),He(re("Lazy"),"new",[r,pe],function(s,o){var g,y;s==null&&(s=pe),g=Te(arguments,1),y=g;var P=_e(i,y);Q(P)&&He(s,"yield",Be(y))},-2)}),Ge(N,"$grep",function d(i){var r=d.$$p||pe,n=this;return d.$$p=null,Q(r)?He(re("Lazy"),"new",[n,pe],function(o,g){var y,P;o==null&&(o=pe),y=Te(arguments,1),P=y;var be=te.$destructure(P),tt=i["$==="](be);Q(tt)&&(tt=je(r,be),o.$yield(je(r,be)))},-2):He(re("Lazy"),"new",[n,pe],function(o,g){var y,P;o==null&&(o=pe),y=Te(arguments,1),P=y;var be=te.$destructure(P),tt=i["$==="](be);Q(tt)&&o.$yield(be)},-2)}),Ge(N,"$reject",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,Q(i)||qe.$raise(ae("ArgumentError"),"tried to call lazy reject without a block"),He(re("Lazy"),"new",[r,pe],function(s,o){var g,y;s==null&&(s=pe),g=Te(arguments,1),y=g;var P=_e(i,y);Q(P)||He(s,"yield",Be(y))},-2)}),Ge(N,"$take",function(i){var r=this,n=pe,s=pe,o=pe;return i=Re(i,ae("Integer"),"to_int"),Q(Ee(i,0))&&qe.$raise(ae("ArgumentError"),"attempt to take negative size"),n=r.$enumerator_size(),s=Je(ae("Integer"),n)&&Q(Ee(i,n))?i:n,o=0,He(re("Lazy"),"new",[r,s],function(y,P){var be,tt;return y==null&&(y=pe),be=Te(arguments,1),tt=be,Q(Ee(o,i))?(He(y,"yield",Be(tt)),o=Le(o,1)):qe.$raise(re("StopLazyError"))},-2)}),Ge(N,"$take_while",function d(){var i=d.$$p||pe,r=this;return d.$$p=null,Q(i)||qe.$raise(ae("ArgumentError"),"tried to call lazy take_while without a block"),He(re("Lazy"),"new",[r,pe],function(s,o){var g,y;s==null&&(s=pe),g=Te(arguments,1),y=g;var P=_e(i,y);Q(P)?He(s,"yield",Be(y)):qe.$raise(re("StopLazyError"))},-2)}),Ge(N,"$inspect",function(){var i=this;return"#<"+i.$class()+": "+i.enumerator.$inspect()+">"}),xe(N,"force","to_a"),xe(N,"filter","find_all"),xe(N,"flat_map","collect_concat"),xe(N,"map","collect"),xe(N,"select","find_all"),xe(N,"to_enum","enum_for")}(Z,Z,p)}("::",null,$e)};Opal.modules["corelib/enumerator/yielder"]=function($){var Q=$.klass,Re=$.def,je=$.slice,_e=$.send,Xe=$.to_a,ze=[],Te=$.nil;return $.add_stubs("yield,proc"),function(ye,W,Be){var Pe=Q(ye,W,"Enumerator"),qe=[Pe].concat(Be);return function(He,Ge){var Ne=Q(He,Ge,"Yielder"),te=Ne.$$prototype;return te.block=Te,Re(Ne,"$initialize",function Ee(){var Je=Ee.$$p||Te,Le=this;return Ee.$$p=null,Le.block=Je,Le}),Re(Ne,"$yield",function(Je){var Le,xe,$e=this;Le=je(arguments),xe=Le;var pe=$.yieldX($e.block,xe);if(pe&&pe.$thrower_type=="break")throw pe;return pe},-1),Re(Ne,"$<<",function(Je){var Le=this;return Le.$yield(Je),Le}),Re(Ne,"$to_proc",function(){var Je=this;return _e(Je,"proc",[],function Le(xe){var $e,pe,ae=Le.$$s==null?this:Le.$$s;return $e=je(arguments),pe=$e,_e(ae,"yield",Xe(pe))},{$$arity:-1,$$s:Je})})}(qe[0],null)}(ze[0],null,ze)};Opal.modules["corelib/enumerator"]=function($){var Q=$.slice,Re=$.coerce_to,je=$.deny_frozen_access,_e=$.klass,Xe=$.defs,ze=$.truthy,Te=$.send,ye=$.not,W=$.def,Be=$.rb_plus,Pe=$.to_a,qe=$.Opal,He=$.send2,Ge=$.find_super,Ne=$.rb_ge,te=$.Kernel,Ee=$.rb_le,Je=$.alias,Le=$.top,xe=[],$e=$.nil,pe=$.$$$;return $.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Le.$require("corelib/enumerable"),function(ae,Ie,ne){var me=_e(ae,Ie,"Enumerator"),Z=[me].concat(ne),p=$.$r(Z),oe=me.$$prototype;return oe.size=oe.args=oe.object=oe.method=oe.values=oe.cursor=$e,me.$include(pe("Enumerable")),me.$$prototype.$$is_enumerator=!0,Xe(me,"$for",function I(V,N,Ae){var re=I.$$p||$e,L,d,i,r=this;I.$$p=null,L=Q(arguments,1),L.length>0&&(d=L.shift()),d==null&&(d="each"),i=L;var n=r.$allocate();return n.object=V,n.size=re,n.method=d,n.args=i,n.cursor=0,n},-2),W(me,"$initialize",function I(V){var N=I.$$p||$e,Ae=this;return I.$$p=null,Q(arguments),je(Ae),Ae.cursor=0,ze(N)?(Ae.object=Te(p("Generator"),"new",[],N.$to_proc()),Ae.method="each",Ae.args=[],Ae.size=arguments[0]||$e,ze(Ae.size)&&ye(Ae.size["$respond_to?"]("call"))?Ae.size=Re(Ae.size,pe("Integer"),"to_int"):$e):(Ae.object=arguments[0],Ae.method=arguments[1]||"each",Ae.args=Q(arguments,2),Ae.size=$e)},-1),W(me,"$each",function I(V){var N=I.$$p||$e,Ae,re,L=this;return I.$$p=null,Ae=Q(arguments),re=Ae,ze(N["$nil?"]())&&ze(re["$empty?"]())?L:(re=Be(L.args,re),ze(N["$nil?"]())?Te(L.$class(),"new",[L.object,L.method].concat(Pe(re))):Te(L.object,"__send__",[L.method].concat(Pe(re)),N.$to_proc()))},-1),W(me,"$size",function(){var V=this;return ze(V.size["$respond_to?"]("call"))?Te(V.size,"call",Pe(V.args)):V.size}),W(me,"$with_index",function I(V){var N=I.$$p||$e,Ae=this;if(I.$$p=null,V==null&&(V=0),V=ze(V)?Re(V,pe("Integer"),"to_int"):0,!ze(N))return Te(Ae,"enum_for",["with_index",V],function L(){var d=L.$$s==null?this:L.$$s;return d.$size()},{$$s:Ae});var re=V;return Ae.$each.$$p=function(){var L=qe.$destructure(arguments),d=N(L,re);return re++,d},Ae.$each()},-1),W(me,"$each_with_index",function I(){var V=I.$$p||$e,N=this;return I.$$p=null,V===$e?Te(N,"enum_for",["each_with_index"],function Ae(){var re=Ae.$$s==null?this:Ae.$$s;return re.$size()},{$$s:N}):(He(N,Ge(N,"each_with_index",I,!1,!0),"each_with_index",[],V),N.object)}),W(me,"$rewind",function(){var V=this;return V.cursor=0,V}),W(me,"$peek_values",function(){var V=this,N=$e;return V.values=ze(N=V.values)?N:Te(V,"map",[],function(re){var L,d;return L=Q(arguments),d=L,d},-1),ze(Ne(V.cursor,V.values.$length()))&&te.$raise(pe("StopIteration"),"iteration reached an end"),V.values["$[]"](V.cursor)}),W(me,"$peek",function(){var V=this,N=$e;return N=V.$peek_values(),ze(Ee(N.$length(),1))?N["$[]"](0):N}),W(me,"$next_values",function(){var V=this,N=$e;return N=V.$peek_values(),V.cursor=Be(V.cursor,1),N}),W(me,"$next",function(){var V=this,N=$e;return N=V.$next_values(),ze(Ee(N.$length(),1))?N["$[]"](0):N}),W(me,"$feed",function(V){var N=this;return N.$raise(p("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),W(me,"$+",function(V){var N=this;return pe(pe("Enumerator"),"Chain").$new(N,V)}),W(me,"$inspect",function(){var V=this,N=$e;return N="#<"+V.$class()+": "+V.object.$inspect()+":"+V.method,ze(V.args["$any?"]())&&(N=Be(N,"("+V.args.$inspect()["$[]"](pe("Range").$new(1,-2))+")")),Be(N,">")}),Je(me,"with_object","each_with_object"),me.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),me.$autoload("Chain","corelib/enumerator/chain"),me.$autoload("Generator","corelib/enumerator/generator"),me.$autoload("Lazy","corelib/enumerator/lazy"),me.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,xe)};Opal.modules["corelib/numeric"]=function($){var Q=$.klass,Re=$.truthy,je=$.Kernel,_e=$.def,Xe=$.to_ary,ze=$.return_self,Te=$.rb_minus,ye=$.rb_times,W=$.rb_lt,Be=$.eqeq,Pe=$.rb_divide,qe=$.return_val,He=$.Opal,Ge=$.slice,Ne=$.extract_kwargs,te=$.ensure_kwargs,Ee=$.not,Je=$.send,Le=$.rb_ge,xe=$.rb_le,$e=$.rb_plus,pe=$.rb_gt,ae=$.alias,Ie=$.top,ne=$.nil,me=$.$$$;return $.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),Ie.$require("corelib/comparable"),function(Z,p){var oe=Q(Z,p,"Numeric");return oe.$include(me("Comparable")),_e(oe,"$coerce",function(V){var N=this;return Re(V["$instance_of?"](N.$class()))?[V,N]:[je.$Float(V),je.$Float(N)]}),_e(oe,"$__coerced__",function(V,N){var Ae,re,L=this,d=ne,i=ne;if(Re(N["$respond_to?"]("coerce")))return re=N.$coerce(L),Ae=Xe(re),d=Ae[0]==null?ne:Ae[0],i=Ae[1]==null?ne:Ae[1],d.$__send__(V,i);switch(V){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return je.$raise(me("TypeError"),""+N.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return je.$raise(me("ArgumentError"),"comparison of "+L.$class()+" with "+N.$class()+" failed");default:return ne}}),_e(oe,"$<=>",function(V){var N=this;return Re(N["$equal?"](V))?0:ne}),_e(oe,"$+@",ze),_e(oe,"$-@",function(){var V=this;return Te(0,V)}),_e(oe,"$%",function(V){var N=this;return Te(N,ye(V,N.$div(V)))}),_e(oe,"$abs",function(){var V=this;return W(V,0)?V["$-@"]():V}),_e(oe,"$abs2",function(){var V=this;return ye(V,V)}),_e(oe,"$angle",function(){var V=this;return W(V,0)?me(me("Math"),"PI"):0}),_e(oe,"$ceil",function(V){var N=this;return V==null&&(V=0),N.$to_f().$ceil(V)},-1),_e(oe,"$conj",ze),_e(oe,"$denominator",function(){var V=this;return V.$to_r().$denominator()}),_e(oe,"$div",function(V){var N=this;return Be(V,0)&&je.$raise(me("ZeroDivisionError"),"divided by o"),Pe(N,V).$floor()}),_e(oe,"$divmod",function(V){var N=this;return[N.$div(V),N["$%"](V)]}),_e(oe,"$fdiv",function(V){var N=this;return Pe(N.$to_f(),V)}),_e(oe,"$floor",function(V){var N=this;return V==null&&(V=0),N.$to_f().$floor(V)},-1),_e(oe,"$i",function(){var V=this;return je.$Complex(0,V)}),_e(oe,"$imag",qe(0)),_e(oe,"$integer?",qe(!1)),_e(oe,"$nonzero?",function(){var V=this;return Re(V["$zero?"]())?ne:V}),_e(oe,"$numerator",function(){var V=this;return V.$to_r().$numerator()}),_e(oe,"$polar",function(){var V=this;return[V.$abs(),V.$arg()]}),_e(oe,"$quo",function(V){var N=this;return Pe(He["$coerce_to!"](N,me("Rational"),"to_r"),V)}),_e(oe,"$real",ze),_e(oe,"$real?",qe(!0)),_e(oe,"$rect",function(){var V=this;return[V,0]}),_e(oe,"$round",function(V){var N=this;return N.$to_f().$round(V)},-1),_e(oe,"$step",function I(V,N,Ae){var re=I.$$p||ne,L,d,i,r,n,s,o=this,g=ne;I.$$p=null,L=Ge(arguments),d=Ne(L),d=te(d),L.length>0&&(i=L.shift()),L.length>0&&(r=L.shift()),n=d.$$smap.to,s=d.$$smap.by,i!==void 0&&n!==void 0&&je.$raise(me("ArgumentError"),"to is given twice"),r!==void 0&&s!==void 0&&je.$raise(me("ArgumentError"),"step is given twice"),n!==void 0&&(i=n),s!==void 0&&(r=s),i===void 0&&(i=ne);function y(){r===ne&&je.$raise(me("TypeError"),"step must be numeric"),r!=null&&r["$=="](0)&&je.$raise(me("ArgumentError"),"step can't be 0"),(r===ne||r==null)&&(r=1);var gt=r["$<=>"](0);gt===ne&&je.$raise(me("ArgumentError"),"0 can't be coerced into "+r.$class()),(i===ne||i==null)&&(i=gt>0?me(me("Float"),"INFINITY"):me(me("Float"),"INFINITY")["$-@"]()),He.$compare(o,i)}function P(){if(r>0&&o>i||r<0&&o<i)return 0;if(r===1/0||r===-1/0)return 1;var gt=Math.abs,mt=Math.floor,Qe=(gt(o)+gt(i)+gt(i-o))/gt(r)*me(me("Float"),"EPSILON");return Qe===1/0||Qe===-1/0?0:(Qe>.5&&(Qe=.5),mt((i-o)/r+Qe)+1)}function be(){if(y(),r===0)return 1/0;if(r%1!==0)return P();if(r>0&&o>i||r<0&&o<i)return 0;var gt=Math.ceil,mt=Math.abs,Qe=mt(o-i)+1,le=mt(r);return gt(Qe/le)}if(re===ne)return(Ee(i)||Re(i["$is_a?"](me("Numeric"))))&&(Ee(r)||Re(r["$is_a?"](me("Numeric"))))?me(me("Enumerator"),"ArithmeticSequence").$new([i,r,Re(n)?"to: ":ne,Re(s)?"by: ":ne],o):Je(o,"enum_for",["step",i,r],be.$to_proc());y();var tt=r["$negative?"](),ot=r["$=="](0)||i===1/0&&!tt||i===-1/0&&tt;if(o.$$is_number&&r.$$is_number&&i.$$is_number)if(o%1===0&&(ot||i%1===0)&&r%1===0){var lt=o;if(ot)for(;;lt+=r)re(lt);else if(tt)for(;lt>=i;lt+=r)re(lt);else for(;lt<=i;lt+=r)re(lt);return o}else{var vt=o.$to_f().valueOf();r=r.$to_f().valueOf(),i=i.$to_f().valueOf();var _t=P();if(!isFinite(r))_t!==0&&re(vt);else if(r===0)for(;;)re(vt);else for(var bt=0;bt<_t;bt++){var pt=bt*r+o;(r>=0?i<pt:i>pt)&&(pt=i),re(pt)}return o}for(g=o;Re(tt?Le(g,i):xe(g,i));)$.yield1(re,g),g=$e(g,r)},-1),_e(oe,"$to_c",function(){var V=this;return je.$Complex(V,0)}),_e(oe,"$to_int",function(){var V=this;return V.$to_i()}),_e(oe,"$truncate",function(V){var N=this;return V==null&&(V=0),N.$to_f().$truncate(V)},-1),_e(oe,"$zero?",function(){var V=this;return V["$=="](0)}),_e(oe,"$positive?",function(){var V=this;return pe(V,0)}),_e(oe,"$negative?",function(){var V=this;return W(V,0)}),_e(oe,"$dup",ze),_e(oe,"$clone",function(V){var N=this;return V=te(V),V.$$smap.freeze,N},-1),_e(oe,"$finite?",qe(!0)),_e(oe,"$infinite?",qe(ne)),ae(oe,"arg","angle"),ae(oe,"conjugate","conj"),ae(oe,"imaginary","imag"),ae(oe,"magnitude","abs"),ae(oe,"modulo","%"),ae(oe,"phase","arg"),ae(oe,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function($){var Q=$.truthy,Re=$.falsy,je=$.hash_ids,_e=$.yield1,Xe=$.hash_get,ze=$.hash_put,Te=$.hash_delete,ye=$.coerce_to,W=$.respond_to,Be=$.deny_frozen_access,Pe=$.freeze,qe=$.klass,He=$.slice,Ge=$.defs,Ne=$.Kernel,te=$.def,Ee=$.Opal,Je=$.eqeqeq,Le=$.hash2,xe=$.send2,$e=$.find_super,pe=$.send,ae=$.rb_gt,Ie=$.rb_times,ne=$.eqeq,me=$.rb_minus,Z=$.to_a,p=$.to_ary,oe=$.gvars,I=$.rb_ge,V=$.assign_ivar,N=$.rb_lt,Ae=$.return_self,re=$.neqeq,L=$.alias,d=$.top,i=[],r=$.nil,n=$.$$$;return $.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),d.$require("corelib/enumerable"),d.$require("corelib/numeric"),function(s,o,g){var y=qe(s,o,"Array"),P=[y].concat(g),be=$.$r(P);y.$include(n("Enumerable")),$.prop(y.$$prototype,"$$is_array",!0);function tt(Qe){for(var le=Qe[0],ge=1,De=Qe.length;ge<De;ge++)Qe[ge-1]=Qe[ge];return Qe.pop(),le}function ot(Qe,le){return le.$$name===$.Array?Qe:le.$allocate().$replace(Qe.$to_a())}function lt(Qe,le,ge){for(var De,f=null,w=new Array(Qe.length),J=0,de=0,Ue=Qe.length;J<Ue;J++){if(!f)try{De=_e(ge,Qe[J])}catch(nt){f=nt}(f||le(De))&&(w[de]=Qe[J],de+=1)}if(de!==J&&(Qe.splice.apply(Qe,[0,w.length].concat(w)),Qe.splice(de,w.length)),f)throw f}Ge(y,"$[]",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,ot(De,f)},-1),te(y,"$initialize",function Qe(le,ge){var De=Qe.$$p||r,f=this;if(Qe.$$p=null,le==null&&(le=r),ge==null&&(ge=r),Be(f),ge!==r&&De!==r&&Ne.$warn("warning: block supersedes default value argument"),le>n(n("Integer"),"MAX")&&Ne.$raise(n("ArgumentError"),"array size too big"),arguments.length>2&&Ne.$raise(n("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return f.splice(0,f.length),f;if(arguments.length===1){if(le.$$is_array)return f.$replace(le.$to_a()),f;if(le["$respond_to?"]("to_ary"))return f.$replace(le.$to_ary()),f}le=ye(le,n("Integer"),"to_int"),le<0&&Ne.$raise(n("ArgumentError"),"negative array size"),f.splice(0,f.length);var w,J;if(De===r)for(w=0;w<le;w++)f.push(ge);else for(w=0,J;w<le;w++)J=De(w),f[w]=J;return f},-1),Ge(y,"$try_convert",function(le){return Ee["$coerce_to?"](le,n("Array"),"to_ary")}),te(y,"$&",function(le){var ge=this;le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a();var De=[],f=Le([],{}),w,J,de;for(w=0,J=le.length;w<J;w++)ze(f,le[w],!0);for(w=0,J=ge.length;w<J;w++)de=ge[w],Te(f,de)!==void 0&&De.push(de);return De}),te(y,"$|",function(le){var ge=this;le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a();var De=Le([],{}),f,w;for(f=0,w=ge.length;f<w;f++)ze(De,ge[f],!0);for(f=0,w=le.length;f<w;f++)ze(De,le[f],!0);return De.$keys()}),te(y,"$*",function(le){var ge=this;if(Q(le["$respond_to?"]("to_str")))return ge.$join(le.$to_str());le=ye(le,n("Integer"),"to_int"),Q(le<0)&&Ne.$raise(n("ArgumentError"),"negative argument");for(var De=[],f=ge.$to_a(),w=0;w<le;w++)De=De.concat(f);return De}),te(y,"$+",function(le){var ge=this;return le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a(),ge.concat(le)}),te(y,"$-",function(le){var ge=this;if(le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a(),Q(ge.length===0))return[];if(Q(le.length===0))return ge.slice();var De=[],f=Le([],{}),w,J,de;for(w=0,J=le.length;w<J;w++)ze(f,le[w],!0);for(w=0,J=ge.length;w<J;w++)de=ge[w],Xe(f,de)===void 0&&De.push(de);return De}),te(y,"$<<",function(le){var ge=this;return Be(ge),ge.push(le),ge}),te(y,"$<=>",function(le){var ge=this;if(Je(n("Array"),le))le=le.$to_a();else if(Q(le["$respond_to?"]("to_ary")))le=le.$to_ary().$to_a();else return r;if(ge.$hash()===le.$hash())return 0;for(var De=Math.min(ge.length,le.length),f=0;f<De;f++){var w=ge[f]["$<=>"](le[f]);if(w!==0)return w}return ge.length["$<=>"](le.length)}),te(y,"$==",function(le){var ge=this,De={};function f(w,J){var de,Ue,nt,e;if(w===J)return!0;if(!J.$$is_array)return W(J,"$to_ary")?J["$=="](w):!1;if(w.$$constructor!==Array&&(w=w.$to_a()),J.$$constructor!==Array&&(J=J.$to_a()),w.length!==J.length)return!1;for(De[w.$object_id()]=!0,de=0,Ue=w.length;de<Ue;de++)if(nt=w[de],e=J[de],nt.$$is_array){if(e.$$is_array&&e.length!==nt.length||!De.hasOwnProperty(nt.$object_id())&&!f(nt,e))return!1}else if(!nt["$=="](e))return!1;return!0}return f(ge,le)});function vt(Qe,le){var ge=Qe.length,De,f,w,J;return De=le.excl,f=le.begin===r?0:ye(le.begin,$.Integer,"to_int"),w=le.end===r?-1:ye(le.end,$.Integer,"to_int"),f<0&&(f+=ge,f<0)||(le.excl_rev&&le.begin!==r&&(f+=1),f>ge)?r:w<0&&(w+=ge,w<0)?[]:((!De||le.end===r)&&(w+=1),J=Qe.slice(f,w),J)}function _t(Qe,le){var ge,De=[],f=0,w;for(le.step<0?(w={begin:le.range.end,end:le.range.begin,excl:!1,excl_rev:le.range.excl},ge=vt(Qe,w).$reverse()):ge=vt(Qe,le.range);f<ge.length;)De.push(ge[f]),f+=Math.abs(le.step);return De}function bt(Qe,le,ge){var De=Qe.length,f;return le=ye(le,$.Integer,"to_int"),le<0&&(le+=De,le<0)?r:ge===void 0?le>=De||le<0?r:Qe[le]:(ge=ye(ge,$.Integer,"to_int"),ge<0||le>De||le<0?r:(f=Qe.slice(le,le+ge),f))}te(y,"$[]",function(le,ge){var De=this;return le.$$is_range?vt(De,le):le.$$is_arithmetic_seq?_t(De,le):bt(De,le,ge)},-2),te(y,"$[]=",function(le,ge,De){var f=this,w=r,J=r;Be(f),w=r;var de,Ue=f.length;if(le.$$is_range){ge.$$is_array?w=ge.$to_a():ge["$respond_to?"]("to_ary")?w=ge.$to_ary().$to_a():w=[ge];var nt=le.excl,e=le.begin===r?0:ye(le.begin,$.Integer,"to_int"),U=le.end===r?-1:ye(le.end,$.Integer,"to_int");if(e<0&&(e+=Ue,e<0&&Ne.$raise(n("RangeError"),""+le.$inspect()+" out of range")),U<0&&(U+=Ue),(!nt||le.end===r)&&(U+=1),e>Ue)for(de=Ue;de<e;de++)f[de]=r;return U<0?f.splice.apply(f,[e,0].concat(w)):f.splice.apply(f,[e,U-e].concat(w)),ge}else{De===void 0?J=1:(J=ge,ge=De,ge.$$is_array?w=ge.$to_a():ge["$respond_to?"]("to_ary")?w=ge.$to_ary().$to_a():w=[ge]);var B;if(le=ye(le,n("Integer"),"to_int"),J=ye(J,n("Integer"),"to_int"),le<0&&(B=le,le+=Ue,le<0&&Ne.$raise(n("IndexError"),"index "+B+" too small for array; minimum "+-f.length)),J<0&&Ne.$raise(n("IndexError"),"negative length ("+J+")"),le>Ue)for(de=Ue;de<le;de++)f[de]=r;return De===void 0?f[le]=ge:f.splice.apply(f,[le,J].concat(w)),ge}},-3),te(y,"$any?",function Qe(le){var ge=Qe.$$p||r,De=this;return Qe.$$p=null,De.length===0?!1:xe(De,$e(De,"any?",Qe,!1,!0),"any?",[le],ge)},-1),te(y,"$assoc",function(le){for(var ge=this,De=0,f=ge.length,w;De<f;De++)if(w=ge[De],w.length&&w[0]["$=="](le))return w;return r}),te(y,"$at",function(le){var ge=this;return le=ye(le,n("Integer"),"to_int"),le<0&&(le+=ge.length),le<0||le>=ge.length?r:ge[le]}),te(y,"$bsearch_index",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return ge.$enum_for("bsearch_index");for(var De=0,f=ge.length,w,J,de,Ue=!1,nt=r;De<f;){if(w=De+Math.floor((f-De)/2),J=ge[w],de=_e(le,J),de===!0)nt=w,Ue=!0;else if(de===!1||de===r)Ue=!1;else if(de.$$is_number){if(de===0)return w;Ue=de<0}else Ne.$raise(n("TypeError"),"wrong argument type "+de.$class()+" (must be numeric, true, false or nil)");Ue?f=w:De=w+1}return nt}),te(y,"$bsearch",function Qe(){var le=Qe.$$p||r,ge=this,De=r;return Qe.$$p=null,le===r?ge.$enum_for("bsearch"):(De=pe(ge,"bsearch_index",[],le.$to_proc()),De!=null&&De.$$is_number?ge[De]:De)}),te(y,"$cycle",function Qe(le){var ge=Qe.$$p||r,De=this;if(Qe.$$p=null,le==null&&(le=r),ge===r)return pe(De,"enum_for",["cycle",le],function J(){var de=J.$$s==null?this:J.$$s;return Q(le["$nil?"]())?n(n("Float"),"INFINITY"):(le=Ee["$coerce_to!"](le,n("Integer"),"to_int"),Q(ae(le,0))?Ie(de.$enumerator_size(),le):0)},{$$s:De});if(Q(De["$empty?"]())||ne(le,0))return r;var f,w;if(le===r)for(;;)for(f=0,w=De.length;f<w;f++)_e(ge,De[f]);else{if(le=Ee["$coerce_to!"](le,n("Integer"),"to_int"),le<=0)return De;for(;le>0;){for(f=0,w=De.length;f<w;f++)_e(ge,De[f]);le--}}return De},-1),te(y,"$clear",function(){var le=this;return Be(le),le.splice(0,le.length),le}),te(y,"$count",function Qe(le){var ge=Qe.$$p||r,De=this;return Qe.$$p=null,Q(le!==void 0)||Q(ge)?xe(De,$e(De,"count",Qe,!1,!0),"count",[le],ge):De.$size()},-1),te(y,"$initialize_copy",function(le){var ge=this;return ge.$replace(le)}),te(y,"$collect",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["collect"],function de(){var Ue=de.$$s==null?this:de.$$s;return Ue.$size()},{$$s:ge});for(var De=[],f=0,w=ge.length;f<w;f++){var J=_e(le,ge[f]);De.push(J)}return De}),te(y,"$collect!",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["collect!"],function J(){var de=J.$$s==null?this:J.$$s;return de.$size()},{$$s:ge});Be(ge);for(var De=0,f=ge.length;De<f;De++){var w=_e(le,ge[De]);ge[De]=w}return ge});function pt(Qe,le){return Qe===le||le===0?1:le>0&&Qe>le?pt(Qe-1,le-1)+pt(Qe-1,le):0}te(y,"$combination",function Qe(le){var ge=Qe.$$p||r,De=this,f=r;if(Qe.$$p=null,f=Ee["$coerce_to!"](le,n("Integer"),"to_int"),ge===r)return pe(De,"enum_for",["combination",f],function B(){var C=B.$$s==null?this:B.$$s;return pt(C.length,f)},{$$s:De});var w,J,de,Ue,nt,e,U;if(f===0)$.yield1(ge,[]);else if(f===1)for(w=0,J=De.length;w<J;w++)$.yield1(ge,[De[w]]);else if(f===De.length)$.yield1(ge,De.slice());else if(f>=0&&f<De.length){for(de=[],w=0;w<=f+1;w++)de.push(0);for(Ue=[],nt=0,e=!1,de[0]=-1;!e;){for(Ue[nt]=De[de[nt+1]];nt<f-1;)nt++,U=de[nt+1]=de[nt]+1,Ue[nt]=De[U];$.yield1(ge,Ue.slice()),nt++;do e=nt===0,de[nt]++,nt--;while(de[nt+1]+f===De.length+nt+1)}}return De}),te(y,"$repeated_combination",function Qe(le){var ge=Qe.$$p||r,De=this,f=r;if(Qe.$$p=null,f=Ee["$coerce_to!"](le,n("Integer"),"to_int"),ge===r)return pe(De,"enum_for",["repeated_combination",f],function J(){var de=J.$$s==null?this:J.$$s;return pt(de.length+f-1,f)},{$$s:De});function w(J,de,Ue,nt){if(Ue.length==J){var e=Ue.slice();$.yield1(ge,e);return}for(var U=de;U<nt.length;U++)Ue.push(nt[U]),w(J,U,Ue,nt),Ue.pop()}return f>=0&&w(f,0,[],De),De}),te(y,"$compact",function(){for(var le=this,ge=[],De=0,f=le.length,w;De<f;De++)(w=le[De])!==r&&ge.push(w);return ge}),te(y,"$compact!",function(){var le=this;Be(le);for(var ge=le.length,De=0,f=le.length;De<f;De++)le[De]===r&&(le.splice(De,1),f--,De--);return le.length===ge?r:le}),te(y,"$concat",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,Be(f),De=pe(De,"map",[],function w(J){var de=w.$$s==null?this:w.$$s;return J==null&&(J=r),J=Je(n("Array"),J)?J.$to_a():ye(J,n("Array"),"to_ary").$to_a(),Q(J["$equal?"](de))&&(J=J.$dup()),J},{$$s:f}),pe(De,"each",[],function w(J){var de=w.$$s==null?this:w.$$s;J==null&&(J=r);for(var Ue=0,nt=J.length;Ue<nt;Ue++)de.push(J[Ue])},{$$s:f}),f},-1),te(y,"$delete",function Qe(le){var ge=Qe.$$p||r,De=this;Qe.$$p=null;for(var f=De.length,w=0,J=f;w<J;w++)De[w]["$=="](le)&&(Be(De),De.splice(w,1),J--,w--);return De.length===f?ge!==r?$.yieldX(ge,[]):r:le}),te(y,"$delete_at",function(le){var ge=this;if(Be(ge),le=ye(le,n("Integer"),"to_int"),le<0&&(le+=ge.length),le<0||le>=ge.length)return r;var De=ge[le];return ge.splice(le,1),De}),te(y,"$delete_if",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["delete_if"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(Be(ge),lt(ge,Re,le),ge)}),te(y,"$difference",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,pe(De,"reduce",[f.$to_a().$dup()],function(J,de){return J==null&&(J=r),de==null&&(de=r),me(J,de)})},-1),te(y,"$dig",function(le,ge){var De,f,w=this,J=r;return De=He(arguments,1),f=De,J=w["$[]"](le),J===r||f.length===0?J:(Q(J["$respond_to?"]("dig"))||Ne.$raise(n("TypeError"),""+J.$class()+" does not have #dig method"),pe(J,"dig",Z(f)))},-2),te(y,"$drop",function(le){var ge=this;return le=ye(le,n("Integer"),"to_int"),le<0&&Ne.$raise(n("ArgumentError")),ge.slice(le)}),te(y,"$dup",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,ge.$$class===$.Array&&ge.$$class.$allocate.$$pristine&&ge.$copy_instance_variables.$$pristine&&ge.$initialize_dup.$$pristine?ge.slice(0):xe(ge,$e(ge,"dup",Qe,!1,!0),"dup",[],le)}),te(y,"$each",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["each"],function w(){var J=w.$$s==null?this:w.$$s;return J.$size()},{$$s:ge});for(var De=0,f=ge.length;De<f;De++)_e(le,ge[De]);return ge}),te(y,"$each_index",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["each_index"],function w(){var J=w.$$s==null?this:w.$$s;return J.$size()},{$$s:ge});for(var De=0,f=ge.length;De<f;De++)_e(le,De);return ge}),te(y,"$empty?",function(){var le=this;return le.length===0}),te(y,"$eql?",function(le){var ge=this,De={};function f(w,J){var de,Ue,nt,e;if(!J.$$is_array||(J=J.$to_a(),w.length!==J.length))return!1;for(De[w.$object_id()]=!0,de=0,Ue=w.length;de<Ue;de++)if(nt=w[de],e=J[de],nt.$$is_array){if(e.$$is_array&&e.length!==nt.length||!De.hasOwnProperty(nt.$object_id())&&!f(nt,e))return!1}else if(!nt["$eql?"](e))return!1;return!0}return f(ge,le)}),te(y,"$fetch",function Qe(le,ge){var De=Qe.$$p||r,f=this;Qe.$$p=null;var w=le;if(le=ye(le,n("Integer"),"to_int"),le<0&&(le+=f.length),le>=0&&le<f.length)return f[le];if(De!==r&&ge!=null&&f.$warn("warning: block supersedes default value argument"),De!==r)return De(w);if(ge!=null)return ge;f.length===0?Ne.$raise(n("IndexError"),"index "+w+" outside of array bounds: 0...0"):Ne.$raise(n("IndexError"),"index "+w+" outside of array bounds: -"+f.length+"..."+f.length)},-2),te(y,"$fill",function Qe(le){var ge=Qe.$$p||r,De,f,w,J,de=this,Ue=r,nt=r,e=r,U=r,B=r;Qe.$$p=null,De=He(arguments),f=De,Be(de);var C,G;if(Q(ge)?(Q(f.length>2)&&Ne.$raise(n("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 0..2)"),J=f,w=p(J),Ue=w[0]==null?r:w[0],nt=w[1]==null?r:w[1]):(Q(f.length==0)?Ne.$raise(n("ArgumentError"),"wrong number of arguments (0 for 1..3)"):Q(f.length>3)&&Ne.$raise(n("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 1..3)"),J=f,w=p(J),e=w[0]==null?r:w[0],Ue=w[1]==null?r:w[1],nt=w[2]==null?r:w[2]),Je(n("Range"),Ue)){if(Q(nt)&&Ne.$raise(n("TypeError"),"length invalid with range"),U=Ue.begin===r?0:ye(Ue.begin,n("Integer"),"to_int"),Q(U<0)&&(U+=this.length),Q(U<0)&&Ne.$raise(n("RangeError"),""+Ue.$inspect()+" out of range"),B=Ue.end===r?-1:ye(Ue.end,n("Integer"),"to_int"),Q(B<0)&&(B+=this.length),Q(Ue["$exclude_end?"]())||(B+=1),Q(B<=U))return de}else if(Q(Ue))if(U=ye(Ue,n("Integer"),"to_int"),Q(U<0)&&(U+=this.length),Q(U<0)&&(U=0),Q(nt)){if(B=ye(nt,n("Integer"),"to_int"),Q(B==0))return de;B+=U}else B=this.length;else U=0,B=this.length;if(Q(U>this.length))for(C=this.length;C<B;C++)de[C]=r;if(Q(B>this.length)&&(this.length=B),Q(ge))for(this.length;U<B;U++)G=ge(U),de[U]=G;else for(this.length;U<B;U++)de[U]=e;return de},-1),te(y,"$first",function(le){var ge=this;return le==null?ge.length===0?r:ge[0]:(le=ye(le,n("Integer"),"to_int"),le<0&&Ne.$raise(n("ArgumentError"),"negative array size"),ge.slice(0,le))},-1),te(y,"$flatten",function(le){var ge=this;function De(f,w){var J=[],de,Ue,nt,e;for(f=f.$to_a(),de=0,Ue=f.length;de<Ue;de++){if(nt=f[de],!W(nt,"$to_ary",!0)){J.push(nt);continue}if(e=nt.$to_ary(),e===r){J.push(nt);continue}switch(e.$$is_array||Ne.$raise(n("TypeError")),e===ge&&Ne.$raise(n("ArgumentError")),w){case void 0:J=J.concat(De(e));break;case 0:J.push(e);break;default:J.push.apply(J,De(e,w-1))}}return J}return le!==void 0&&(le=ye(le,n("Integer"),"to_int")),De(ge,le)},-1),te(y,"$flatten!",function(le){var ge=this;Be(ge);var De=ge.$flatten(le);if(ge.length==De.length){for(var f=0,w=ge.length;f<w&&ge[f]===De[f];f++);if(f==w)return r}return ge.$replace(De),ge},-1),te(y,"$freeze",function(){var le=this;return Q(le["$frozen?"]())?le:Pe(le)}),te(y,"$hash",function(){var le=this,ge=je===void 0,De=["A"],f=le.$object_id(),w,J,de;try{if(ge&&(je=Object.create(null)),je[f])return"self";for(de in je)if(w=je[de],le["$eql?"](w))return"self";for(je[f]=le,J=0;J<le.length;J++)w=le[J],De.push(w.$hash());return De.join(",")}finally{ge&&(je=void 0)}}),te(y,"$include?",function(le){for(var ge=this,De=0,f=ge.length;De<f;De++)if(ge[De]["$=="](le))return!0;return!1}),te(y,"$index",function Qe(le){var ge=Qe.$$p||r,De=this;Qe.$$p=null;var f,w,J;if(le!=null&&ge!==r&&De.$warn("warning: given block not used"),le!=null){for(f=0,w=De.length;f<w;f++)if(De[f]["$=="](le))return f}else if(ge!==r){for(f=0,w=De.length;f<w;f++)if(J=ge(De[f]),J!==!1&&J!==r)return f}else return De.$enum_for("index");return r},-1),te(y,"$insert",function(le,ge){var De,f,w=this;if(De=He(arguments,1),f=De,Be(w),le=ye(le,n("Integer"),"to_int"),f.length>0){if(le<0&&(le+=w.length+1,le<0&&Ne.$raise(n("IndexError"),""+le+" is out of bounds")),le>w.length)for(var J=w.length;J<le;J++)w.push(r);w.splice.apply(w,[le,0].concat(f))}return w},-2);var gt=[];te(y,"$inspect",function(){var le=this,ge=[],De=le.$__id__(),f=!0;return function(){try{if(gt.indexOf(De)!==-1)return f=!1,"[...]";gt.push(De);for(var w=0,J=le.length;w<J;w++){var de=le["$[]"](w);ge.push(be("Opal").$inspect(de))}return"["+ge.join(", ")+"]"}finally{f&&gt.pop()}}()}),te(y,"$intersection",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,pe(De,"reduce",[f.$to_a().$dup()],function(J,de){return J==null&&(J=r),de==null&&(de=r),J["$&"](de)})},-1),te(y,"$intersect?",function(le){var ge=this;return ge.$intersection(le)["$empty?"]()["$!"]()}),te(y,"$join",function(le){var ge=this;if(oe[","]==null&&(oe[","]=r),le==null&&(le=r),Q(ge.length===0))return"";Q(le===r)&&(le=oe[","]);var De=[],f,w,J,de;for(f=0,w=ge.length;f<w;f++){if(J=ge[f],W(J,"$to_str")&&(de=J.$to_str(),de!==r)){De.push(de.$to_s());continue}if(W(J,"$to_ary")&&(de=J.$to_ary(),de===ge&&Ne.$raise(n("ArgumentError")),de!==r)){De.push(de.$join(le));continue}if(W(J,"$to_s")&&(de=J.$to_s(),de!==r)){De.push(de);continue}Ne.$raise(n("NoMethodError").$new(""+be("Opal").$inspect(ge.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return le===r?De.join(""):De.join(Ee["$coerce_to!"](le,n("String"),"to_str").$to_s())},-1),te(y,"$keep_if",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["keep_if"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(Be(ge),lt(ge,Q,le),ge)}),te(y,"$last",function(le){var ge=this;return le==null?ge.length===0?r:ge[ge.length-1]:(le=ye(le,n("Integer"),"to_int"),le<0&&Ne.$raise(n("ArgumentError"),"negative array size"),le>ge.length&&(le=ge.length),ge.slice(ge.length-le,ge.length))},-1),te(y,"$length",function(){var le=this;return le.length}),te(y,"$max",function Qe(le){var ge=Qe.$$p||r,De=this;return Qe.$$p=null,pe(De.$each(),"max",[le],ge.$to_proc())},-1),te(y,"$min",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,pe(ge.$each(),"min",[],le.$to_proc())});function mt(Qe,le){for(var ge=le>=0?1:0;le;)ge*=Qe,Qe--,le--;return ge}return te(y,"$permutation",function Qe(le){var ge=Qe.$$p||r,De=this,f=r,w=r;if(Qe.$$p=null,ge===r)return pe(De,"enum_for",["permutation",le],function e(){var U=e.$$s==null?this:e.$$s;return mt(U.length,le===void 0?U.length:le)},{$$s:De});var J,de,Ue;if(le===void 0?le=De.length:le=ye(le,n("Integer"),"to_int"),!(le<0||De.length<le))if(le===0)$.yield1(ge,[]);else if(le===1)for(var nt=0;nt<De.length;nt++)$.yield1(ge,[De[nt]]);else f=be("Array").$new(le),w=be("Array").$new(De.length,!1),J=function(e,U,B,C,G){De=this;for(var u=0;u<De.length;u++)if(C["$[]"](u)["$!"]())if(U[B]=u,B<e-1)C[u]=!0,J.call(De,e,U,B+1,C,G),C[u]=!1;else{Ue=[];for(var R=0;R<U.length;R++)Ue.push(De[U[R]]);_e(G,Ue)}},ge!==r?(de=De.slice(),J.call(de,le,f,0,w,ge)):J.call(De,le,f,0,w,ge);return De},-1),te(y,"$repeated_permutation",function Qe(le){var ge=Qe.$$p||r,De=this,f=r;if(Qe.$$p=null,f=Ee["$coerce_to!"](le,n("Integer"),"to_int"),ge===r)return pe(De,"enum_for",["repeated_permutation",f],function J(){var de=J.$$s==null?this:J.$$s;return Q(I(f,0))?de.$size()["$**"](f):0},{$$s:De});function w(J,de,Ue){if(de.length==J){var nt=de.slice();$.yield1(ge,nt);return}for(var e=0;e<Ue.length;e++)de.push(Ue[e]),w(J,de,Ue),de.pop()}return w(f,[],De.slice()),De}),te(y,"$pop",function(le){var ge=this;return Be(ge),Q(le===void 0)?Q(ge.length===0)?r:ge.pop():(le=ye(le,n("Integer"),"to_int"),Q(le<0)&&Ne.$raise(n("ArgumentError"),"negative array size"),Q(ge.length===0)?[]:Q(le===1)?[ge.pop()]:Q(le>ge.length)?ge.splice(0,ge.length):ge.splice(ge.length-le,ge.length))},-1),te(y,"$product",function Qe(le){var ge=Qe.$$p||r,De,f,w=this;Qe.$$p=null,De=He(arguments),f=De;var J=ge!==r?null:[],de=f.length+1,Ue=new Array(de),nt=new Array(de),e=new Array(de),U,B,C,G,u=1;for(e[0]=w,U=1;U<de;U++)e[U]=ye(f[U-1],n("Array"),"to_ary");for(U=0;U<de;U++){if(G=e[U].length,G===0)return J||w;u*=G,u>2147483647&&Ne.$raise(n("RangeError"),"too big to product"),nt[U]=G,Ue[U]=0}e:for(;;){for(C=[],U=0;U<de;U++)C.push(e[U][Ue[U]]);for(J?J.push(C):$.yield1(ge,C),B=de-1,Ue[B]++;Ue[B]===nt[B];){if(Ue[B]=0,--B<0)break e;Ue[B]++}}return J||w},-1),te(y,"$push",function(le){var ge,De,f=this;ge=He(arguments),De=ge,Be(f);for(var w=0,J=De.length;w<J;w++)f.push(De[w]);return f},-1),te(y,"$rassoc",function(le){for(var ge=this,De=0,f=ge.length,w;De<f;De++)if(w=ge[De],w.length&&w[1]!==void 0&&w[1]["$=="](le))return w;return r}),te(y,"$reject",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["reject"],function de(){var Ue=de.$$s==null?this:de.$$s;return Ue.$size()},{$$s:ge});for(var De=[],f=0,w=ge.length,J;f<w;f++)J=le(ge[f]),(J===!1||J===r)&&De.push(ge[f]);return De}),te(y,"$reject!",function Qe(){var le=Qe.$$p||r,ge=this,De=r;return Qe.$$p=null,le===r?pe(ge,"enum_for",["reject!"],function f(){var w=f.$$s==null?this:f.$$s;return w.$size()},{$$s:ge}):(Be(ge),De=ge.$length(),pe(ge,"delete_if",[],le.$to_proc()),ne(ge.$length(),De)?r:ge)}),te(y,"$replace",function(le){var ge=this;return Be(ge),le=Je(n("Array"),le)?le.$to_a():ye(le,n("Array"),"to_ary").$to_a(),ge.splice(0,ge.length),ge.push.apply(ge,le),ge}),te(y,"$reverse",function(){var le=this;return le.slice(0).reverse()}),te(y,"$reverse!",function(){var le=this;return Be(le),le.reverse()}),te(y,"$reverse_each",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["reverse_each"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(pe(ge.$reverse(),"each",[],le.$to_proc()),ge)}),te(y,"$rindex",function Qe(le){var ge=Qe.$$p||r,De=this;Qe.$$p=null;var f,w;if(le!=null&&ge!==r&&De.$warn("warning: given block not used"),le!=null){for(f=De.length-1;f>=0&&!(f>=De.length);f--)if(De[f]["$=="](le))return f}else if(ge!==r){for(f=De.length-1;f>=0&&!(f>=De.length);f--)if(w=ge(De[f]),w!==!1&&w!==r)return f}else if(le==null)return De.$enum_for("rindex");return r},-1),te(y,"$rotate",function(le){var ge=this;le==null&&(le=1);var De,f,w,J;return le=ye(le,n("Integer"),"to_int"),ge.length===1?ge.slice():ge.length===0?[]:(De=ge.slice(),f=le%De.length,w=De.slice(f),J=De.slice(0,f),w.concat(J))},-1),te(y,"$rotate!",function(le){var ge=this,De=r;return le==null&&(le=1),Be(ge),ge.length===0||ge.length===1?ge:(le=ye(le,n("Integer"),"to_int"),De=ge.$rotate(le),ge.$replace(De))},-1),function(Qe,le){var ge=qe(Qe,le,"SampleRandom"),De=ge.$$prototype;return De.rng=r,te(ge,"$initialize",V("rng")),te(ge,"$rand",function(w){var J=this,de=r;return de=ye(J.rng.$rand(w),n("Integer"),"to_int"),Q(de<0)&&Ne.$raise(n("RangeError"),"random value must be >= 0"),Q(de<w)||Ne.$raise(n("RangeError"),"random value must be less than Array size"),de})}(y,null),te(y,"$sample",function(le,ge){var De=this,f=r,w=r;if(Q(le===void 0))return De.$at(Ne.$rand(De.length));if(Q(ge===void 0)?Q(f=Ee["$coerce_to?"](le,n("Hash"),"to_hash"))?(ge=f,le=r):(ge=r,le=ye(le,n("Integer"),"to_int")):(le=ye(le,n("Integer"),"to_int"),ge=ye(ge,n("Hash"),"to_hash")),Q(le)&&Q(le<0)&&Ne.$raise(n("ArgumentError"),"count must be greater than 0"),Q(ge)&&(w=ge["$[]"]("random")),w=Q(w)&&Q(w["$respond_to?"]("rand"))?be("SampleRandom").$new(w):Ne,!Q(le))return De[w.$rand(De.length)];var J,de,Ue,nt,e,U,B,C;switch(le>De.length&&(le=De.length),le){case 0:return[];case 1:return[De[w.$rand(De.length)]];case 2:return nt=w.$rand(De.length),e=w.$rand(De.length-1),nt<=e&&e++,[De[nt],De[e]];default:if(De.length/le>3){for(J=!1,de=0,Ue=be("Array").$new(le),nt=1,Ue[0]=w.$rand(De.length);nt<le;){for(U=w.$rand(De.length),e=0;e<nt;){for(;U===Ue[e];){if(de++,de>100){J=!0;break}U=w.$rand(De.length)}if(J)break;e++}if(J)break;Ue[nt]=U,nt++}if(!J){for(nt=0;nt<le;)Ue[nt]=De[Ue[nt]],nt++;return Ue}}Ue=De.slice();for(var G=0;G<le;G++)B=w.$rand(De.length-G)+G,C=Ue[G],Ue[G]=Ue[B],Ue[B]=C;return le===De.length?Ue:Ue["$[]"](0,le)}},-1),te(y,"$select",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["select"],function Ue(){var nt=Ue.$$s==null?this:Ue.$$s;return nt.$size()},{$$s:ge});for(var De=[],f=0,w=ge.length,J,de;f<w;f++)J=ge[f],de=_e(le,J),Q(de)&&De.push(J);return De}),te(y,"$select!",function Qe(){var le=Qe.$$p||r,ge=this;if(Qe.$$p=null,le===r)return pe(ge,"enum_for",["select!"],function f(){var w=f.$$s==null?this:f.$$s;return w.$size()},{$$s:ge});Be(ge);var De=ge.length;return pe(ge,"keep_if",[],le.$to_proc()),ge.length===De?r:ge}),te(y,"$shift",function(le){var ge=this;return Be(ge),Q(le===void 0)?Q(ge.length===0)?r:tt(ge):(le=ye(le,n("Integer"),"to_int"),Q(le<0)&&Ne.$raise(n("ArgumentError"),"negative array size"),Q(ge.length===0)?[]:ge.splice(0,le))},-1),te(y,"$shuffle",function(le){var ge=this;return ge.$dup().$to_a()["$shuffle!"](le)},-1),te(y,"$shuffle!",function(le){var ge=this;Be(ge);var De,f=ge.length,w,J;for(le!==void 0&&(le=Ee["$coerce_to?"](le,n("Hash"),"to_hash"),le!==r&&(le=le["$[]"]("random"),le!==r&&le["$respond_to?"]("rand")&&(De=le)));f;)De?(w=De.$rand(f).$to_int(),w<0&&Ne.$raise(n("RangeError"),"random number too small "+w),w>=f&&Ne.$raise(n("RangeError"),"random number too big "+w)):w=ge.$rand(f),J=ge[--f],ge[f]=ge[w],ge[w]=J;return ge},-1),te(y,"$slice!",function(le,ge){var De=this,f=r,w=r,J=r,de=r,Ue=r;if(Be(De),f=r,Q(ge===void 0))if(Je(n("Range"),le)){w=le,f=De["$[]"](w),J=w.begin===r?0:ye(w.begin,n("Integer"),"to_int"),de=w.end===r?-1:ye(w.end,n("Integer"),"to_int"),J<0&&(J+=De.length),de<0?de+=De.length:de>=De.length&&(de=De.length-1,w.excl&&(de+=1));var nt=de-J;w.excl&&w.end!==r?de-=1:nt+=1,J<De.length&&J>=0&&de<De.length&&de>=0&&nt>0&&De.splice(J,nt)}else{if(Ue=ye(le,n("Integer"),"to_int"),Ue<0&&(Ue+=De.length),Ue<0||Ue>=De.length)return r;f=De[Ue],Ue===0?De.shift():De.splice(Ue,1)}else{if(Ue=ye(le,n("Integer"),"to_int"),ge=ye(ge,n("Integer"),"to_int"),ge<0)return r;f=De["$[]"](Ue,ge),Ue<0&&(Ue+=De.length),Ue+ge>De.length&&(ge=De.length-Ue),Ue<De.length&&Ue>=0&&De.splice(Ue,ge)}return f},-2),te(y,"$sort",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,Q(ge.length>1)?(le===r&&(le=function(De,f){return De["$<=>"](f)}),ge.slice().sort(function(De,f){var w=le(De,f);return w===r&&Ne.$raise(n("ArgumentError"),"comparison of "+De.$inspect()+" with "+f.$inspect()+" failed"),ae(w,0)?1:N(w,0)?-1:0})):ge}),te(y,"$sort!",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null,Be(ge);var De;le!==r?De=pe(ge.slice(),"sort",[],le.$to_proc()):De=ge.slice().$sort(),ge.length=0;for(var f=0,w=De.length;f<w;f++)ge.push(De[f]);return ge}),te(y,"$sort_by!",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,le===r?pe(ge,"enum_for",["sort_by!"],function De(){var f=De.$$s==null?this:De.$$s;return f.$size()},{$$s:ge}):(Be(ge),ge.$replace(pe(ge,"sort_by",[],le.$to_proc())))}),te(y,"$take",function(le){var ge=this;return le<0&&Ne.$raise(n("ArgumentError")),ge.slice(0,le)}),te(y,"$take_while",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null;for(var De=[],f=0,w=ge.length,J,de;f<w;f++){if(J=ge[f],de=le(J),de===!1||de===r)return De;De.push(J)}return De}),te(y,"$to_a",function(){var le=this;return le.$$class===$.Array?le:$.Array.$new(le)}),te(y,"$to_ary",Ae),te(y,"$to_h",function Qe(){var le=Qe.$$p||r,ge=this,De=r;Qe.$$p=null,De=ge,le!==r&&(De=pe(De,"map",[],le.$to_proc()));var f,w=De.length,J,de,Ue,nt=Le([],{});for(f=0;f<w;f++)J=Ee["$coerce_to?"](De[f],n("Array"),"to_ary"),J.$$is_array||Ne.$raise(n("TypeError"),"wrong element type "+J.$class()+" at "+f+" (expected array)"),J.length!==2&&Ne.$raise(n("ArgumentError"),"wrong array length at "+f+" (expected 2, was "+J.$length()+")"),de=J[0],Ue=J[1],ze(nt,de,Ue);return nt}),te(y,"$transpose",function(){var le=this,ge=r,De=r;return Q(le["$empty?"]())?[]:(ge=[],De=r,pe(le,"each",[],function(w){var J=r;return w==null&&(w=r),w=Je(n("Array"),w)?w.$to_a():ye(w,n("Array"),"to_ary").$to_a(),De=Q(J=De)?J:w.length,re(w.length,De)&&Ne.$raise(n("IndexError"),"element size differs ("+w.length+" should be "+De+")"),pe(w.length,"times",[],function(Ue){var nt,e=r;return Ue==null&&(Ue=r),e=Q(J=ge["$[]"](Ue))?J:(nt=[Ue,[]],pe(ge,"[]=",nt),nt[nt.length-1]),e["$<<"](w.$at(Ue))})}),ge)}),te(y,"$union",function(le){var ge,De,f=this;return ge=He(arguments),De=ge,pe(De,"reduce",[f.$uniq()],function(J,de){return J==null&&(J=r),de==null&&(de=r),J["$|"](de)})},-1),te(y,"$uniq",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null;var De=Le([],{}),f,w,J,de;if(le===r)for(f=0,w=ge.length;f<w;f++)J=ge[f],Xe(De,J)===void 0&&ze(De,J,J);else for(f=0,w=ge.length;f<w;f++)J=ge[f],de=_e(le,J),Xe(De,de)===void 0&&ze(De,de,J);return De.$values()}),te(y,"$uniq!",function Qe(){var le=Qe.$$p||r,ge=this;Qe.$$p=null,Be(ge);var De=ge.length,f=Le([],{}),w,J,de,Ue;for(w=0,J=De;w<J;w++){if(de=ge[w],Ue=le===r?de:_e(le,de),Xe(f,Ue)===void 0){ze(f,Ue,de);continue}ge.splice(w,1),J--,w--}return ge.length===De?r:ge}),te(y,"$unshift",function(le){var ge,De,f=this;ge=He(arguments),De=ge,Be(f);var w=f.length,J=De.length;if(J==0)return f;for(var de=w-J,Ue=0;Ue<J;Ue++)f.push(f[de+Ue]);for(var nt=w-1;nt-J>=0;)f[nt]=f[nt-J],nt--;for(var e=0;e<J;e++)f[e]=De[e];return f},-1),te(y,"$values_at",function(le){var ge,De,f=this,w=r;return ge=He(arguments),De=ge,w=[],pe(De,"each",[],function J(de){var Ue=J.$$s==null?this:J.$$s,nt=r,e=r,U=r;return de==null&&(de=r),Q(de["$is_a?"](n("Range")))?(nt=de.$end()===r?-1:ye(de.$end(),n("Integer"),"to_int"),e=de.$begin()===r?0:ye(de.$begin(),n("Integer"),"to_int"),e<0?(e=e+Ue.length,r):(nt<0&&(nt=nt+Ue.length),de["$exclude_end?"]()&&de.$end()!==r&&nt--,nt<e?r:pe(e,"upto",[nt],function B(C){var G=B.$$s==null?this:B.$$s;return C==null&&(C=r),w["$<<"](G.$at(C))},{$$s:Ue}))):(U=ye(de,n("Integer"),"to_int"),w["$<<"](Ue.$at(U)))},{$$s:f}),w},-1),te(y,"$zip",function Qe(le){var ge=Qe.$$p||r,De,f,w=this,J=r;Qe.$$p=null,De=He(arguments),f=De;var de=[],Ue=w.length,nt,e,U,B,C;for(B=0,C=f.length;B<C;B++)if(e=f[B],!e.$$is_array){if(e.$$is_range||e.$$is_enumerator){f[B]=e.$take(Ue);continue}f[B]=(Q(J=Ee["$coerce_to?"](e,n("Array"),"to_ary"))?J:Ee["$coerce_to!"](e,n("Enumerator"),"to_enum","each")).$to_a()}for(U=0;U<Ue;U++){for(nt=[w[U]],B=0,C=f.length;B<C;B++)e=f[B][U],e==null&&(e=r),nt[B+1]=e;de[U]=nt}if(ge!==r){for(U=0;U<Ue;U++)$.yield1(ge,de[U]);return r}return de},-1),Ge(y,"$inherited",function(le){le.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),te(y,"$instance_variables",function Qe(){var le=Qe.$$p||r,ge=this;return Qe.$$p=null,pe(xe(ge,$e(ge,"instance_variables",Qe,!1,!0),"instance_variables",[],le),"reject",[],function(f){var w=r;return f==null&&(f=r),Q(w=/^@\d+$/.test(f))?w:f["$=="]("@length")})}),te(y,"$pack",function(le){return He(arguments),Ne.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),L(y,"append","push"),L(y,"filter","select"),L(y,"filter!","select!"),L(y,"map","collect"),L(y,"map!","collect!"),L(y,"prepend","unshift"),L(y,"size","length"),L(y,"slice","[]"),L(y,"to_s","inspect"),Ee.$pristine(y.$singleton_class(),"allocate"),Ee.$pristine(y,"copy_instance_variables","initialize_dup")}("::",Array,i)};Opal.modules["corelib/hash"]=function($){var Q=$.yield1,Re=$.hash,je=$.hash_init,_e=$.hash_get,Xe=$.hash_put,ze=$.hash_delete,Te=$.deny_frozen_access,ye=$.freeze,W=$.klass,Be=$.slice,Pe=$.Opal,qe=$.Kernel,He=$.defs,Ge=$.def,Ne=$.send,te=$.rb_ge,Ee=$.rb_gt,Je=$.hash2,Le=$.truthy,xe=$.to_a,$e=$.return_self,pe=$.alias,ae=$.top,Ie=[],ne=$.nil,me=$.$$$;return $.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),ae.$require("corelib/enumerable"),function(Z,p,oe){var I=W(Z,p,"Hash"),V=[I].concat(oe),N=$.$r(V);I.$include(me("Enumerable")),I.$$prototype.$$is_hash=!0,He(I,"$[]",function(L){var d,i,r=this;d=Be(arguments),i=d;var n,s=i.length,o;if(s===1){if(n=Pe["$coerce_to?"](i["$[]"](0),me("Hash"),"to_hash"),n!==ne)return r.$allocate()["$merge!"](n);for(i=Pe["$coerce_to?"](i["$[]"](0),me("Array"),"to_ary"),i===ne&&qe.$raise(me("ArgumentError"),"odd number of arguments for Hash"),s=i.length,n=r.$allocate(),o=0;o<s;o++)if(i[o].$$is_array)switch(i[o].length){case 1:n.$store(i[o][0],ne);break;case 2:n.$store(i[o][0],i[o][1]);break;default:qe.$raise(me("ArgumentError"),"invalid number of elements ("+i[o].length+" for 1..2)")}return n}for(s%2!==0&&qe.$raise(me("ArgumentError"),"odd number of arguments for Hash"),n=r.$allocate(),o=0;o<s;o+=2)n.$store(i[o],i[o+1]);return n},-1),He(I,"$allocate",function(){var L=this,d=new L.$$constructor;return je(d),d.$$none=ne,d.$$proc=ne,d}),He(I,"$try_convert",function(L){return Pe["$coerce_to?"](L,me("Hash"),"to_hash")}),Ge(I,"$initialize",function re(L){var d=re.$$p||ne,i=this;return re.$$p=null,Te(i),L!==void 0&&d!==ne&&qe.$raise(me("ArgumentError"),"wrong number of arguments (1 for 0)"),i.$$none=L===void 0?ne:L,i.$$proc=d,i},-1),Ge(I,"$==",function(L){var d=this;if(d===L)return!0;if(!L.$$is_hash||d.$$keys.length!==L.$$keys.length)return!1;for(var i=0,r=d.$$keys,n=r.length,s,o,g;i<n;i++)if(s=r[i],s.$$is_string?(o=d.$$smap[s],g=L.$$smap[s]):(o=s.value,g=_e(L,s.key)),g===void 0||!o["$eql?"](g))return!1;return!0}),Ge(I,"$>=",function(L){var d=this,i=ne;return L=Pe["$coerce_to!"](L,me("Hash"),"to_hash"),d.$$keys.length<L.$$keys.length?!1:(i=!0,Ne(L,"each",[],function r(n,s){var o=r.$$s==null?this:r.$$s,g=ne;if(n==null&&(n=ne),s==null&&(s=ne),g=o.$fetch(n,null),g==null||g!==s){i=!1;return}},{$$s:d}),i)}),Ge(I,"$>",function(L){var d=this;return L=Pe["$coerce_to!"](L,me("Hash"),"to_hash"),d.$$keys.length<=L.$$keys.length?!1:te(d,L)}),Ge(I,"$<",function(L){var d=this;return L=Pe["$coerce_to!"](L,me("Hash"),"to_hash"),Ee(L,d)}),Ge(I,"$<=",function(L){var d=this;return L=Pe["$coerce_to!"](L,me("Hash"),"to_hash"),te(L,d)}),Ge(I,"$[]",function(L){var d=this,i=_e(d,L);return i!==void 0?i:d.$default(L)}),Ge(I,"$[]=",function(L,d){var i=this;return Te(i),Xe(i,L,d),d}),Ge(I,"$assoc",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,s;i<n;i++)if(s=r[i],s.$$is_string){if(s["$=="](L))return[s,d.$$smap[s]]}else if(s.key["$=="](L))return[s.key,s.value];return ne}),Ge(I,"$clear",function(){var L=this;return Te(L),je(L),L}),Ge(I,"$clone",function(){var L=this,d=new L.$$class;return je(d),$.hash_clone(L,d),d}),Ge(I,"$compact",function(){for(var L=this,d=Re(),i=0,r=L.$$keys,n=r.length,s,o,g;i<n;i++)s=r[i],s.$$is_string?o=L.$$smap[s]:(o=s.value,s=s.key),o!==ne&&Xe(d,s,o);return d}),Ge(I,"$compact!",function(){var L=this;Te(L);for(var d=!1,i=0,r=L.$$keys,n=r.length,s,o,g;i<n;i++)s=r[i],s.$$is_string?o=L.$$smap[s]:(o=s.value,s=s.key),o===ne&&ze(L,s)!==void 0&&(d=!0,n--,i--);return d?L:ne}),Ge(I,"$compare_by_identity",function(){var L=this;Te(L);var d,i,r,n=L.$$keys,s;if(L.$$by_identity)return L;if(L.$$keys.length===0)return L.$$by_identity=!0,L;for(s=Je([],{}).$compare_by_identity(),d=0,i=n.length;d<i;d++)r=n[d],r.$$is_string||(r=r.key),Xe(s,r,_e(L,r));return L.$$by_identity=!0,L.$$map=s.$$map,L.$$smap=s.$$smap,L}),Ge(I,"$compare_by_identity?",function(){var L=this;return L.$$by_identity===!0}),Ge(I,"$default",function(L){var d=this;return L!==void 0&&d.$$proc!==ne&&d.$$proc!==void 0?d.$$proc.$call(d,L):d.$$none===void 0?ne:d.$$none},-1),Ge(I,"$default=",function(L){var d=this;return Te(d),d.$$proc=ne,d.$$none=L,L}),Ge(I,"$default_proc",function(){var L=this;return L.$$proc!==void 0?L.$$proc:ne}),Ge(I,"$default_proc=",function(L){var d=this;Te(d);var i=L;return i!==ne&&(i=Pe["$coerce_to!"](i,me("Proc"),"to_proc"),i["$lambda?"]()&&i.$arity().$abs()!==2&&qe.$raise(me("TypeError"),"default_proc takes two arguments")),d.$$none=ne,d.$$proc=i,L}),Ge(I,"$delete",function re(L){var d=re.$$p||ne,i=this;re.$$p=null,Te(i);var r=ze(i,L);return r!==void 0?r:d!==ne?$.yield1(d,L):ne}),Ge(I,"$delete_if",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["delete_if"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});Te(d);for(var i=0,r=d.$$keys,n=r.length,s,o,g;i<n;i++)s=r[i],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),g=L(s,o),g!==!1&&g!==ne&&ze(d,s)!==void 0&&(n--,i--);return d}),Ge(I,"$dig",function(L,d){var i,r,n=this,s=ne;return i=Be(arguments,1),r=i,s=n["$[]"](L),s===ne||r.length===0?s:(Le(s["$respond_to?"]("dig"))||qe.$raise(me("TypeError"),""+s.$class()+" does not have #dig method"),Ne(s,"dig",xe(r)))},-2),Ge(I,"$each",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["each"],function g(){var y=g.$$s==null?this:g.$$s;return y.$size()},{$$s:d});for(var i=0,r=d.$$keys.slice(),n=r.length,s,o;i<n;i++)s=r[i],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),Q(L,[s,o]);return d}),Ge(I,"$each_key",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["each_key"],function o(){var g=o.$$s==null?this:o.$$s;return g.$size()},{$$s:d});for(var i=0,r=d.$$keys.slice(),n=r.length,s;i<n;i++)s=r[i],L(s.$$is_string?s:s.key);return d}),Ge(I,"$each_value",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["each_value"],function o(){var g=o.$$s==null?this:o.$$s;return g.$size()},{$$s:d});for(var i=0,r=d.$$keys.slice(),n=r.length,s;i<n;i++)s=r[i],L(s.$$is_string?d.$$smap[s]:s.value);return d}),Ge(I,"$empty?",function(){var L=this;return L.$$keys.length===0}),Ge(I,"$except",function(L){var d,i,r=this;return d=Be(arguments),i=d,Ne(r.$dup(),"except!",xe(i))},-1),Ge(I,"$except!",function(L){var d,i,r=this;return d=Be(arguments),i=d,Ne(i,"each",[],function n(s){var o=n.$$s==null?this:n.$$s;return s==null&&(s=ne),o.$delete(s)},{$$s:r}),r},-1),Ge(I,"$fetch",function re(L,d){var i=re.$$p||ne,r=this;re.$$p=null;var n=_e(r,L);return n!==void 0?n:i!==ne?i(L):d!==void 0?d:qe.$raise(me("KeyError").$new("key not found: "+L.$inspect(),Je(["key","receiver"],{key:L,receiver:r})))},-2),Ge(I,"$fetch_values",function re(L){var d=re.$$p||ne,i,r,n=this;return re.$$p=null,i=Be(arguments),r=i,Ne(r,"map",[],function s(o){var g=s.$$s==null?this:s.$$s;return o==null&&(o=ne),Ne(g,"fetch",[o],d.$to_proc())},{$$s:n})},-1),Ge(I,"$flatten",function(L){var d=this;L==null&&(L=1),L=Pe["$coerce_to!"](L,me("Integer"),"to_int");for(var i=[],r=0,n=d.$$keys,s=n.length,o,g;r<s;r++){if(o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),i.push(o),g.$$is_array){if(L===1){i.push(g);continue}i=i.concat(g.$flatten(L-2));continue}i.push(g)}return i},-1),Ge(I,"$freeze",function(){var L=this;return Le(L["$frozen?"]())?L:ye(L)}),Ge(I,"$has_key?",function(L){var d=this;return _e(d,L)!==void 0}),Ge(I,"$has_value?",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,s;i<n;i++)if(s=r[i],(s.$$is_string?d.$$smap[s]:s.value)["$=="](L))return!0;return!1}),Ge(I,"$hash",function(){var L=this,d=$.hash_ids===void 0,i=L.$object_id(),r=["Hash"],n,s;try{if(d&&($.hash_ids=Object.create(null)),$[i])return"self";for(n in $.hash_ids)if(s=$.hash_ids[n],L["$eql?"](s))return"self";$.hash_ids[i]=L;for(var o=0,g=L.$$keys,y=g.length;o<y;o++)n=g[o],n.$$is_string?r.push([n,L.$$smap[n].$hash()]):r.push([n.key_hash,n.value.$hash()]);return r.sort().join()}finally{d&&($.hash_ids=void 0)}}),Ge(I,"$index",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,s,o;i<n;i++)if(s=r[i],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),o["$=="](L))return s;return ne}),Ge(I,"$indexes",function(L){var d,i,r=this;d=Be(arguments),i=d;for(var n=[],s=0,o=i.length,g,y;s<o;s++){if(g=i[s],y=_e(r,g),y===void 0){n.push(r.$default());continue}n.push(y)}return n},-1);var Ae;return Ge(I,"$inspect",function(){var L=this,d=Ae===void 0,i=L.$object_id(),r=[];return function(){try{if(d&&(Ae={}),Ae.hasOwnProperty(i))return"{...}";Ae[i]=!0;for(var n=0,s=L.$$keys,o=s.length,g,y;n<o;n++)g=s[n],g.$$is_string?y=L.$$smap[g]:(y=g.value,g=g.key),g=N("Opal").$inspect(g),y=N("Opal").$inspect(y),r.push(g+"=>"+y);return"{"+r.join(", ")+"}"}finally{d&&(Ae=void 0)}}()}),Ge(I,"$invert",function(){for(var L=this,d=Re(),i=0,r=L.$$keys,n=r.length,s,o;i<n;i++)s=r[i],s.$$is_string?o=L.$$smap[s]:(o=s.value,s=s.key),Xe(d,o,s);return d}),Ge(I,"$keep_if",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["keep_if"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});Te(d);for(var i=0,r=d.$$keys,n=r.length,s,o,g;i<n;i++)s=r[i],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),g=L(s,o),(g===!1||g===ne)&&ze(d,s)!==void 0&&(n--,i--);return d}),Ge(I,"$keys",function(){for(var L=this,d=[],i=0,r=L.$$keys,n=r.length,s;i<n;i++)s=r[i],s.$$is_string?d.push(s):d.push(s.key);return d}),Ge(I,"$length",function(){var L=this;return L.$$keys.length}),Ge(I,"$merge",function re(L){var d=re.$$p||ne,i,r,n=this;return re.$$p=null,i=Be(arguments),r=i,Ne(n.$dup(),"merge!",xe(r),d.$to_proc())},-1),Ge(I,"$merge!",function re(L){var d=re.$$p||ne,i,r,n=this;re.$$p=null,i=Be(arguments),r=i,Te(n);var s,o,g,y,P,be,tt,ot;for(s=0;s<r.length;++s)if(g=Pe["$coerce_to!"](r[s],me("Hash"),"to_hash"),y=g.$$keys,P=y.length,d===ne)for(o=0;o<P;o++)be=y[o],be.$$is_string?ot=g.$$smap[be]:(ot=be.value,be=be.key),Xe(n,be,ot);else for(o=0;o<P;o++){if(be=y[o],be.$$is_string?ot=g.$$smap[be]:(ot=be.value,be=be.key),tt=_e(n,be),tt===void 0){Xe(n,be,ot);continue}Xe(n,be,d(be,tt,ot))}return n},-1),Ge(I,"$rassoc",function(L){for(var d=this,i=0,r=d.$$keys,n=r.length,s,o;i<n;i++)if(s=r[i],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),o["$=="](L))return[s,o];return ne}),Ge(I,"$rehash",function(){var L=this;return Te(L),$.hash_rehash(L),L}),Ge(I,"$reject",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["reject"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});for(var i=Re(),r=0,n=d.$$keys,s=n.length,o,g,y;r<s;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),(y===!1||y===ne)&&Xe(i,o,g);return i}),Ge(I,"$reject!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["reject!"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});Te(d);for(var i=!1,r=0,n=d.$$keys,s=n.length,o,g,y;r<s;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),y!==!1&&y!==ne&&ze(d,o)!==void 0&&(i=!0,s--,r--);return i?d:ne}),Ge(I,"$replace",function(L){var d=this;Te(d),L=Pe["$coerce_to!"](L,me("Hash"),"to_hash"),je(d);for(var i=0,r=L.$$keys,n=r.length,s,o,g;i<n;i++)s=r[i],s.$$is_string?g=L.$$smap[s]:(g=s.value,s=s.key),Xe(d,s,g);return Le(L.$default_proc())?d["$default_proc="](L.$default_proc()):d["$default="](L.$default()),d}),Ge(I,"$select",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["select"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});for(var i=Re(),r=0,n=d.$$keys,s=n.length,o,g,y;r<s;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),y!==!1&&y!==ne&&Xe(i,o,g);return i}),Ge(I,"$select!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["select!"],function P(){var be=P.$$s==null?this:P.$$s;return be.$size()},{$$s:d});Te(d);for(var i=ne,r=0,n=d.$$keys,s=n.length,o,g,y;r<s;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),y=L(o,g),(y===!1||y===ne)&&(ze(d,o)!==void 0&&(s--,r--),i=d);return i}),Ge(I,"$shift",function(){var L=this;Te(L);var d=L.$$keys,i;return d.length>0?(i=d[0],i=i.$$is_string?i:i.key,[i,ze(L,i)]):ne}),Ge(I,"$slice",function(L){var d,i,r=this;d=Be(arguments),i=d;for(var n=Re(),s=0,o=i.length;s<o;s++){var g=i[s],y=_e(r,g);y!==void 0&&Xe(n,g,y)}return n},-1),Ge(I,"$to_a",function(){for(var L=this,d=[],i=0,r=L.$$keys,n=r.length,s,o;i<n;i++)s=r[i],s.$$is_string?o=L.$$smap[s]:(o=s.value,s=s.key),d.push([s,o]);return d}),Ge(I,"$to_h",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,L!==ne)return Ne(d,"map",[],L.$to_proc()).$to_h();if(d.$$class===$.Hash)return d;var i=new $.Hash;return je(i),$.hash_clone(d,i),i}),Ge(I,"$to_hash",$e),Ge(I,"$to_proc",function(){var L=this;return Ne(L,"proc",[],function d(i){var r=d.$$s==null?this:d.$$s;return i==null&&qe.$raise(me("ArgumentError"),"no key given"),r["$[]"](i)},{$$arity:-1,$$s:L})}),Ge(I,"$transform_keys",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["transform_keys"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});for(var i=Re(),r=0,n=d.$$keys,s=n.length,o,g;r<s;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),o=Q(L,o),Xe(i,o,g);return i}),Ge(I,"$transform_keys!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["transform_keys!"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});Te(d);var i=$.slice(d.$$keys),r,n=i.length,s,o,g;for(r=0;r<n;r++)s=i[r],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),g=Q(L,s),ze(d,s),Xe(d,g,o);return d}),Ge(I,"$transform_values",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["transform_values"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:d});for(var i=Re(),r=0,n=d.$$keys,s=n.length,o,g;r<s;r++)o=n[r],o.$$is_string?g=d.$$smap[o]:(g=o.value,o=o.key),g=Q(L,g),Xe(i,o,g);return i}),Ge(I,"$transform_values!",function re(){var L=re.$$p||ne,d=this;if(re.$$p=null,!Le(L))return Ne(d,"enum_for",["transform_values!"],function g(){var y=g.$$s==null?this:g.$$s;return y.$size()},{$$s:d});Te(d);for(var i=0,r=d.$$keys,n=r.length,s,o;i<n;i++)s=r[i],s.$$is_string?o=d.$$smap[s]:(o=s.value,s=s.key),o=Q(L,o),Xe(d,s,o);return d}),Ge(I,"$values",function(){for(var L=this,d=[],i=0,r=L.$$keys,n=r.length,s;i<n;i++)s=r[i],s.$$is_string?d.push(L.$$smap[s]):d.push(s.value);return d}),pe(I,"dup","clone"),pe(I,"each_pair","each"),pe(I,"eql?","=="),pe(I,"filter","select"),pe(I,"filter!","select!"),pe(I,"include?","has_key?"),pe(I,"indices","indexes"),pe(I,"key","index"),pe(I,"key?","has_key?"),pe(I,"member?","has_key?"),pe(I,"size","length"),pe(I,"store","[]="),pe(I,"to_s","inspect"),pe(I,"update","merge!"),pe(I,"value?","has_value?"),pe(I,"values_at","indexes")}("::",null,Ie)};Opal.modules["corelib/number"]=function($){var Q=$.klass,Re=$.Opal,je=$.Kernel,_e=$.def,Xe=$.eqeqeq,ze=$.truthy,Te=$.rb_gt,ye=$.not,W=$.rb_lt,Be=$.alias,Pe=$.send2,qe=$.find_super,He=$.send,Ge=$.rb_plus,Ne=$.rb_minus,te=$.eqeq,Ee=$.return_self,Je=$.rb_divide,Le=$.to_ary,xe=$.rb_times,$e=$.rb_le,pe=$.rb_ge,ae=$.return_val,Ie=$.const_set,ne=$.top,me=[],Z=$.nil,p=$.$$$;return $.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),ne.$require("corelib/numeric"),function(oe,I,V){var N=Q(oe,I,"Number");Re.$bridge(Number,N),$.prop(N.$$prototype,"$$is_number",!0),N.$$is_number_class=!0,function(r,n){return _e(r,"$allocate",function(){var o=this;return je.$raise(p("TypeError"),"allocator undefined for "+o.$name())}),$.udef(r,"$new"),Z}($.get_singleton_class(N)),_e(N,"$coerce",function(n){var s=this;if(n===Z)je.$raise(p("TypeError"),"can't convert "+n.$class()+" into Float");else{if(n.$$is_string)return[je.$Float(n),s];if(n["$respond_to?"]("to_f"))return[Re["$coerce_to!"](n,p("Float"),"to_f"),s];if(n.$$is_number)return[n,s];je.$raise(p("TypeError"),"can't convert "+n.$class()+" into Float")}}),_e(N,"$__id__",function(){var n=this;return n*2+1}),_e(N,"$+",function(n){var s=this;return n.$$is_number?s+n:s.$__coerced__("+",n)}),_e(N,"$-",function(n){var s=this;return n.$$is_number?s-n:s.$__coerced__("-",n)}),_e(N,"$*",function(n){var s=this;return n.$$is_number?s*n:s.$__coerced__("*",n)}),_e(N,"$/",function(n){var s=this;return n.$$is_number?s/n:s.$__coerced__("/",n)}),_e(N,"$%",function(n){var s=this;if(n.$$is_number){if(n==-1/0)return n;if(n==0)je.$raise(p("ZeroDivisionError"),"divided by 0");else return n<0||s<0?(s%n+n)%n:s%n}else return s.$__coerced__("%",n)}),_e(N,"$&",function(n){var s=this;return n.$$is_number?s&n:s.$__coerced__("&",n)}),_e(N,"$|",function(n){var s=this;return n.$$is_number?s|n:s.$__coerced__("|",n)}),_e(N,"$^",function(n){var s=this;return n.$$is_number?s^n:s.$__coerced__("^",n)}),_e(N,"$<",function(n){var s=this;return n.$$is_number?s<n:s.$__coerced__("<",n)}),_e(N,"$<=",function(n){var s=this;return n.$$is_number?s<=n:s.$__coerced__("<=",n)}),_e(N,"$>",function(n){var s=this;return n.$$is_number?s>n:s.$__coerced__(">",n)}),_e(N,"$>=",function(n){var s=this;return n.$$is_number?s>=n:s.$__coerced__(">=",n)});var Ae=function(r,n){return n.$$is_number?isNaN(r)||isNaN(n)?Z:r>n?1:r<n?-1:0:r.$__coerced__("<=>",n)};_e(N,"$<=>",function(n){var s=this;try{return Ae(s,n)}catch(o){if($.rescue(o,[p("ArgumentError")]))try{return Z}finally{$.pop_exception()}else throw o}}),_e(N,"$<<",function(n){var s=this;return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),n>0?s<<n:s>>-n}),_e(N,"$>>",function(n){var s=this;return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),n>0?s>>n:s<<-n}),_e(N,"$[]",function(n){var s=this;return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),n<0?0:n>=32?s<0?1:0:s>>n&1}),_e(N,"$+@",function(){var n=this;return+n}),_e(N,"$-@",function(){var n=this;return-n}),_e(N,"$~",function(){var n=this;return~n}),_e(N,"$**",function(n){var s=this;return Xe(p("Integer"),n)?ye(p("Integer")["$==="](s))||ze(Te(n,0))?Math.pow(s,n):p("Rational").$new(s,1)["$**"](n):W(s,0)&&(Xe(p("Float"),n)||Xe(p("Rational"),n))?p("Complex").$new(s,0)["$**"](n.$to_f()):ze(n.$$is_number!=null)?Math.pow(s,n):s.$__coerced__("**",n)}),_e(N,"$==",function(n){var s=this;return n.$$is_number?s.valueOf()===n.valueOf():n["$respond_to?"]("==")?n["$=="](s):!1}),Be(N,"===","=="),_e(N,"$abs",function(){var n=this;return Math.abs(n)}),_e(N,"$abs2",function(){var n=this;return Math.abs(n*n)}),_e(N,"$allbits?",function(n){var s=this;return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),(s&n)==n}),_e(N,"$anybits?",function(n){var s=this;return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),(s&n)!==0}),_e(N,"$angle",function(){var n=this;return ze(n["$nan?"]())?n:n==0?1/n>0?0:Math.PI:n<0?Math.PI:0}),_e(N,"$bit_length",function(){var n=this;if(Xe(p("Integer"),n)||je.$raise(p("NoMethodError").$new("undefined method `bit_length` for "+n+":Float","bit_length")),n===0||n===-1)return 0;for(var s=0,o=n<0?~n:n;o!=0;)s+=1,o>>>=1;return s}),_e(N,"$ceil",function(n){var s=this;n==null&&(n=0);var o=s.$to_f();if(o%1===0&&n>=0)return o;var g=Math.pow(10,n),y=Math.ceil(o*g)/g;return o%1===0&&(y=Math.round(y)),y},-1),_e(N,"$chr",function(n){var s=this;return $.enc(String.fromCharCode(s),n||"BINARY")},-1),_e(N,"$denominator",function r(){var n=r.$$p||Z,s=this;return r.$$p=null,ze(s["$nan?"]())||ze(s["$infinite?"]())?1:Pe(s,qe(s,"denominator",r,!1,!0),"denominator",[],n)}),_e(N,"$downto",function r(n){var s=r.$$p||Z,o=this;if(r.$$p=null,s===Z)return He(o,"enum_for",["downto",n],function y(){var P=y.$$s==null?this:y.$$s;return Xe(p("Numeric"),n)||je.$raise(p("ArgumentError"),"comparison of "+P.$class()+" with "+n.$class()+" failed"),ze(Te(n,P))?0:Ge(Ne(P,n),1)},{$$s:o});n.$$is_number||je.$raise(p("ArgumentError"),"comparison of "+o.$class()+" with "+n.$class()+" failed");for(var g=o;g>=n;g--)s(g);return o}),_e(N,"$equal?",function(n){var s=this,o=Z;return ze(o=s["$=="](n))?o:isNaN(s)&&isNaN(n)}),_e(N,"$even?",function(){var n=this;return n%2===0}),_e(N,"$floor",function(n){var s=this;n==null&&(n=0);var o=s.$to_f();if(o%1===0&&n>=0)return o;var g=Math.pow(10,n),y=Math.floor(o*g)/g;return o%1===0&&(y=Math.round(y)),y},-1),_e(N,"$gcd",function(n){var s=this;Xe(p("Integer"),n)||je.$raise(p("TypeError"),"not an integer");for(var o=Math.abs(s),g=Math.abs(n);o>0;){var y=o;o=g%o,g=y}return g}),_e(N,"$gcdlcm",function(n){var s=this;return[s.$gcd(n),s.$lcm(n)]}),_e(N,"$integer?",function(){var n=this;return n%1===0}),_e(N,"$is_a?",function r(n){var s=r.$$p||Z,o=this;return r.$$p=null,te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Float"))&&Xe(p("Float"),o)?!0:Pe(o,qe(o,"is_a?",r,!1,!0),"is_a?",[n],s)}),_e(N,"$instance_of?",function r(n){var s=r.$$p||Z,o=this;return r.$$p=null,te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Integer"))&&Xe(p("Integer"),o)||te(n,p("Float"))&&Xe(p("Float"),o)?!0:Pe(o,qe(o,"instance_of?",r,!1,!0),"instance_of?",[n],s)}),_e(N,"$lcm",function(n){var s=this;return Xe(p("Integer"),n)||je.$raise(p("TypeError"),"not an integer"),s==0||n==0?0:Math.abs(s*n/s.$gcd(n))}),_e(N,"$next",function(){var n=this;return n+1}),_e(N,"$nobits?",function(n){var s=this;return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),(s&n)==0}),_e(N,"$nonzero?",function(){var n=this;return n==0?Z:n}),_e(N,"$numerator",function r(){var n=r.$$p||Z,s=this;return r.$$p=null,ze(s["$nan?"]())||ze(s["$infinite?"]())?s:Pe(s,qe(s,"numerator",r,!1,!0),"numerator",[],n)}),_e(N,"$odd?",function(){var n=this;return n%2!==0}),_e(N,"$ord",Ee),_e(N,"$pow",function(n,s){var o=this;return o==0&&je.$raise(p("ZeroDivisionError"),"divided by 0"),s===void 0?o["$**"](n):(p("Integer")["$==="](n)||je.$raise(p("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),n<0&&je.$raise(p("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),p("Integer")["$==="](s)||je.$raise(p("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),s===0&&je.$raise(p("ZeroDivisionError"),"divided by 0"),o["$**"](n)["$%"](s))},-2),_e(N,"$pred",function(){var n=this;return n-1}),_e(N,"$quo",function r(n){var s=r.$$p||Z,o=this;return r.$$p=null,Xe(p("Integer"),o)?Pe(o,qe(o,"quo",r,!1,!0),"quo",[n],s):Je(o,n)}),_e(N,"$rationalize",function(n){var s,o,g=this,y=Z,P=Z;return arguments.length>1&&je.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Xe(p("Integer"),g)?p("Rational").$new(g,1):ze(g["$infinite?"]())?je.$raise(p("FloatDomainError"),"Infinity"):ze(g["$nan?"]())?je.$raise(p("FloatDomainError"),"NaN"):ze(n==null)?(o=p("Math").$frexp(g),s=Le(o),y=s[0]==null?Z:s[0],P=s[1]==null?Z:s[1],y=p("Math").$ldexp(y,p(p("Float"),"MANT_DIG")).$to_i(),P=Ne(P,p(p("Float"),"MANT_DIG")),p("Rational").$new(xe(2,y),1["$<<"](Ne(1,P))).$rationalize(p("Rational").$new(1,1["$<<"](Ne(1,P))))):g.$to_r().$rationalize(n)},-1),_e(N,"$remainder",function(n){var s=this;return Ne(s,xe(n,Je(s,n).$truncate()))}),_e(N,"$round",function(n){var s,o,g=this,y=Z;if(Xe(p("Integer"),g)){if(ze(n==null)||(Xe(p("Float"),n)&&ze(n["$infinite?"]())&&je.$raise(p("RangeError"),"Infinity"),n=Re["$coerce_to!"](n,p("Integer"),"to_int"),ze(W(n,p(p("Integer"),"MIN")))&&je.$raise(p("RangeError"),"out of bounds"),ze(n>=0)))return g;if(n=n["$-@"](),.415241*n-.125>g.$size())return 0;var P=Math.pow(10,n),be=Math.floor((Math.abs(g)+P/2)/P)*P;return g<0?-be:be}else{if(ze(g["$nan?"]())&&ze(n==null)&&je.$raise(p("FloatDomainError"),"NaN"),n=Re["$coerce_to!"](n||0,p("Integer"),"to_int"),ze($e(n,0)))ze(g["$nan?"]())?je.$raise(p("RangeError"),"NaN"):ze(g["$infinite?"]())&&je.$raise(p("FloatDomainError"),"Infinity");else{if(te(n,0))return Math.round(g);if(ze(g["$nan?"]())||ze(g["$infinite?"]()))return g}return o=p("Math").$frexp(g),s=Le(o),s[0]==null||s[0],y=s[1]==null?Z:s[1],ze(pe(n,Ne(Ge(p(p("Float"),"DIG"),2),ze(Te(y,0))?Je(y,4):Ne(Je(y,3),1))))?g:ze(W(n,(ze(Te(y,0))?Ge(Je(y,3),1):Je(y,4))["$-@"]()))?0:Math.round(g*Math.pow(10,n))/Math.pow(10,n)}},-1),_e(N,"$times",function r(){var n=r.$$p||Z,s=this;if(r.$$p=null,!ze(n))return He(s,"enum_for",["times"],function g(){var y=g.$$s==null?this:g.$$s;return y},{$$s:s});for(var o=0;o<s;o++)n(o);return s}),_e(N,"$to_f",Ee),_e(N,"$to_i",function(){var n=this;return n<0?Math.ceil(n):Math.floor(n)}),_e(N,"$to_r",function(){var n,s,o=this,g=Z,y=Z;return Xe(p("Integer"),o)?p("Rational").$new(o,1):(s=p("Math").$frexp(o),n=Le(s),g=n[0]==null?Z:n[0],y=n[1]==null?Z:n[1],g=p("Math").$ldexp(g,p(p("Float"),"MANT_DIG")).$to_i(),y=Ne(y,p(p("Float"),"MANT_DIG")),xe(g,p(p("Float"),"RADIX")["$**"](y)).$to_r())}),_e(N,"$to_s",function(n){var s=this;return n==null&&(n=10),n=Re["$coerce_to!"](n,p("Integer"),"to_int"),(ze(W(n,2))||ze(Te(n,36)))&&je.$raise(p("ArgumentError"),"invalid radix "+n),te(s,0)&&ze(1/s===-1/0)?"-0.0":s.toString(n)},-1),_e(N,"$truncate",function(n){var s=this;n==null&&(n=0);var o=s.$to_f();if(o%1===0&&n>=0)return o;var g=Math.pow(10,n),y=parseInt(o*g,10)/g;return o%1===0&&(y=Math.round(y)),y},-1),_e(N,"$digits",function(n){var s=this;n==null&&(n=10),W(s,0)&&je.$raise(p(p("Math"),"DomainError"),"out of domain"),n=Re["$coerce_to!"](n,p("Integer"),"to_int"),ze(W(n,2))&&je.$raise(p("ArgumentError"),"invalid radix "+n),s!=parseInt(s)&&je.$raise(p("NoMethodError"),"undefined method `digits' for "+s.$inspect());var o=s,g=[];if(s==0)return[0];for(;o!=0;)g.push(o%n),o=parseInt(o/n,10);return g},-1),_e(N,"$divmod",function r(n){var s=r.$$p||Z,o=this;return r.$$p=null,ze(o["$nan?"]())||ze(n["$nan?"]())?je.$raise(p("FloatDomainError"),"NaN"):ze(o["$infinite?"]())?je.$raise(p("FloatDomainError"),"Infinity"):Pe(o,qe(o,"divmod",r,!1,!0),"divmod",[n],s)}),_e(N,"$upto",function r(n){var s=r.$$p||Z,o=this;if(r.$$p=null,s===Z)return He(o,"enum_for",["upto",n],function y(){var P=y.$$s==null?this:y.$$s;return Xe(p("Numeric"),n)||je.$raise(p("ArgumentError"),"comparison of "+P.$class()+" with "+n.$class()+" failed"),ze(W(n,P))?0:Ge(Ne(n,P),1)},{$$s:o});n.$$is_number||je.$raise(p("ArgumentError"),"comparison of "+o.$class()+" with "+n.$class()+" failed");for(var g=o;g<=n;g++)s(g);return o}),_e(N,"$zero?",function(){var n=this;return n==0}),_e(N,"$size",ae(4)),_e(N,"$nan?",function(){var n=this;return isNaN(n)}),_e(N,"$finite?",function(){var n=this;return n!=1/0&&n!=-1/0&&!isNaN(n)}),_e(N,"$infinite?",function(){var n=this;return n==1/0?1:n==-1/0?-1:Z}),_e(N,"$positive?",function(){var n=this;return n!=0&&(n==1/0||1/n>0)}),_e(N,"$negative?",function(){var n=this;return n==-1/0||1/n<0});function re(r){var n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,r,!0),n}function L(r){return new DataView(r.buffer).getFloat64(0,!0)}function d(r){for(var n=re(r),s=0;s<n.length;s++)if(n[s]===255)n[s]=0;else{n[s]++;break}return L(n)}function i(r){for(var n=re(r),s=0;s<n.length;s++)if(n[s]===0)n[s]=255;else{n[s]--;break}return L(n)}return _e(N,"$next_float",function(){var n=this;return te(n,p(p("Float"),"INFINITY"))?p(p("Float"),"INFINITY"):ze(n["$nan?"]())?p(p("Float"),"NAN"):pe(n,0)?d(Math.abs(n)):i(n)}),_e(N,"$prev_float",function(){var n=this;return te(n,p(p("Float"),"INFINITY")["$-@"]())?p(p("Float"),"INFINITY")["$-@"]():ze(n["$nan?"]())?p(p("Float"),"NAN"):Te(n,0)?i(n):-d(Math.abs(n))}),Be(N,"arg","angle"),Be(N,"eql?","=="),Be(N,"fdiv","/"),Be(N,"inspect","to_s"),Be(N,"kind_of?","is_a?"),Be(N,"magnitude","abs"),Be(N,"modulo","%"),Be(N,"object_id","__id__"),Be(N,"phase","angle"),Be(N,"succ","next"),Be(N,"to_int","to_i")}("::",p("Numeric")),Ie("::","Fixnum",p("Number")),function(oe,I,V){var N=Q(oe,I,"Integer"),Ae=[N].concat(V);return N.$$is_number_class=!0,N.$$is_integer_class=!0,function(re,L){var d=[re].concat(L),i=$.$r(d);return _e(re,"$allocate",function(){var n=this;return je.$raise(p("TypeError"),"allocator undefined for "+n.$name())}),$.udef(re,"$new"),_e(re,"$sqrt",function(n){return n=Re["$coerce_to!"](n,p("Integer"),"to_int"),n<0&&je.$raise(p(p("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(n),10)}),_e(re,"$try_convert",function(n){var s=this;return i("Opal")["$coerce_to?"](n,s,"to_int")})}($.get_singleton_class(N),Ae),Ie(N,"MAX",Math.pow(2,30)-1),Ie(N,"MIN",-Math.pow(2,30))}("::",p("Numeric"),me),function(oe,I,V){var N=Q(oe,I,"Float");return N.$$is_number_class=!0,function(Ae,re){return _e(Ae,"$allocate",function(){var d=this;return je.$raise(p("TypeError"),"allocator undefined for "+d.$name())}),$.udef(Ae,"$new"),_e(Ae,"$===",function(d){return!!d.$$is_number})}($.get_singleton_class(N)),Ie(N,"INFINITY",1/0),Ie(N,"MAX",Number.MAX_VALUE),Ie(N,"MIN",Number.MIN_VALUE),Ie(N,"NAN",NaN),Ie(N,"DIG",15),Ie(N,"MANT_DIG",53),Ie(N,"RADIX",2),Ie(N,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",p("Numeric"))};Opal.modules["corelib/range"]=function($){var Q=$.klass,Re=$.truthy,je=$.Kernel,_e=$.def,Xe=$.not,ze=$.send2,Te=$.find_super,ye=$.rb_lt,W=$.rb_le,Be=$.send,Pe=$.eqeq,qe=$.eqeqeq,He=$.return_ivar,Ge=$.rb_gt,Ne=$.rb_minus,te=$.Opal,Ee=$.rb_divide,Je=$.rb_plus,Le=$.rb_times,xe=$.rb_ge,$e=$.thrower,pe=$.alias,ae=$.top,Ie=[],ne=$.nil,me=$.$$$;return $.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),ae.$require("corelib/enumerable"),function(Z,p,oe){var I=Q(Z,p,"Range"),V=[I].concat(oe),N=$.$r(V),Ae=I.$$prototype;Ae.begin=Ae.end=Ae.excl=ne,I.$include(me("Enumerable")),I.$$prototype.$$is_range=!0,I.$attr_reader("begin","end"),_e(I,"$initialize",function(d,i,r){var n=this;return r==null&&(r=!1),Re(n.begin)&&je.$raise(me("NameError"),"'initialize' called twice"),Re(d["$<=>"](i))||Re(d["$nil?"]())||Re(i["$nil?"]())||je.$raise(me("ArgumentError"),"bad value for range"),n.begin=d,n.end=i,n.excl=r},-3),_e(I,"$===",function(d){var i=this;return i["$include?"](d)});function re(L){return L.begin===ne||L.end===ne||L.begin===-1/0||L.end===1/0||L.begin===1/0||L.end===-1/0}return _e(I,"$count",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,Xe(d!==ne)&&Re(re(i))?me(me("Float"),"INFINITY"):ze(i,Te(i,"count",L,!1,!0),"count",[],d)}),_e(I,"$to_a",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,Re(re(i))&&je.$raise(me("TypeError"),"cannot convert endless range to an array"),ze(i,Te(i,"to_a",L,!1,!0),"to_a",[],d)}),_e(I,"$cover?",function(d){var i=this,r=ne,n=ne,s=ne,o=ne,g=ne;return r=Re(n=Re(s=Re(o=i.begin["$nil?"]())?-1:o)?s:i.begin["$<=>"](d))&&n,g=Re(n=Re(s=Re(o=i.end["$nil?"]())?-1:o)?s:d["$<=>"](i.end))&&n,Re(n=Re(s=Re(i.excl)?Re(o=g)?ye(g,0):o:Re(o=g)?W(g,0):o)?r:s)?W(r,0):n}),_e(I,"$each",function L(){var d=L.$$p||ne,i=this,r=ne,n=ne,s=ne;if(L.$$p=null,d===ne)return Be(i,"enum_for",["each"],function y(){var P=y.$$s==null?this:y.$$s;return P.$size()},{$$s:i});var o,g;if(i.begin.$$is_number&&i.end.$$is_number){for((i.begin%1!==0||i.end%1!==0)&&je.$raise(me("TypeError"),"can't iterate from Float"),o=i.begin,g=i.end+(Re(i.excl)?0:1);o<g;o++)d(o);return i}if(i.begin.$$is_string&&i.end.$$is_string)return Be(i.begin,"upto",[i.end,i.excl],d.$to_proc()),i;for(r=i.begin,n=i.end,Re(r["$respond_to?"]("succ"))||je.$raise(me("TypeError"),"can't iterate from "+r.$class());Re(Re(s=i.end["$nil?"]())?s:ye(r["$<=>"](n),0));)$.yield1(d,r),r=r.$succ();return Xe(i.excl)&&Pe(r,n)&&$.yield1(d,r),i}),_e(I,"$eql?",function(d){var i=this,r=ne,n=ne;return qe(me("Range"),d)?Re(r=Re(n=i.excl["$==="](d["$exclude_end?"]()))?i.begin["$eql?"](d.$begin()):n)?i.end["$eql?"](d.$end()):r:!1}),_e(I,"$exclude_end?",He("excl")),_e(I,"$first",function L(d){var i=L.$$p||ne,r=this;return L.$$p=null,Re(r.begin["$nil?"]())&&je.$raise(me("RangeError"),"cannot get the minimum of beginless range"),Re(d==null)?r.begin:ze(r,Te(r,"first",L,!1,!0),"first",[d],i)},-1),_e(I,"$last",function(d){var i=this;return Re(i.end["$nil?"]())&&je.$raise(me("RangeError"),"cannot get the maximum of endless range"),Re(d==null)?i.end:i.$to_a().$last(d)},-1),_e(I,"$max",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,Re(i.end["$nil?"]())?je.$raise(me("RangeError"),"cannot get the maximum of endless range"):d!==ne?ze(i,Te(i,"max",L,!1,!0),"max",[],d):Xe(i.begin["$nil?"]())&&(Re(Ge(i.begin,i.end))||Re(i.excl)&&Pe(i.begin,i.end))?ne:i.excl?i.end-1:i.end}),_e(I,"$min",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,Re(i.begin["$nil?"]())?je.$raise(me("RangeError"),"cannot get the minimum of beginless range"):d!==ne?ze(i,Te(i,"min",L,!1,!0),"min",[],d):Xe(i.end["$nil?"]())&&(Re(Ge(i.begin,i.end))||Re(i.excl)&&Pe(i.begin,i.end))?ne:i.begin}),_e(I,"$size",function(){var d=this,i=ne,r=ne,n=ne;return i=me(me("Float"),"INFINITY"),Pe(d.begin,i)&&Xe(d.end["$nil?"]())||Pe(d.end,i["$-@"]())&&Xe(d.begin["$nil?"]())?0:Re(re(d))?i:qe(me("Numeric"),d.begin)&&qe(me("Numeric"),d.end)?(r=d.begin,n=d.end,Re(d.excl)&&(n=Ne(n,1)),Re(ye(n,r))?0:(Math.abs(n-r)+1).$to_i()):ne}),_e(I,"$step",function L(d){var i=L.$$p||ne,r=this,n=ne,s=ne;L.$$p=null;function o(){d==null?d=1:d.$$is_number||(d=te["$coerce_to!"](d,me("Integer"),"to_int")),d<0?je.$raise(me("ArgumentError"),"step can't be negative"):d===0&&je.$raise(me("ArgumentError"),"step can't be 0")}function g(){if(!r.begin["$respond_to?"]("succ")||r.begin.$$is_string&&r.end.$$is_string)return ne;if(d%1===0)return Ee(r.$size(),d).$ceil();var y=r.begin,P=r.end,be=Math.abs,tt=Math.floor,ot=(be(y)+be(P)+be(P-y))/be(d)*me(me("Float"),"EPSILON"),lt;return ot>.5&&(ot=.5),r.excl?(lt=tt((P-y)/d-ot),lt*d+y<P&&lt++):lt=tt((P-y)/d+ot)+1,lt}return i===ne?(Re(r.begin["$is_a?"](N("Numeric")))||Re(r.begin["$nil?"]()))&&(Re(r.end["$is_a?"](N("Numeric")))||Re(r.end["$nil?"]()))&&Xe(Re(n=r.begin["$nil?"]())?r.end["$nil?"]():n)?me(me("Enumerator"),"ArithmeticSequence").$new(r,d,"step"):Be(r,"enum_for",["step",d],function(){return o(),g()}):(o(),Re(r.begin.$$is_number&&r.end.$$is_number)?(s=0,function(){try{var y=$e("break");return Be(r,"loop",[],function P(){var be=P.$$s==null?this:P.$$s,tt=ne;return be.begin==null&&(be.begin=ne),be.excl==null&&(be.excl=ne),be.end==null&&(be.end=ne),tt=Je(be.begin,Le(s,d)),Re(be.excl)?Re(xe(tt,be.end))&&y.$throw():Re(Ge(tt,be.end))&&y.$throw(),$.yield1(i,tt),s=Je(s,1)},{$$s:r})}catch(P){if(P===y)return P.$v;throw P}}()):(r.begin.$$is_string&&r.end.$$is_string&&d%1!==0&&je.$raise(me("TypeError"),"no implicit conversion to float from string"),Be(r,"each_with_index",[],function(P,be){return P==null&&(P=ne),be==null&&(be=ne),Pe(be["$%"](d),0)?$.yield1(i,P):ne})),r)},-1),_e(I,"$%",function(d){var i=this;return Re(i.begin["$is_a?"](N("Numeric")))&&Re(i.end["$is_a?"](N("Numeric")))?me(me("Enumerator"),"ArithmeticSequence").$new(i,d,"%"):i.$step(d)}),_e(I,"$bsearch",function L(){var d=L.$$p||ne,i=this;return L.$$p=null,d===ne?i.$enum_for("bsearch"):(Re(re(i)&&(i.begin.$$is_number||i.end.$$is_number))&&je.$raise(me("NotImplementedError"),"Can't #bsearch an infinite range"),Re(i.begin.$$is_number&&i.end.$$is_number)||je.$raise(me("TypeError"),"can't do binary search for "+i.begin.$class()),Be(i.$to_a(),"bsearch",[],d.$to_proc()))}),_e(I,"$to_s",function(){var d=this,i=ne;return""+(Re(i=d.begin)?i:"")+(Re(d.excl)?"...":"..")+(Re(i=d.end)?i:"")}),_e(I,"$inspect",function(){var d=this,i=ne;return""+(Re(i=d.begin)?d.begin.$inspect():i)+(Re(d.excl)?"...":"..")+(Re(i=d.end)?d.end.$inspect():i)}),_e(I,"$marshal_load",function(d){var i=this;return i.begin=d["$[]"]("begin"),i.end=d["$[]"]("end"),i.excl=d["$[]"]("excl")}),_e(I,"$hash",function(){var d=this;return[d.begin,d.end,d.excl].$hash()}),pe(I,"==","eql?"),pe(I,"include?","cover?"),pe(I,"member?","cover?")}("::",null,Ie)};Opal.modules["corelib/proc"]=function($){var Q=$.slice,Re=$.klass,je=$.truthy,_e=$.Kernel,Xe=$.defs,ze=$.def,Te=$.send,ye=$.to_a,W=$.return_self,Be=$.ensure_kwargs,Pe=$.Opal,qe=$.alias,He=$.nil,Ge=$.$$$;return $.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(Ne,te){var Ee=Re(Ne,te,"Proc");return $.prop(Ee.$$prototype,"$$is_proc",!0),$.prop(Ee.$$prototype,"$$is_lambda",!1),Xe(Ee,"$new",function Je(){var Le=Je.$$p||He;return Je.$$p=null,je(Le)||_e.$raise(Ge("ArgumentError"),"tried to create a Proc object without a block"),Le}),ze(Ee,"$call",function Je(Le){var xe=Je.$$p||He,$e,pe,ae=this;Je.$$p=null,$e=Q(arguments),pe=$e,xe!==He&&(ae.$$p=xe);var Ie,ne=ae.$$brk,me=ae.$$ret;if(ne||me&&ae.$$is_lambda)try{ae.$$is_lambda?Ie=ae.apply(null,pe):Ie=$.yieldX(ae,pe)}catch(Z){if(Z===ne)return Z.$v;if(ae.$$is_lambda&&Z===me)return Z.$v;throw Z}else ae.$$is_lambda?Ie=ae.apply(null,pe):Ie=$.yieldX(ae,pe);return Ie},-1),ze(Ee,"$>>",function Je(Le){Je.$$p;var xe=this;return Je.$$p=null,Te(_e,"proc",[],function $e(pe){var ae=$e.$$p||He,Ie,ne,me=$e.$$s==null?this:$e.$$s,Z=He;return $e.$$p=null,Ie=Q(arguments),ne=Ie,Z=Te(me,"call",ye(ne),ae.$to_proc()),Le.$call(Z)},{$$arity:-1,$$s:xe})}),ze(Ee,"$<<",function Je(Le){Je.$$p;var xe=this;return Je.$$p=null,Te(_e,"proc",[],function $e(pe){var ae=$e.$$p||He,Ie,ne,me=$e.$$s==null?this:$e.$$s,Z=He;return $e.$$p=null,Ie=Q(arguments),ne=Ie,Z=Te(Le,"call",ye(ne),ae.$to_proc()),me.$call(Z)},{$$arity:-1,$$s:xe})}),ze(Ee,"$to_proc",W),ze(Ee,"$lambda?",function(){var Le=this;return!!Le.$$is_lambda}),ze(Ee,"$arity",function(){var Le=this;return Le.$$is_curried?-1:Le.$$arity!=null?Le.$$arity:Le.length}),ze(Ee,"$source_location",function(){var Le=this,xe=He;return Le.$$is_curried?He:je(xe=Le.$$source_location)?xe:He}),ze(Ee,"$binding",function(){var Le=this;return Le.$$is_curried&&_e.$raise(Ge("ArgumentError"),"Can't create Binding"),je(Ge("::","Binding","skip_raise")?"constant":He)?Ge("Binding").$new(He,[],Le.$$s,Le.$source_location()):He}),ze(Ee,"$parameters",function(Le){var xe,$e=this;if(Le=Be(Le),xe=Le.$$smap.lambda,$e.$$is_curried)return[["rest"]];if($e.$$parameters){if(xe??$e.$$is_lambda)return $e.$$parameters;var pe=[],ae,Ie;for(ae=0,Ie=$e.$$parameters.length;ae<Ie;ae++){var ne=$e.$$parameters[ae];ne[0]==="req"&&(ne=["opt",ne[1]]),pe.push(ne)}return pe}else return[]},-1),ze(Ee,"$curry",function(Le){var xe=this;Le===void 0?Le=xe.length:(Le=Pe["$coerce_to!"](Le,Ge("Integer"),"to_int"),xe.$$is_lambda&&Le!==xe.length&&_e.$raise(Ge("ArgumentError"),"wrong number of arguments ("+Le+" for "+xe.length+")"));function $e(){var pe=Q(arguments),ae=pe.length,Ie;return ae>Le&&xe.$$is_lambda&&!xe.$$is_curried&&_e.$raise(Ge("ArgumentError"),"wrong number of arguments ("+ae+" for "+Le+")"),ae>=Le?xe.$call.apply(xe,pe):(Ie=function(){return $e.apply(null,pe.concat(Q(arguments)))},Ie.$$is_lambda=xe.$$is_lambda,Ie.$$is_curried=!0,Ie)}return $e.$$is_lambda=xe.$$is_lambda,$e.$$is_curried=!0,$e},-1),ze(Ee,"$dup",function(){var Le=this,xe=Le.$$original_proc||Le,$e=function(){return xe.apply(this,arguments)};for(var pe in Le)Le.hasOwnProperty(pe)&&($e[pe]=Le[pe]);return $e}),qe(Ee,"===","call"),qe(Ee,"clone","dup"),qe(Ee,"yield","call"),qe(Ee,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function($){var Q=$.klass,Re=$.def,je=$.truthy,_e=$.slice,Xe=$.alias,ze=$.Kernel,Te=$.send,ye=$.to_a,W=$.nil,Be=$.$$$;return $.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(Pe,qe){var He=Q(Pe,qe,"Method"),Ge=He.$$prototype;return Ge.method=Ge.receiver=Ge.owner=Ge.name=W,He.$attr_reader("owner","receiver","name"),Re(He,"$initialize",function(te,Ee,Je,Le){var xe=this;return xe.receiver=te,xe.owner=Ee,xe.name=Le,xe.method=Je}),Re(He,"$arity",function(){var te=this;return te.method.$arity()}),Re(He,"$parameters",function(){var te=this;return te.method.$$parameters}),Re(He,"$source_location",function(){var te=this,Ee=W;return je(Ee=te.method.$$source_location)?Ee:["(eval)",0]}),Re(He,"$comments",function(){var te=this,Ee=W;return je(Ee=te.method.$$comments)?Ee:[]}),Re(He,"$call",function Ne(te){var Ee=Ne.$$p||W,Je,Le,xe=this;return Ne.$$p=null,Je=_e(arguments),Le=Je,xe.method.$$p=Ee,xe.method.apply(xe.receiver,Le)},-1),Re(He,"$curry",function(te){var Ee=this;return Ee.method.$curry(te)},-1),Re(He,"$>>",function(te){var Ee=this;return Ee.method["$>>"](te)}),Re(He,"$<<",function(te){var Ee=this;return Ee.method["$<<"](te)}),Re(He,"$unbind",function(){var te=this;return Be("UnboundMethod").$new(te.receiver.$class(),te.owner,te.method,te.name)}),Re(He,"$to_proc",function(){var te=this,Ee=te.$call.bind(te);return Ee.$$unbound=te.method,Ee.$$is_lambda=!0,Ee.$$arity=te.method.$$arity==null?te.method.length:te.method.$$arity,Ee.$$parameters=te.method.$$parameters,Ee}),Re(He,"$inspect",function(){var te=this;return"#<"+te.$class()+": "+te.receiver.$class()+"#"+te.name+" (defined in "+te.owner+" in "+te.$source_location().$join(":")+")>"}),Xe(He,"[]","call"),Xe(He,"===","call")}("::",null),function(Pe,qe){var He=Q(Pe,qe,"UnboundMethod"),Ge=He.$$prototype;return Ge.method=Ge.owner=Ge.name=Ge.source=W,He.$attr_reader("source","owner","name"),Re(He,"$initialize",function(te,Ee,Je,Le){var xe=this;return xe.source=te,xe.owner=Ee,xe.method=Je,xe.name=Le}),Re(He,"$arity",function(){var te=this;return te.method.$arity()}),Re(He,"$parameters",function(){var te=this;return te.method.$$parameters}),Re(He,"$source_location",function(){var te=this,Ee=W;return je(Ee=te.method.$$source_location)?Ee:["(eval)",0]}),Re(He,"$comments",function(){var te=this,Ee=W;return je(Ee=te.method.$$comments)?Ee:[]}),Re(He,"$bind",function(te){var Ee=this;if(Ee.owner.$$is_module||$.is_a(te,Ee.owner))return Be("Method").$new(te,Ee.owner,Ee.method,Ee.name);ze.$raise(Be("TypeError"),"can't bind singleton method to a different class (expected "+te+".kind_of?("+Ee.owner+" to be true)")}),Re(He,"$bind_call",function Ne(te,Ee){var Je=Ne.$$p||W,Le,xe,$e=this;return Ne.$$p=null,Le=_e(arguments,1),xe=Le,Te($e.$bind(te),"call",ye(xe),Je.$to_proc())},-2),Re(He,"$inspect",function(){var te=this;return"#<"+te.$class()+": "+te.source+"#"+te.name+" (defined in "+te.owner+" in "+te.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function($){var Q=$.gvars,Re=$.const_set,je=$.Object,_e=$.hash2,Xe=$.nil;return $.add_stubs("new"),Q["&"]=Q["~"]=Q["`"]=Q["'"]=Xe,Q.LOADED_FEATURES=Q['"']=$.loaded_features,Q.LOAD_PATH=Q[":"]=[],Q["/"]=`
`,Q[","]=Xe,Re("::","ARGV",[]),Re("::","ARGF",je.$new()),Re("::","ENV",_e([],{})),Q.VERBOSE=!1,Q.DEBUG=!1,Q.SAFE=0};Opal.modules["corelib/io"]=function($){var Q=$.klass,Re=$.const_set,je=$.not,_e=$.truthy,Xe=$.def,ze=$.return_ivar,Te=$.return_val,ye=$.slice,W=$.Kernel,Be=$.gvars,Pe=$.send,qe=$.to_a,He=$.rb_plus,Ge=$.neqeq,Ne=$.range,te=$.hash2,Ee=$.eqeq,Je=$.to_ary,Le=$.rb_gt,xe=$.assign_ivar_val,$e=$.alias,pe,ae=$.nil,Ie=$.$$$;$.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(me,Z){var p=Q(me,Z,"IO"),oe=p.$$prototype;return oe.read_buffer=oe.closed=ae,Re(p,"SEEK_SET",0),Re(p,"SEEK_CUR",1),Re(p,"SEEK_END",2),Re(p,"SEEK_DATA",3),Re(p,"SEEK_HOLE",4),Re(p,"READABLE",1),Re(p,"WRITABLE",4),p.$attr_reader("eof"),p.$attr_accessor("read_proc","sync","tty","write_proc"),Xe(p,"$initialize",function(V,N){var Ae=this;return N==null&&(N="r"),Ae.fd=V,Ae.flags=N,Ae.eof=!1,_e(N["$include?"]("r"))&&je(N["$match?"](/[wa+]/))?Ae.closed="write":_e(N["$match?"](/[wa]/))&&je(N["$match?"](/[r+]/))?Ae.closed="read":ae},-2),Xe(p,"$fileno",ze("fd")),Xe(p,"$tty?",function(){var V=this;return V.tty==!0}),Xe(p,"$write",function(V){var N=this;return N.write_proc(V),V.$size()}),Xe(p,"$flush",Te(ae)),Xe(p,"$<<",function(V){var N=this;return N.$write(V),N}),Xe(p,"$print",function(V){var N,Ae,re=this;Be[","]==null&&(Be[","]=ae),N=ye(arguments),Ae=N;for(var L=0,d=Ae.length;L<d;L++)Ae[L]=W.$String(Ae[L]);return re.$write(Ae.join(Be[","])),ae},-1),Xe(p,"$puts",function(V){var N,Ae,re=this;N=ye(arguments),Ae=N;var L;if(Ae.length===0)return re.$write(`
`),ae;for(var d=0,i=Ae.length;d<i;d++)if(Ae[d].$$is_array){var r=Ae[d].$flatten();r.length>0&&Pe(re,"puts",qe(r))}else Ae[d].$$is_string?L=Ae[d].valueOf():L=W.$String(Ae[d]),L.endsWith(`
`)||(L+=`
`),re.$write(L);return ae},-1),Xe(p,"$getc",function(){var V=this,N=ae,Ae=ae,re=ae;V.read_buffer=_e(N=V.read_buffer)?N:"",Ae="";do if(V.read_buffer=He(V.read_buffer,Ae),Ge(V.read_buffer,""))return re=V.read_buffer["$[]"](0),V.read_buffer=V.read_buffer["$[]"](Ne(1,-1,!1)),re;while(_e(Ae=V.$sysread_noraise(1)));return ae}),Xe(p,"$getbyte",function(){var V,N=this;return V=N.$getc(),V===ae||V==null?ae:V.$ord()}),Xe(p,"$readbyte",function(){var V=this;return V.$readchar().$ord()}),Xe(p,"$readchar",function(){var V=this,N=ae;return _e(N=V.$getc())?N:W.$raise(Ie("EOFError"),"end of file reached")}),Xe(p,"$readline",function(V){var N,Ae,re=this,L=ae;return N=ye(arguments),Ae=N,_e(L=Pe(re,"gets",qe(Ae)))?L:W.$raise(Ie("EOFError"),"end of file reached")},-1),Xe(p,"$gets",function(V,N,Ae){var re,L,d=this,i=ae,r=ae,n=ae,s=ae,o=ae,g=ae;Be["/"]==null&&(Be["/"]=ae),V==null&&(V=!1),N==null&&(N=ae),Ae==null&&(Ae=te([],{})),_e(V.$$is_number)&&je(N)&&(re=[!1,V,N],V=re[0],N=re[1],Ae=re[2]),_e(V.$$is_hash)&&je(N)&&Ee(Ae,te([],{}))?(re=[!1,ae,V],V=re[0],N=re[1],Ae=re[2]):_e(N.$$is_hash)&&Ee(Ae,te([],{}))&&(re=[V,ae,N],V=re[0],N=re[1],Ae=re[2]),i=V,Ee(V,!1)&&(V=Be["/"]),Ee(V,"")&&(V=/\r?\n\r?\n/),V=_e(r=V)?r:"",Ee(i,"")||(V=V.$to_str()),n=Ee(i,"")?2:V.$length(),Ee(V," ")&&(V=/ /),d.read_buffer=_e(r=d.read_buffer)?r:"",s="",o=ae;do if(d.read_buffer=He(d.read_buffer,s),Ge(V,"")&&_e(_e(V.$$is_regexp)?d.read_buffer["$match?"](V):d.read_buffer["$include?"](V))){g=d.read_buffer,L=d.read_buffer.$split(V,2),re=Je(L),o=re[0]==null?ae:re[0],d.read_buffer=re[1]==null?ae:re[1],Ge(o,g)&&(o=He(o,g["$[]"](o.$length(),n)));break}while(_e(s=d.$sysread_noraise(Ee(V,"")?65536:1)));return _e(o)||(re=[_e(r=d.read_buffer)?r:"",""],o=re[0],d.read_buffer=re[1],Ee(o,"")&&(o=ae)),_e(o)&&(_e(N)&&(o=o["$[]"]($.Range.$new(0,N,!0)),d.read_buffer=He(o["$[]"]($.Range.$new(N,-1,!1)),d.read_buffer)),_e(Ae["$[]"]("chomp"))&&(o=o.$sub(/\r?\n$/,"")),Ee(i,"")&&(o=o.$sub(/^[\r\n]+/,""))),Ee(i,!1)&&(Be._=o),o},-1),Xe(p,"$sysread",function(V){var N=this,Ae=ae;return _e(Ae=N.read_proc(V))?Ae:(N.eof=!0,W.$raise(Ie("EOFError"),"end of file reached"))}),Xe(p,"$sysread_noraise",function(V){var N=this;try{return N.$sysread(V)}catch(Ae){if($.rescue(Ae,[Ie("EOFError")]))try{return ae}finally{$.pop_exception()}else throw Ae}}),Xe(p,"$readpartial",function(V){var N,Ae=this,re=ae,L=ae,d=ae;return Ae.read_buffer=_e(re=Ae.read_buffer)?re:"",L=Ae.$sysread(V),N=[He(Ae.read_buffer,_e(re=L)?re:""),""],d=N[0],Ae.read_buffer=N[1],Ee(d,"")&&(d=ae),d}),Xe(p,"$read",function(V){var N,Ae=this,re=ae,L=ae,d=ae;V==null&&(V=ae),Ae.read_buffer=_e(re=Ae.read_buffer)?re:"",L="",d=ae;do if(Ae.read_buffer=He(Ae.read_buffer,L),_e(V)&&_e(Le(Ae.read_buffer.$length(),V)))return N=[Ae.read_buffer["$[]"]($.Range.$new(0,V,!0)),Ae.read_buffer["$[]"]($.Range.$new(V,-1,!1))],d=N[0],Ae.read_buffer=N[1],d;while(_e(L=Ae.$sysread_noraise(_e(re=V)?re:65536)));return N=[Ae.read_buffer,""],d=N[0],Ae.read_buffer=N[1],d},-1),Xe(p,"$readlines",function(V){var N=this;return Be["/"]==null&&(Be["/"]=ae),V==null&&(V=Be["/"]),N.$each_line(V).$to_a()},-1),Xe(p,"$each",function I(V,N){var Ae=I.$$p||ae,re,L,d,i=this,r=ae;if(Be["/"]==null&&(Be["/"]=ae),I.$$p=null,re=ye(arguments),re.length>0&&(L=re.shift()),L==null&&(L=Be["/"]),d=re,Ae===ae)return Pe(i,"enum_for",["each",L].concat(qe(d)));for(;_e(r=Pe(i,"gets",[L].concat(qe(d))));)$.yield1(Ae,r);return i},-1),Xe(p,"$each_byte",function I(){var V=I.$$p||ae,N=this,Ae=ae;if(I.$$p=null,V===ae)return N.$enum_for("each_byte");for(;_e(Ae=N.$getbyte());)$.yield1(V,Ae);return N}),Xe(p,"$each_char",function I(){var V=I.$$p||ae,N=this,Ae=ae;if(I.$$p=null,V===ae)return N.$enum_for("each_char");for(;_e(Ae=N.$getc());)$.yield1(V,Ae);return N}),Xe(p,"$close",xe("closed","both")),Xe(p,"$close_read",function(){var V=this;return Ee(V.closed,"write")?V.closed="both":V.closed="read"}),Xe(p,"$close_write",function(){var V=this;return Ee(V.closed,"read")?V.closed="both":V.closed="write"}),Xe(p,"$closed?",function(){var V=this;return V.closed["$=="]("both")}),Xe(p,"$closed_read?",function(){var V=this,N=ae;return _e(N=V.closed["$=="]("read"))?N:V.closed["$=="]("both")}),Xe(p,"$closed_write?",function(){var V=this,N=ae;return _e(N=V.closed["$=="]("write"))?N:V.closed["$=="]("both")}),Xe(p,"$check_writable",function(){var V=this;return _e(V["$closed_write?"]())?W.$raise(Ie("IOError"),"not opened for writing"):ae}),Xe(p,"$check_readable",function(){var V=this;return _e(V["$closed_read?"]())?W.$raise(Ie("IOError"),"not opened for reading"):ae}),$e(p,"each_line","each"),$e(p,"eof?","eof")}("::",null),Re("::","STDIN",Be.stdin=Ie("IO").$new(0,"r")),Re("::","STDOUT",Be.stdout=Ie("IO").$new(1,"w")),Re("::","STDERR",Be.stderr=Ie("IO").$new(2,"w"));var ne=$.global.console;return Ie("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(me){process.stdout.write(me)}:function(me){ne.log(me)}),Ie("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(me){process.stderr.write(me)}:function(me){ne.warn(me)}),pe=[function(me){var Z=prompt();return Z!==null?Z+`
`:ae}],Pe(Ie("STDIN"),"read_proc=",pe),pe[pe.length-1]};Opal.modules["opal/regexp_anchors"]=function($){var Q=$.module,Re=$.const_set,je=[];$.nil;var _e=$.$$$;return $.add_stubs("new"),function(Xe,ze){var Te=Q(Xe,"Opal"),ye=[Te].concat(ze),W=$.$r(ye);return Re(Te,"REGEXP_START","^"),Re(Te,"REGEXP_END","$"),Re(Te,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Re(Te,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Re(Te,"INLINE_IDENTIFIER_REGEXP",W("Regexp").$new("[^"+_e(Te,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+_e(Te,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),Re(Te,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Re(Te,"CONST_NAME_REGEXP",W("Regexp").$new(""+_e(Te,"REGEXP_START")+"(::)?[A-Z][^"+_e(Te,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+_e(Te,"REGEXP_END")))}(je[0],je)};Opal.modules["opal/mini"]=function($){var Q=$.Object;return $.nil,$.add_stubs("require"),Q.$require("opal/base"),Q.$require("corelib/nil"),Q.$require("corelib/boolean"),Q.$require("corelib/string"),Q.$require("corelib/comparable"),Q.$require("corelib/enumerable"),Q.$require("corelib/enumerator"),Q.$require("corelib/array"),Q.$require("corelib/hash"),Q.$require("corelib/number"),Q.$require("corelib/range"),Q.$require("corelib/proc"),Q.$require("corelib/method"),Q.$require("corelib/regexp"),Q.$require("corelib/variables"),Q.$require("corelib/io"),Q.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function($){var Q=$.coerce_to,Re=$.module,je=$.slice,_e=$.truthy,Xe=$.eqeq,ze=$.Opal,Te=$.Kernel,ye=$.gvars,W=$.def,Be=$.alias,Pe=$.nil,qe=$.$$$;return $.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(He){var Ge=Re(He,"Kernel");return W(Ge,"$format",function(te,Ee){var Je,Le,xe=Pe;ye.DEBUG==null&&(ye.DEBUG=Pe),Je=je(arguments,1),Le=Je,Xe(Le.$length(),1)&&_e(Le["$[]"](0)["$respond_to?"]("to_ary"))&&(xe=ze["$coerce_to?"](Le["$[]"](0),qe("Array"),"to_ary"),_e(xe["$nil?"]())||(Le=xe.$to_a()));var $e="",pe=0,ae,Ie,ne=te.length,me,Z,p,oe,I,V,N,Ae,re,L,d,i,r,n=1,s=0,o,g=0,y=1,P=2,be=4,tt=8,ot=16,lt=32,vt=64,_t=128;function bt(){o&lt&&Te.$raise(qe("ArgumentError"),"flag after width"),o&_t&&Te.$raise(qe("ArgumentError"),"flag after precision")}function pt(){o&lt&&Te.$raise(qe("ArgumentError"),"width given twice"),o&_t&&Te.$raise(qe("ArgumentError"),"width after precision")}function gt(f){return f>=Le.length&&Te.$raise(qe("ArgumentError"),"too few arguments"),Le[f]}function mt(){switch(s){case-1:Te.$raise(qe("ArgumentError"),"unnumbered("+n+") mixed with numbered");case-2:Te.$raise(qe("ArgumentError"),"unnumbered("+n+") mixed with named")}return s=n++,gt(s-1)}function Qe(f){return s>0&&Te.$raise(qe("ArgumentError"),"numbered("+f+") after unnumbered("+s+")"),s===-2&&Te.$raise(qe("ArgumentError"),"numbered("+f+") after named"),f<1&&Te.$raise(qe("ArgumentError"),"invalid index - "+f+"$"),s=-1,gt(f-1)}function le(){return r===void 0?mt():r}function ge(f){for(var w,J="";;Ie++){if(Ie===ne&&Te.$raise(qe("ArgumentError"),"malformed format string - %*[0-9]"),te.charCodeAt(Ie)<48||te.charCodeAt(Ie)>57)return Ie--,w=parseInt(J,10)||0,w>2147483647&&Te.$raise(qe("ArgumentError"),""+f+" too big"),w;J+=te.charAt(Ie)}}function De(f){var w,J=ge(f);return te.charAt(Ie+1)==="$"?(Ie++,w=Qe(J)):w=mt(),w.$to_int()}for(Ie=te.indexOf("%");Ie!==-1;Ie=te.indexOf("%",Ie)){switch(Z=void 0,o=g,oe=-1,I=-1,r=void 0,ae=Ie,Ie++,te.charAt(Ie)){case"%":pe=Ie;case"":case`
`:case"\0":Ie++;continue}e:for(;Ie<ne;Ie++)switch(te.charAt(Ie)){case" ":bt(),o|=ot;continue e;case"#":bt(),o|=y;continue e;case"+":bt(),o|=be;continue e;case"-":bt(),o|=P;continue e;case"0":bt(),o|=tt;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(V=ge("width"),te.charAt(Ie+1)==="$"){if(Ie+2===ne){Z="%",Ie++;break e}r!==void 0&&Te.$raise(qe("ArgumentError"),"value given twice - %"+V+"$"),r=Qe(V),Ie++}else pt(),o|=lt,oe=V;continue e;case"<":case"{":for(Ae=te.charAt(Ie)==="<"?">":"}",N="",Ie++;;Ie++){if(Ie===ne&&Te.$raise(qe("ArgumentError"),"malformed name - unmatched parenthesis"),te.charAt(Ie)===Ae){if(s>0&&Te.$raise(qe("ArgumentError"),"named "+N+" after unnumbered("+s+")"),s===-1&&Te.$raise(qe("ArgumentError"),"named "+N+" after numbered"),s=-2,(Le[0]===void 0||!Le[0].$$is_hash)&&Te.$raise(qe("ArgumentError"),"one hash required"),r=Le[0].$fetch(N),Ae===">")continue e;if(Z=r.toString(),I!==-1&&(Z=Z.slice(0,I)),o&P)for(;Z.length<oe;)Z=Z+" ";else for(;Z.length<oe;)Z=" "+Z;break e}N+=te.charAt(Ie)}case"*":Ie++,pt(),o|=lt,oe=De("width"),oe<0&&(o|=P,oe=-oe);continue e;case".":if(o&_t&&Te.$raise(qe("ArgumentError"),"precision given twice"),o|=vt|_t,I=0,Ie++,te.charAt(Ie)==="*"){Ie++,I=De("precision"),I<0&&(o&=~vt);continue e}I=ge("precision");continue e;case"d":case"i":case"u":if(me=Te.$Integer(le()),me>=0){for(Z=me.toString();Z.length<I;)Z="0"+Z;if(o&P)for((o&be||o&ot)&&(Z=(o&be?"+":" ")+Z);Z.length<oe;)Z=Z+" ";else if(o&tt&&I===-1){for(;Z.length<oe-(o&be||o&ot?1:0);)Z="0"+Z;(o&be||o&ot)&&(Z=(o&be?"+":" ")+Z)}else for((o&be||o&ot)&&(Z=(o&be?"+":" ")+Z);Z.length<oe;)Z=" "+Z}else{for(Z=(-me).toString();Z.length<I;)Z="0"+Z;if(o&P)for(Z="-"+Z;Z.length<oe;)Z=Z+" ";else if(o&tt&&I===-1){for(;Z.length<oe-1;)Z="0"+Z;Z="-"+Z}else for(Z="-"+Z;Z.length<oe;)Z=" "+Z}break e;case"b":case"B":case"o":case"x":case"X":switch(te.charAt(Ie)){case"b":case"B":re=2,L="0b",d=/^1+/,i="1";break;case"o":re=8,L="0",d=/^3?7+/,i="7";break;case"x":case"X":re=16,L="0x",d=/^f+/,i="f";break}if(me=Te.$Integer(le()),me>=0){for(Z=me.toString(re);Z.length<I;)Z="0"+Z;if(o&P)for((o&be||o&ot)&&(Z=(o&be?"+":" ")+Z),o&y&&me!==0&&(Z=L+Z);Z.length<oe;)Z=Z+" ";else if(o&tt&&I===-1){for(;Z.length<oe-(o&be||o&ot?1:0)-(o&y&&me!==0?L.length:0);)Z="0"+Z;o&y&&me!==0&&(Z=L+Z),(o&be||o&ot)&&(Z=(o&be?"+":" ")+Z)}else for(o&y&&me!==0&&(Z=L+Z),(o&be||o&ot)&&(Z=(o&be?"+":" ")+Z);Z.length<oe;)Z=" "+Z}else if(o&be||o&ot){for(Z=(-me).toString(re);Z.length<I;)Z="0"+Z;if(o&P)for(o&y&&(Z=L+Z),Z="-"+Z;Z.length<oe;)Z=Z+" ";else if(o&tt&&I===-1){for(;Z.length<oe-1-(o&y?2:0);)Z="0"+Z;o&y&&(Z=L+Z),Z="-"+Z}else for(o&y&&(Z=L+Z),Z="-"+Z;Z.length<oe;)Z=" "+Z}else{for(Z=(me>>>0).toString(re).replace(d,i);Z.length<I-2;)Z=i+Z;if(o&P)for(Z=".."+Z,o&y&&(Z=L+Z);Z.length<oe;)Z=Z+" ";else if(o&tt&&I===-1){for(;Z.length<oe-2-(o&y?L.length:0);)Z=i+Z;Z=".."+Z,o&y&&(Z=L+Z)}else for(Z=".."+Z,o&y&&(Z=L+Z);Z.length<oe;)Z=" "+Z}te.charAt(Ie)===te.charAt(Ie).toUpperCase()&&(Z=Z.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(me=Te.$Float(le()),me>=0||isNaN(me)){if(me===1/0)Z="Inf";else switch(te.charAt(Ie)){case"f":Z=me.toFixed(I===-1?6:I);break;case"e":case"E":Z=me.toExponential(I===-1?6:I);break;case"g":case"G":Z=me.toExponential(),p=parseInt(Z.split("e")[1],10),p<-4||p>=(I===-1?6:I)||(Z=me.toPrecision(I===-1?o&y?6:void 0:I));break}if(o&P)for((o&be||o&ot)&&(Z=(o&be?"+":" ")+Z);Z.length<oe;)Z=Z+" ";else if(o&tt&&me!==1/0&&!isNaN(me)){for(;Z.length<oe-(o&be||o&ot?1:0);)Z="0"+Z;(o&be||o&ot)&&(Z=(o&be?"+":" ")+Z)}else for((o&be||o&ot)&&(Z=(o&be?"+":" ")+Z);Z.length<oe;)Z=" "+Z}else{if(me===-1/0)Z="Inf";else switch(te.charAt(Ie)){case"f":Z=(-me).toFixed(I===-1?6:I);break;case"e":case"E":Z=(-me).toExponential(I===-1?6:I);break;case"g":case"G":Z=(-me).toExponential(),p=parseInt(Z.split("e")[1],10),p<-4||p>=(I===-1?6:I)||(Z=(-me).toPrecision(I===-1?o&y?6:void 0:I));break}if(o&P)for(Z="-"+Z;Z.length<oe;)Z=Z+" ";else if(o&tt&&me!==-1/0){for(;Z.length<oe-1;)Z="0"+Z;Z="-"+Z}else for(Z="-"+Z;Z.length<oe;)Z=" "+Z}te.charAt(Ie)===te.charAt(Ie).toUpperCase()&&me!==1/0&&me!==-1/0&&!isNaN(me)&&(Z=Z.toUpperCase()),Z=Z.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":Te.$raise(qe("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(me=le(),me["$respond_to?"]("to_ary")&&(me=me.$to_ary()[0]),me["$respond_to?"]("to_str")?Z=me.$to_str():Z=String.fromCharCode(Q(me,qe("Integer"),"to_int")),Z.length!==1&&Te.$raise(qe("ArgumentError"),"%c requires a character"),o&P)for(;Z.length<oe;)Z=Z+" ";else for(;Z.length<oe;)Z=" "+Z;break e;case"p":if(Z=le().$inspect(),I!==-1&&(Z=Z.slice(0,I)),o&P)for(;Z.length<oe;)Z=Z+" ";else for(;Z.length<oe;)Z=" "+Z;break e;case"s":if(Z=le().$to_s(),I!==-1&&(Z=Z.slice(0,I)),o&P)for(;Z.length<oe;)Z=Z+" ";else for(;Z.length<oe;)Z=" "+Z;break e;default:Te.$raise(qe("ArgumentError"),"malformed format string - %"+te.charAt(Ie))}Z===void 0&&Te.$raise(qe("ArgumentError"),"malformed format string - %"),$e+=te.slice(pe,ae)+Z,pe=Ie+1}return ye.DEBUG&&s>=0&&n<Le.length&&Te.$raise(qe("ArgumentError"),"too many arguments for format string"),$e+te.slice(pe)},-2),Be(Ge,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function($){var Q=$.klass,Re=$.hash2,je=$.rb_plus,_e=$.truthy,Xe=$.send,ze=$.defs,Te=$.eqeq,ye=$.def,W=$.return_ivar,Be=$.return_val,Pe=$.slice,qe=$.Kernel,He=$.Opal,Ge=$.rb_lt,Ne,te=$.top,Ee=[],Je=$.$r(Ee),Le=$.nil,xe=$.$$$;return $.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),te.$require("corelib/string"),function($e,pe){var ae=Q($e,pe,"Encoding"),Ie=ae.$$prototype;return Ie.name=Ie.dummy=Le,ze(ae,"$register",function ne(me,Z){var p=ne.$$p||Le,oe=this,I=Le,V=Le,N=Le,Ae=Le,re=Le,L=Le;return ne.$$p=null,Z==null&&(Z=Re([],{})),I=je([me],_e(V=Z["$[]"]("aliases"))?V:[]),N=_e(V=Z["$[]"]("ascii"))&&V,Ae=_e(V=Z["$[]"]("dummy"))&&V,_e(Z["$[]"]("inherits"))?(re=Z["$[]"]("inherits").$clone(),re.$initialize(me,I,N,Ae)):re=oe.$new(me,I,N,Ae),p!==Le&&Xe(re,"instance_eval",[],p.$to_proc()),L=$.encodings,Xe(I,"each",[],function d(i){var r=d.$$s==null?this:d.$$s;return i==null&&(i=Le),r.$const_set(i.$tr("-","_"),re),L[i]=re},{$$s:oe})},-2),ze(ae,"$find",function(me){var Z=this;return Te(me,"default_external")?Z.$default_external():$.find_encoding(me)}),ae.$singleton_class().$attr_accessor("default_external"),ae.$attr_reader("name","names"),ye(ae,"$initialize",function(me,Z,p,oe){var I=this;return I.name=me,I.names=Z,I.ascii=p,I.dummy=oe}),ye(ae,"$ascii_compatible?",W("ascii")),ye(ae,"$dummy?",W("dummy")),ye(ae,"$binary?",Be(!1)),ye(ae,"$to_s",W("name")),ye(ae,"$inspect",function(){var me=this;return"#<Encoding:"+me.name+(_e(me.dummy)?" (dummy)":Le)+">"}),ye(ae,"$charsize",function(me){for(var Z=0,p=0,oe=me.length;p<oe;p++){var I=me.charCodeAt(p);I>=55296&&I<=56319||Z++}return Z}),ye(ae,"$each_char",function ne(me){var Z=ne.$$p||Le;ne.$$p=null;for(var p="",oe=0,I=me.length;oe<I;oe++){var V=me.charCodeAt(oe),N=me.charAt(oe);if(V>=56320&&V<=57343){p=N;continue}else V>=55296&&V<=56319&&(N=p+N);me.encoding.name!="UTF-8"&&(N=new String(N),N.encoding=me.encoding),$.yield1(Z,N)}}),ye(ae,"$each_byte",function(me){return Pe(arguments),qe.$raise(xe("NotImplementedError"))},-1),ye(ae,"$bytesize",function(me){return Pe(arguments),qe.$raise(xe("NotImplementedError"))},-1),Q("::",xe("StandardError"),"EncodingError"),Q("::",xe("EncodingError"),"CompatibilityError"),Le}("::",null),Xe(xe("Encoding"),"register",["UTF-8",Re(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=1/0,Z,p=Ie.length,oe=null,I=0;I<p;++I){if(Z=Ie.charCodeAt(I),Z>55295&&Z<57344){if(!oe){if(Z>56319){(me-=3)>-1&&($.yield1(ne,239),$.yield1(ne,191),$.yield1(ne,189));continue}else if(I+1===p){(me-=3)>-1&&($.yield1(ne,239),$.yield1(ne,191),$.yield1(ne,189));continue}oe=Z;continue}if(Z<56320){(me-=3)>-1&&($.yield1(ne,239),$.yield1(ne,191),$.yield1(ne,189)),oe=Z;continue}Z=(oe-55296<<10|Z-56320)+65536}else oe&&(me-=3)>-1&&($.yield1(ne,239),$.yield1(ne,191),$.yield1(ne,189));if(oe=null,Z<128){if((me-=1)<0)break;$.yield1(ne,Z)}else if(Z<2048){if((me-=2)<0)break;$.yield1(ne,Z>>6|192),$.yield1(ne,Z&63|128)}else if(Z<65536){if((me-=3)<0)break;$.yield1(ne,Z>>12|224),$.yield1(ne,Z>>6&63|128),$.yield1(ne,Z&63|128)}else if(Z<1114112){if((me-=4)<0)break;$.yield1(ne,Z>>18|240),$.yield1(ne,Z>>12&63|128),$.yield1(ne,Z>>6&63|128),$.yield1(ne,Z&63|128)}}}),ye(pe,"$bytesize",function(Ie){return Ie.$bytes().$length()})},{$$s:te}),Xe(xe("Encoding"),"register",["UTF-16LE"],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Z=Ie.length;me<Z;me++){var p=Ie.charCodeAt(me);$.yield1(ne,p&255),$.yield1(ne,p>>8)}}),ye(pe,"$bytesize",function(Ie){return Ie.length*2})},{$$s:te}),Xe(xe("Encoding"),"register",["UTF-16BE",Re(["inherits"],{inherits:xe(xe("Encoding"),"UTF_16LE")})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Z=Ie.length;me<Z;me++){var p=Ie.charCodeAt(me);$.yield1(ne,p>>8),$.yield1(ne,p&255)}})},{$$s:te}),Xe(xe("Encoding"),"register",["UTF-32LE"],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Z=Ie.length;me<Z;me++){var p=Ie.charCodeAt(me);$.yield1(ne,p&255),$.yield1(ne,p>>8),$.yield1(ne,0),$.yield1(ne,0)}}),ye(pe,"$bytesize",function(Ie){return Ie.length*4})},{$$s:te}),Xe(xe("Encoding"),"register",["UTF-32BE",Re(["inherits"],{inherits:xe(xe("Encoding"),"UTF_32LE")})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_byte",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Z=Ie.length;me<Z;me++){var p=Ie.charCodeAt(me);$.yield1(ne,0),$.yield1(ne,0),$.yield1(ne,p>>8),$.yield1(ne,p&255)}})},{$$s:te}),Xe(xe("Encoding"),"register",["ASCII-8BIT",Re(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function $e(){var pe=$e.$$s==null?this:$e.$$s;return ye(pe,"$each_char",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Z=Ie.length;me<Z;me++){var p=new String(Ie.charAt(me));p.encoding=Ie.encoding,$.yield1(ne,p)}}),ye(pe,"$charsize",function(Ie){return Ie.length}),ye(pe,"$each_byte",function ae(Ie){var ne=ae.$$p||Le;ae.$$p=null;for(var me=0,Z=Ie.length;me<Z;me++){var p=Ie.charCodeAt(me);$.yield1(ne,p&255)}}),ye(pe,"$bytesize",function(Ie){return Ie.length}),ye(pe,"$binary?",Be(!0))},{$$s:te}),xe("Encoding").$register("ISO-8859-1",Re(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:xe(xe("Encoding"),"ASCII_8BIT")})),xe("Encoding").$register("US-ASCII",Re(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:xe(xe("Encoding"),"ASCII_8BIT")})),function($e,pe){var ae=Q($e,pe,"String"),Ie=ae.$$prototype;return Ie.internal_encoding=Ie.bytes=Ie.encoding=Le,ae.$attr_reader("encoding"),ae.$attr_reader("internal_encoding"),$.prop(String.prototype,"bytes",Le),$.prop(String.prototype,"encoding",xe(xe("Encoding"),"UTF_8")),$.prop(String.prototype,"internal_encoding",xe(xe("Encoding"),"UTF_8")),ye(ae,"$b",function(){var me=this;return me.$dup().$force_encoding("binary")}),ye(ae,"$bytesize",function(){var me=this;return me.internal_encoding.$bytesize(me)}),ye(ae,"$each_byte",function ne(){var me=ne.$$p||Le,Z=this;return ne.$$p=null,me===Le?Xe(Z,"enum_for",["each_byte"],function p(){var oe=p.$$s==null?this:p.$$s;return oe.$bytesize()},{$$s:Z}):(Xe(Z.internal_encoding,"each_byte",[Z],me.$to_proc()),Z)}),ye(ae,"$bytes",function(){var me=this,Z=Le;return typeof me=="string"?new String(me).$each_byte().$to_a():(me.bytes=_e(Z=me.bytes)?Z:me.$each_byte().$to_a(),me.bytes.$dup())}),ye(ae,"$each_char",function ne(){var me=ne.$$p||Le,Z=this;return ne.$$p=null,me===Le?Xe(Z,"enum_for",["each_char"],function p(){var oe=p.$$s==null?this:p.$$s;return oe.$length()},{$$s:Z}):(Xe(Z.encoding,"each_char",[Z],me.$to_proc()),Z)}),ye(ae,"$chars",function ne(){var me=ne.$$p||Le,Z=this;return ne.$$p=null,_e(me)?Xe(Z,"each_char",[],me.$to_proc()):Z.$each_char().$to_a()}),ye(ae,"$each_codepoint",function ne(){var me=ne.$$p||Le,Z=this;if(ne.$$p=null,me===Le)return Z.$enum_for("each_codepoint");for(var p=0,oe=Z.length;p<oe;p++)$.yield1(me,Z.codePointAt(p));return Z}),ye(ae,"$codepoints",function ne(){var me=ne.$$p||Le,Z=this;return ne.$$p=null,me!==Le?Xe(Z,"each_codepoint",[],me.$to_proc()):Z.$each_codepoint().$to_a()}),ye(ae,"$encode",function(me){var Z=this;return $.enc(Z,me)}),ye(ae,"$force_encoding",function(me){var Z=this,p=Z;return me===p.encoding||(me=He["$coerce_to!"](me,xe("String"),"to_s"),me=xe("Encoding").$find(me),me===p.encoding)||(p=$.set_encoding(p,me)),p}),ye(ae,"$getbyte",function(me){var Z=this,p=Le;return p=Z.$bytes(),me=He["$coerce_to!"](me,xe("Integer"),"to_int"),_e(Ge(p.$length(),me))?Le:p["$[]"](me)}),ye(ae,"$initialize_copy",function(me){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),ye(ae,"$valid_encoding?",Be(!0))}("::",null),Ne=[xe(Je("Encoding"),"UTF_8")],Xe(xe("Encoding"),"default_external=",Ne),Ne[Ne.length-1]};Opal.modules["corelib/math"]=function($){var Q=$.type_error,Re=$.module,je=$.const_set,_e=$.Class,Xe=$.slice,ze=$.Kernel,Te=$.defs,ye=$.truthy,W=$.send,Be=$.def,Pe=$.rb_minus,qe=$.eqeqeq,He=$.rb_divide,Ge=[],Ne=$.nil,te=$.$$$;return $.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(Ee,Je){var Le=Re(Ee,"Math"),xe=[Le].concat(Je),$e=$.$r(xe);return je(Le,"E",Math.E),je(Le,"PI",Math.PI),je(Le,"DomainError",_e.$new(te("StandardError"))),Te(Le,"$checked",function(ae,Ie){var ne,me;if(ne=Xe(arguments,1),me=ne,isNaN(me[0])||me.length==2&&isNaN(me[1]))return NaN;var Z=Math[ae].apply(null,me);return isNaN(Z)&&ze.$raise($e("DomainError"),'Numerical argument is out of domain - "'+ae+'"'),Z},-2),Te(Le,"$float!",function(ae){try{return ze.$Float(ae)}catch(Ie){if($.rescue(Ie,[te("ArgumentError")]))try{return ze.$raise(Q(ae,te("Float")))}finally{$.pop_exception()}else throw Ie}}),Te(Le,"$integer!",function(ae){try{return ze.$Integer(ae)}catch(Ie){if($.rescue(Ie,[te("ArgumentError")]))try{return ze.$raise(Q(ae,te("Integer")))}finally{$.pop_exception()}else throw Ie}}),Le.$module_function(),ye(typeof Math.erf<"u")||$.prop(Math,"erf",function(pe){var ae=.254829592,Ie=-.284496736,ne=1.421413741,me=-1.453152027,Z=1.061405429,p=.3275911,oe=1;pe<0&&(oe=-1),pe=Math.abs(pe);var I=1/(1+p*pe),V=1-((((Z*I+me)*I+ne)*I+Ie)*I+ae)*I*Math.exp(-pe*pe);return oe*V}),ye(typeof Math.erfc<"u")||$.prop(Math,"erfc",function(pe){var ae=Math.abs(pe),Ie=1/(.5*ae+1),ne=Ie*.17087277+-.82215223,me=Ie*ne+1.48851587,Z=Ie*me+-1.13520398,p=Ie*Z+.27886807,oe=Ie*p+-.18628806,I=Ie*oe+.09678418,V=Ie*I+.37409196,N=Ie*V+1.00002368,Ae=Ie*N,re=-ae*ae-1.26551223+Ae,L=Ie*Math.exp(re);return pe<0?2-L:L}),W(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function pe(ae){var Ie=pe.$$s==null?this:pe.$$s;return ae==null&&(ae=Ne),W(Ie,"define_method",[ae],function(me){return me==null&&(me=Ne),te("Math").$checked(ae,te("Math")["$float!"](me))})},{$$s:Le}),Be(Le,"$atan2",function(ae,Ie){return te("Math").$checked("atan2",te("Math")["$float!"](ae),te("Math")["$float!"](Ie))}),Be(Le,"$hypot",function(ae,Ie){return te("Math").$checked("hypot",te("Math")["$float!"](ae),te("Math")["$float!"](Ie))}),Be(Le,"$frexp",function(ae){if(ae=$e("Math")["$float!"](ae),isNaN(ae))return[NaN,0];var Ie=Math.floor(Math.log(Math.abs(ae))/Math.log(2))+1,ne=ae/Math.pow(2,Ie);return[ne,Ie]}),Be(Le,"$gamma",function(ae){ae=$e("Math")["$float!"](ae);var Ie,ne,me,Z,p,oe,I,V,N,Ae=4.7421875,re=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(ae))return NaN;if(ae===0&&1/ae<0)return-1/0;if((ae===-1||ae===-1/0)&&ze.$raise($e("DomainError"),'Numerical argument is out of domain - "gamma"'),$e("Integer")["$==="](ae)){if(ae<=0)return isFinite(ae)?1/0:NaN;if(ae>171)return 1/0;for(Z=ae-2,p=ae-1;Z>1;)p*=Z,Z--;return p==0&&(p=1),p}if(ae<.5)return Math.PI/(Math.sin(Math.PI*ae)*te("Math").$gamma(Pe(1,ae)));if(ae>=171.35)return 1/0;if(ae>85)return oe=ae*ae,I=oe*ae,V=I*ae,N=V*ae,Math.sqrt(2*Math.PI/ae)*Math.pow(ae/Math.E,ae)*(1+1/(12*ae)+1/(288*oe)-139/(51840*I)-571/(2488320*V)+163879/(209018880*N)+5246819/(75246796800*N*ae));for(ae-=1,me=re[0],Ie=1;Ie<re.length;++Ie)me+=re[Ie]/(ae+Ie);return ne=ae+Ae+.5,Math.sqrt(2*Math.PI)*Math.pow(ne,ae+.5)*Math.exp(-ne)*me}),Be(Le,"$ldexp",function(ae,Ie){return ae=$e("Math")["$float!"](ae),Ie=$e("Math")["$integer!"](Ie),isNaN(Ie)&&ze.$raise(te("RangeError"),"float NaN out of range of integer"),ae*Math.pow(2,Ie)}),Be(Le,"$lgamma",function(ae){return ae==-1?[1/0,1]:[Math.log(Math.abs(te("Math").$gamma(ae))),te("Math").$gamma(ae)<0?-1:1]}),Be(Le,"$log",function(ae,Ie){return qe(te("String"),ae)&&ze.$raise(Q(ae,te("Float"))),ye(Ie==null)?te("Math").$checked("log",te("Math")["$float!"](ae)):(qe(te("String"),Ie)&&ze.$raise(Q(Ie,te("Float"))),He(te("Math").$checked("log",te("Math")["$float!"](ae)),te("Math").$checked("log",te("Math")["$float!"](Ie))))},-2),Be(Le,"$log10",function(ae){return qe(te("String"),ae)&&ze.$raise(Q(ae,te("Float"))),te("Math").$checked("log10",te("Math")["$float!"](ae))}),Be(Le,"$log2",function(ae){return qe(te("String"),ae)&&ze.$raise(Q(ae,te("Float"))),te("Math").$checked("log2",te("Math")["$float!"](ae))}),Be(Le,"$tan",function(ae){return ae=te("Math")["$float!"](ae),ye(ae["$infinite?"]())?te(te("Float"),"NAN"):te("Math").$checked("tan",te("Math")["$float!"](ae))})}("::",Ge)};Opal.modules["corelib/complex/base"]=function($){var Q=$.module,Re=$.truthy,je=$.def,_e=$.klass,Xe=[],ze=$.nil;return $.add_stubs("new,from_string"),function(Te,ye){var W=Q(Te,"Kernel"),Be=[W].concat(ye),Pe=$.$r(Be);return je(W,"$Complex",function(He,Ge){return Ge==null&&(Ge=ze),Re(Ge)?Pe("Complex").$new(He,Ge):Pe("Complex").$new(He,0)},-2)}("::",Xe),function(Te,ye,W){var Be=_e(Te,ye,"String"),Pe=[Be].concat(W),qe=$.$r(Pe);return je(Be,"$to_c",function(){var Ge=this;return qe("Complex").$from_string(Ge)})}("::",null,Xe)};Opal.modules["corelib/complex"]=function($){var Q=$.klass,Re=$.truthy,je=$.eqeqeq,_e=$.Kernel,Xe=$.defs,ze=$.rb_times,Te=$.def,ye=$.rb_plus,W=$.rb_minus,Be=$.rb_divide,Pe=$.eqeq,qe=$.to_ary,He=$.rb_gt,Ge=$.neqeq,Ne=$.return_val,te=$.const_set,Ee=$.alias,Je=$.top,Le=[],xe=$.nil,$e=$.$$$;return $.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),Je.$require("corelib/numeric"),Je.$require("corelib/complex/base"),function(pe,ae,Ie){var ne=Q(pe,ae,"Complex"),me=[ne].concat(Ie),Z=$.$r(me),p=ne.$$prototype;return p.real=p.imag=xe,Xe(ne,"$rect",function(I,V){var N=this;return V==null&&(V=0),je($e("Numeric"),I)&&Re(I["$real?"]())&&je($e("Numeric"),V)&&Re(V["$real?"]())||_e.$raise($e("TypeError"),"not a real"),N.$new(I,V)},-2),Xe(ne,"$polar",function(I,V){var N=this;return V==null&&(V=0),je($e("Numeric"),I)&&Re(I["$real?"]())&&je($e("Numeric"),V)&&Re(V["$real?"]())||_e.$raise($e("TypeError"),"not a real"),N.$new(ze(I,$e("Math").$cos(V)),ze(I,$e("Math").$sin(V)))},-2),ne.$attr_reader("real","imag"),Te(ne,"$initialize",function(I,V){var N=this;return V==null&&(V=0),N.real=I,N.imag=V,N.$freeze()},-2),Te(ne,"$coerce",function(I){var V=this;return je($e("Complex"),I)?[I,V]:je($e("Numeric"),I)&&Re(I["$real?"]())?[$e("Complex").$new(I,0),V]:_e.$raise($e("TypeError"),""+I.$class()+" can't be coerced into Complex")}),Te(ne,"$==",function(I){var V=this,N=xe;return je($e("Complex"),I)?Re(N=V.real["$=="](I.$real()))?V.imag["$=="](I.$imag()):N:je($e("Numeric"),I)&&Re(I["$real?"]())?Re(N=V.real["$=="](I))?V.imag["$=="](0):N:I["$=="](V)}),Te(ne,"$-@",function(){var I=this;return _e.$Complex(I.real["$-@"](),I.imag["$-@"]())}),Te(ne,"$+",function(I){var V=this;return je($e("Complex"),I)?_e.$Complex(ye(V.real,I.$real()),ye(V.imag,I.$imag())):je($e("Numeric"),I)&&Re(I["$real?"]())?_e.$Complex(ye(V.real,I),V.imag):V.$__coerced__("+",I)}),Te(ne,"$-",function(I){var V=this;return je($e("Complex"),I)?_e.$Complex(W(V.real,I.$real()),W(V.imag,I.$imag())):je($e("Numeric"),I)&&Re(I["$real?"]())?_e.$Complex(W(V.real,I),V.imag):V.$__coerced__("-",I)}),Te(ne,"$*",function(I){var V=this;return je($e("Complex"),I)?_e.$Complex(W(ze(V.real,I.$real()),ze(V.imag,I.$imag())),ye(ze(V.real,I.$imag()),ze(V.imag,I.$real()))):je($e("Numeric"),I)&&Re(I["$real?"]())?_e.$Complex(ze(V.real,I),ze(V.imag,I)):V.$__coerced__("*",I)}),Te(ne,"$/",function(I){var V=this;return je($e("Complex"),I)?je($e("Number"),V.real)&&Re(V.real["$nan?"]())||je($e("Number"),V.imag)&&Re(V.imag["$nan?"]())||je($e("Number"),I.$real())&&Re(I.$real()["$nan?"]())||je($e("Number"),I.$imag())&&Re(I.$imag()["$nan?"]())?$e("Complex").$new($e($e("Float"),"NAN"),$e($e("Float"),"NAN")):Be(ze(V,I.$conj()),I.$abs2()):je($e("Numeric"),I)&&Re(I["$real?"]())?_e.$Complex(V.real.$quo(I),V.imag.$quo(I)):V.$__coerced__("/",I)}),Te(ne,"$**",function(I){var V,N,Ae=this,re=xe,L=xe,d=xe,i=xe,r=xe,n=xe,s=xe,o=xe,g=xe,y=xe,P=xe;if(Pe(I,0))return $e("Complex").$new(1,0);if(je($e("Complex"),I))return N=Ae.$polar(),V=qe(N),re=V[0]==null?xe:V[0],L=V[1]==null?xe:V[1],d=I.$real(),i=I.$imag(),r=$e("Math").$exp(W(ze(d,$e("Math").$log(re)),ze(i,L))),n=ye(ze(L,d),ze(i,$e("Math").$log(re))),$e("Complex").$polar(r,n);if(je($e("Integer"),I))if(Re(He(I,0))){for(s=Ae,o=s,g=W(I,1);Ge(g,0);){for(N=g.$divmod(2),V=qe(N),y=V[0]==null?xe:V[0],P=V[1]==null?xe:V[1];Pe(P,0);)s=_e.$Complex(W(ze(s.$real(),s.$real()),ze(s.$imag(),s.$imag())),ze(ze(2,s.$real()),s.$imag())),g=y,N=g.$divmod(2),V=qe(N),y=V[0]==null?xe:V[0],P=V[1]==null?xe:V[1];o=ze(o,s),g=W(g,1)}return o}else return Be($e("Rational").$new(1,1),Ae)["$**"](I["$-@"]());else return je($e("Float"),I)||je($e("Rational"),I)?(N=Ae.$polar(),V=qe(N),re=V[0]==null?xe:V[0],L=V[1]==null?xe:V[1],$e("Complex").$polar(re["$**"](I),ze(L,I))):Ae.$__coerced__("**",I)}),Te(ne,"$abs",function(){var I=this;return $e("Math").$hypot(I.real,I.imag)}),Te(ne,"$abs2",function(){var I=this;return ye(ze(I.real,I.real),ze(I.imag,I.imag))}),Te(ne,"$angle",function(){var I=this;return $e("Math").$atan2(I.imag,I.real)}),Te(ne,"$conj",function(){var I=this;return _e.$Complex(I.real,I.imag["$-@"]())}),Te(ne,"$denominator",function(){var I=this;return I.real.$denominator().$lcm(I.imag.$denominator())}),Te(ne,"$eql?",function(I){var V=this,N=xe,Ae=xe;return Re(N=Re(Ae=Z("Complex")["$==="](I))?V.real.$class()["$=="](V.imag.$class()):Ae)?V["$=="](I):N}),Te(ne,"$fdiv",function(I){var V=this;return je($e("Numeric"),I)||_e.$raise($e("TypeError"),""+I.$class()+" can't be coerced into Complex"),Be(V,I)}),Te(ne,"$finite?",function(){var I=this,V=xe;return Re(V=I.real["$finite?"]())?I.imag["$finite?"]():V}),Te(ne,"$hash",function(){var I=this;return"Complex:"+I.real+":"+I.imag}),Te(ne,"$infinite?",function(){var I=this,V=xe;return Re(V=I.real["$infinite?"]())?V:I.imag["$infinite?"]()}),Te(ne,"$inspect",function(){var I=this;return"("+I+")"}),Te(ne,"$numerator",function(){var I=this,V=xe;return V=I.$denominator(),_e.$Complex(ze(I.real.$numerator(),Be(V,I.real.$denominator())),ze(I.imag.$numerator(),Be(V,I.imag.$denominator())))}),Te(ne,"$polar",function(){var I=this;return[I.$abs(),I.$arg()]}),Te(ne,"$rationalize",function(I){var V=this;return arguments.length>1&&_e.$raise($e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Ge(V.imag,0)&&_e.$raise($e("RangeError"),"can't convert "+V+" into Rational"),V.$real().$rationalize(I)},-1),Te(ne,"$real?",Ne(!1)),Te(ne,"$rect",function(){var I=this;return[I.real,I.imag]}),Te(ne,"$to_f",function(){var I=this;return Pe(I.imag,0)||_e.$raise($e("RangeError"),"can't convert "+I+" into Float"),I.real.$to_f()}),Te(ne,"$to_i",function(){var I=this;return Pe(I.imag,0)||_e.$raise($e("RangeError"),"can't convert "+I+" into Integer"),I.real.$to_i()}),Te(ne,"$to_r",function(){var I=this;return Pe(I.imag,0)||_e.$raise($e("RangeError"),"can't convert "+I+" into Rational"),I.real.$to_r()}),Te(ne,"$to_s",function(){var I=this,V=xe;return V=I.real.$inspect(),V=ye(V,je($e("Number"),I.imag)&&Re(I.imag["$nan?"]())||Re(I.imag["$positive?"]())||Re(I.imag["$zero?"]())?"+":"-"),V=ye(V,I.imag.$abs().$inspect()),je($e("Number"),I.imag)&&(Re(I.imag["$nan?"]())||Re(I.imag["$infinite?"]()))&&(V=ye(V,"*")),ye(V,"i")}),te(me[0],"I",ne.$new(0,1)),Xe(ne,"$from_string",function(I){var V=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;I.match(V);var N,Ae;function re(){return V.test(I)}function L(){var i=I.match(V),r=i[0];return I=I.slice(r.length),r.replace(/_/g,"")}function d(){if(re()){var i=parseFloat(L());if(I[0]==="/")if(I=I.slice(1),re()){var r=parseFloat(L());return _e.$Rational(i,r)}else return I="/"+I,i;else return i}else return null}return N=d(),N?(Ae=d(),Ae?_e.$Complex(N,Ae):I[0]==="i"?_e.$Complex(0,N):_e.$Complex(N,0)):I[0]==="i"?_e.$Complex(0,1):I[0]==="-"&&I[1]==="i"?_e.$Complex(0,-1):I[0]==="+"&&I[1]==="i"?_e.$Complex(0,1):_e.$Complex(0,0)}),function(oe,I){return Ee(oe,"rectangular","rect")}($.get_singleton_class(ne)),Ee(ne,"arg","angle"),Ee(ne,"conjugate","conj"),Ee(ne,"divide","/"),Ee(ne,"imaginary","imag"),Ee(ne,"magnitude","abs"),Ee(ne,"phase","arg"),Ee(ne,"quo","/"),Ee(ne,"rectangular","rect"),$.udef(ne,"$negative?"),$.udef(ne,"$positive?"),$.udef(ne,"$step"),xe}("::",$e("Numeric"),Le)};Opal.modules["corelib/rational/base"]=function($){var Q=$.module,Re=$.def,je=$.klass;$.nil;var _e=$.$$$;return $.add_stubs("convert,from_string"),function(Xe){var ze=Q(Xe,"Kernel");return Re(ze,"$Rational",function(ye,W){return W==null&&(W=1),_e("Rational").$convert(ye,W)},-2)}("::"),function(Xe,ze){var Te=je(Xe,ze,"String");return Re(Te,"$to_r",function(){var W=this;return _e("Rational").$from_string(W)})}("::",null)};Opal.modules["corelib/rational"]=function($){var Q=$.klass,Re=$.eqeq,je=$.Kernel,_e=$.truthy,Xe=$.rb_lt,ze=$.rb_divide,Te=$.defs,ye=$.eqeqeq,W=$.not,Be=$.Opal,Pe=$.def,qe=$.return_ivar,He=$.rb_minus,Ge=$.rb_times,Ne=$.rb_plus,te=$.rb_gt,Ee=$.rb_le,Je=$.return_self,Le=$.alias,xe=$.top,$e=$.nil,pe=$.$$$;return $.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),xe.$require("corelib/numeric"),xe.$require("corelib/rational/base"),function(ae,Ie){var ne=Q(ae,Ie,"Rational"),me=ne.$$prototype;return me.num=me.den=$e,Te(ne,"$reduce",function(p,oe){var I=this,V=$e;if(p=p.$to_i(),oe=oe.$to_i(),Re(oe,0))je.$raise(pe("ZeroDivisionError"),"divided by 0");else if(_e(Xe(oe,0)))p=p["$-@"](),oe=oe["$-@"]();else if(Re(oe,1))return I.$new(p,oe);return V=p.$gcd(oe),I.$new(ze(p,V),ze(oe,V))}),Te(ne,"$convert",function(p,oe){var I=this;return(_e(p["$nil?"]())||_e(oe["$nil?"]()))&&je.$raise(pe("TypeError"),"cannot convert nil into Rational"),ye(pe("Integer"),p)&&ye(pe("Integer"),oe)?I.$reduce(p,oe):((ye(pe("Float"),p)||ye(pe("String"),p)||ye(pe("Complex"),p))&&(p=p.$to_r()),(ye(pe("Float"),oe)||ye(pe("String"),oe)||ye(pe("Complex"),oe))&&(oe=oe.$to_r()),_e(oe["$equal?"](1))&&W(pe("Integer")["$==="](p))?Be["$coerce_to!"](p,pe("Rational"),"to_r"):ye(pe("Numeric"),p)&&ye(pe("Numeric"),oe)?ze(p,oe):I.$reduce(p,oe))}),Pe(ne,"$initialize",function(p,oe){var I=this;return I.num=p,I.den=oe,I.$freeze()}),Pe(ne,"$numerator",qe("num")),Pe(ne,"$denominator",qe("den")),Pe(ne,"$coerce",function(p){var oe=this,I=$e;return ye(pe("Rational"),I=p)?[p,oe]:ye(pe("Integer"),I)?[p.$to_r(),oe]:ye(pe("Float"),I)?[p,oe.$to_f()]:$e}),Pe(ne,"$==",function(p){var oe=this,I=$e,V=$e;return ye(pe("Rational"),I=p)?_e(V=oe.num["$=="](p.$numerator()))?oe.den["$=="](p.$denominator()):V:ye(pe("Integer"),I)?_e(V=oe.num["$=="](p))?oe.den["$=="](1):V:ye(pe("Float"),I)?oe.$to_f()["$=="](p):p["$=="](oe)}),Pe(ne,"$<=>",function(p){var oe=this,I=$e;return ye(pe("Rational"),I=p)?He(Ge(oe.num,p.$denominator()),Ge(oe.den,p.$numerator()))["$<=>"](0):ye(pe("Integer"),I)?He(oe.num,Ge(oe.den,p))["$<=>"](0):ye(pe("Float"),I)?oe.$to_f()["$<=>"](p):oe.$__coerced__("<=>",p)}),Pe(ne,"$+",function(p){var oe=this,I=$e,V=$e,N=$e;return ye(pe("Rational"),I=p)?(V=Ne(Ge(oe.num,p.$denominator()),Ge(oe.den,p.$numerator())),N=Ge(oe.den,p.$denominator()),je.$Rational(V,N)):ye(pe("Integer"),I)?je.$Rational(Ne(oe.num,Ge(p,oe.den)),oe.den):ye(pe("Float"),I)?Ne(oe.$to_f(),p):oe.$__coerced__("+",p)}),Pe(ne,"$-",function(p){var oe=this,I=$e,V=$e,N=$e;return ye(pe("Rational"),I=p)?(V=He(Ge(oe.num,p.$denominator()),Ge(oe.den,p.$numerator())),N=Ge(oe.den,p.$denominator()),je.$Rational(V,N)):ye(pe("Integer"),I)?je.$Rational(He(oe.num,Ge(p,oe.den)),oe.den):ye(pe("Float"),I)?He(oe.$to_f(),p):oe.$__coerced__("-",p)}),Pe(ne,"$*",function(p){var oe=this,I=$e,V=$e,N=$e;return ye(pe("Rational"),I=p)?(V=Ge(oe.num,p.$numerator()),N=Ge(oe.den,p.$denominator()),je.$Rational(V,N)):ye(pe("Integer"),I)?je.$Rational(Ge(oe.num,p),oe.den):ye(pe("Float"),I)?Ge(oe.$to_f(),p):oe.$__coerced__("*",p)}),Pe(ne,"$/",function(p){var oe=this,I=$e,V=$e,N=$e;return ye(pe("Rational"),I=p)?(V=Ge(oe.num,p.$denominator()),N=Ge(oe.den,p.$numerator()),je.$Rational(V,N)):ye(pe("Integer"),I)?Re(p,0)?ze(oe.$to_f(),0):je.$Rational(oe.num,Ge(oe.den,p)):ye(pe("Float"),I)?ze(oe.$to_f(),p):oe.$__coerced__("/",p)}),Pe(ne,"$**",function(p){var oe=this,I=$e;return ye(pe("Integer"),I=p)?Re(oe,0)&&_e(Xe(p,0))?pe(pe("Float"),"INFINITY"):_e(te(p,0))?je.$Rational(oe.num["$**"](p),oe.den["$**"](p)):_e(Xe(p,0))?je.$Rational(oe.den["$**"](p["$-@"]()),oe.num["$**"](p["$-@"]())):je.$Rational(1,1):ye(pe("Float"),I)?oe.$to_f()["$**"](p):ye(pe("Rational"),I)?Re(p,0)?je.$Rational(1,1):Re(p.$denominator(),1)?_e(Xe(p,0))?je.$Rational(oe.den["$**"](p.$numerator().$abs()),oe.num["$**"](p.$numerator().$abs())):je.$Rational(oe.num["$**"](p.$numerator()),oe.den["$**"](p.$numerator())):Re(oe,0)&&_e(Xe(p,0))?je.$raise(pe("ZeroDivisionError"),"divided by 0"):oe.$to_f()["$**"](p):oe.$__coerced__("**",p)}),Pe(ne,"$abs",function(){var p=this;return je.$Rational(p.num.$abs(),p.den.$abs())}),Pe(ne,"$ceil",function(p){var oe=this;return p==null&&(p=0),Re(p,0)?ze(oe.num["$-@"](),oe.den)["$-@"]().$ceil():oe.$with_precision("ceil",p)},-1),Pe(ne,"$floor",function(p){var oe=this;return p==null&&(p=0),Re(p,0)?ze(oe.num["$-@"](),oe.den)["$-@"]().$floor():oe.$with_precision("floor",p)},-1),Pe(ne,"$hash",function(){var p=this;return"Rational:"+p.num+":"+p.den}),Pe(ne,"$inspect",function(){var p=this;return"("+p+")"}),Pe(ne,"$rationalize",function(p){var oe=this;if(arguments.length>1&&je.$raise(pe("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),p==null)return oe;for(var I=p.$abs(),V=He(oe,I),N=Ne(oe,I),Ae=0,re=1,L=1,d=0,i,r,n,s,o;n=V.$ceil(),!Ee(n,N);)s=n-1,i=s*re+Ae,r=s*d+L,o=ze(1,He(N,s)),N=ze(1,He(V,s)),V=o,Ae=re,L=d,re=i,d=r;return je.$Rational(n*re+Ae,n*d+L)},-1),Pe(ne,"$round",function(p){var oe=this,I=$e,V=$e,N=$e;return p==null&&(p=0),Re(p,0)?Re(oe.num,0)?0:Re(oe.den,1)?oe.num:(I=Ne(Ge(oe.num.$abs(),2),oe.den),V=Ge(oe.den,2),N=ze(I,V).$truncate(),_e(Xe(oe.num,0))?N["$-@"]():N):oe.$with_precision("round",p)},-1),Pe(ne,"$to_f",function(){var p=this;return ze(p.num,p.den)}),Pe(ne,"$to_i",function(){var p=this;return p.$truncate()}),Pe(ne,"$to_r",Je),Pe(ne,"$to_s",function(){var p=this;return""+p.num+"/"+p.den}),Pe(ne,"$truncate",function(p){var oe=this;return p==null&&(p=0),Re(p,0)?_e(Xe(oe.num,0))?oe.$ceil():oe.$floor():oe.$with_precision("truncate",p)},-1),Pe(ne,"$with_precision",function(p,oe){var I=this,V=$e,N=$e;return ye(pe("Integer"),oe)||je.$raise(pe("TypeError"),"not an Integer"),V=10["$**"](oe),N=Ge(I,V),_e(Xe(oe,1))?ze(N.$send(p),V).$to_i():je.$Rational(N.$send(p),V)}),Te(ne,"$from_string",function(p){var oe=p.trimLeft(),I=/^[+-]?[\d_]+(\.[\d_]+)?/;oe.match(I);var V,N;function Ae(){return I.test(oe)}function re(){var L=oe.match(I),d=L[0];return oe=oe.slice(d.length),d.replace(/_/g,"")}return Ae()?(V=parseFloat(re()),oe[0]==="/"?(oe=oe.slice(1),Ae()?(N=parseFloat(re()),je.$Rational(V,N)):je.$Rational(V,1)):je.$Rational(V,1)):je.$Rational(0,1)}),Le(ne,"divide","/"),Le(ne,"quo","/")}("::",pe("Numeric"))};Opal.modules["corelib/time"]=function($){var Q=$.slice,Re=$.deny_frozen_access,je=$.klass,_e=$.Kernel,Xe=$.Opal,ze=$.defs,Te=$.eqeqeq,ye=$.def,W=$.truthy,Be=$.rb_gt,Pe=$.rb_lt,qe=$.send,He=$.rb_plus,Ge=$.rb_divide,Ne=$.rb_minus,te=$.range,Ee=$.neqeq,Je=$.rb_le,Le=$.eqeq,xe=$.alias,$e=$.top,pe=[],ae=$.nil,Ie=$.$$$;return $.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),$e.$require("corelib/comparable"),function(ne,me,Z){var p=je(ne,me,"Time"),oe=[p].concat(Z),I=$.$r(oe);p.$include(Ie("Comparable"));var V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=["January","February","March","April","May","June","July","August","September","October","November","December"];ze(p,"$at",function(i,r){var n;return Ie("Time")["$==="](i)?(r!==void 0&&_e.$raise(Ie("TypeError"),"can't convert Time into an exact number"),n=new Date(i.getTime()),n.timezone=i.timezone,n):(i.$$is_number||(i=Xe["$coerce_to!"](i,Ie("Integer"),"to_int")),r===void 0?new Date(i*1e3):(r.$$is_number||(r=Xe["$coerce_to!"](r,Ie("Integer"),"to_int")),new Date(i*1e3+r/1e3)))},-2);function L(d,i,r,n,s,o){if(d.$$is_string?d=parseInt(d,10):d=Xe["$coerce_to!"](d,Ie("Integer"),"to_int"),i===ae)i=1;else if(!i.$$is_number)if(i["$respond_to?"]("to_str"))switch(i=i.$to_str(),i.toLowerCase()){case"jan":i=1;break;case"feb":i=2;break;case"mar":i=3;break;case"apr":i=4;break;case"may":i=5;break;case"jun":i=6;break;case"jul":i=7;break;case"aug":i=8;break;case"sep":i=9;break;case"oct":i=10;break;case"nov":i=11;break;case"dec":i=12;break;default:i=i.$to_i()}else i=Xe["$coerce_to!"](i,Ie("Integer"),"to_int");return(i<1||i>12)&&_e.$raise(Ie("ArgumentError"),"month out of range: "+i),i=i-1,r===ae?r=1:r.$$is_string?r=parseInt(r,10):r=Xe["$coerce_to!"](r,Ie("Integer"),"to_int"),(r<1||r>31)&&_e.$raise(Ie("ArgumentError"),"day out of range: "+r),n===ae?n=0:n.$$is_string?n=parseInt(n,10):n=Xe["$coerce_to!"](n,Ie("Integer"),"to_int"),(n<0||n>24)&&_e.$raise(Ie("ArgumentError"),"hour out of range: "+n),s===ae?s=0:s.$$is_string?s=parseInt(s,10):s=Xe["$coerce_to!"](s,Ie("Integer"),"to_int"),(s<0||s>59)&&_e.$raise(Ie("ArgumentError"),"min out of range: "+s),o===ae?o=0:o.$$is_number||(o.$$is_string?o=parseInt(o,10):o=Xe["$coerce_to!"](o,Ie("Integer"),"to_int")),(o<0||o>60)&&_e.$raise(Ie("ArgumentError"),"sec out of range: "+o),[d,i,r,n,s,o]}return ze(p,"$new",function(i,r,n,s,o,g,y){var P=this;r==null&&(r=ae),n==null&&(n=ae),s==null&&(s=ae),o==null&&(o=ae),g==null&&(g=ae),y==null&&(y=ae);var be,tt,ot,lt;return i===void 0?new Date:(be=L(i,r,n,s,o,g),i=be[0],r=be[1],n=be[2],s=be[3],o=be[4],g=be[5],y===ae?(tt=new Date(i,r,n,s,o,0,g*1e3),i<100&&tt.setFullYear(i),tt):(ot=P.$_parse_offset(y),lt=new Date(Date.UTC(i,r,n,s,o,0,g*1e3)),i<100&&lt.setUTCFullYear(i),tt=new Date(lt.getTime()-ot*36e5),tt.timezone=ot,tt))},-1),ze(p,"$_parse_offset",function(i){var r;if(i.$$is_string)if(i=="UTC")r=0;else if(/^[+-]\d\d:[0-5]\d$/.test(i)){var n,s,o;n=i[0],s=+(i[1]+i[2]),o=+(i[4]+i[5]),r=(n=="-"?-1:1)*(s+o/60)}else _e.$raise(Ie("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+i);else i.$$is_number?r=i/3600:_e.$raise(Ie("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return r}),ze(p,"$local",function(i,r,n,s,o,g,y,P,be,tt){r==null&&(r=ae),n==null&&(n=ae),s==null&&(s=ae),o==null&&(o=ae),g==null&&(g=ae),y==null&&(y=ae),P==null&&(P=ae),be==null&&(be=ae),tt==null&&(tt=ae);var ot,lt;return arguments.length===10&&(ot=Q(arguments),i=ot[5],r=ot[4],n=ot[3],s=ot[2],o=ot[1],g=ot[0]),ot=L(i,r,n,s,o,g),i=ot[0],r=ot[1],n=ot[2],s=ot[3],o=ot[4],g=ot[5],lt=new Date(i,r,n,s,o,0,g*1e3),i<100&&lt.setFullYear(i),lt},-2),ze(p,"$gm",function(i,r,n,s,o,g,y,P,be,tt){r==null&&(r=ae),n==null&&(n=ae),s==null&&(s=ae),o==null&&(o=ae),g==null&&(g=ae),y==null&&(y=ae),P==null&&(P=ae),be==null&&(be=ae),tt==null&&(tt=ae);var ot,lt;return arguments.length===10&&(ot=Q(arguments),i=ot[5],r=ot[4],n=ot[3],s=ot[2],o=ot[1],g=ot[0]),ot=L(i,r,n,s,o,g),i=ot[0],r=ot[1],n=ot[2],s=ot[3],o=ot[4],g=ot[5],lt=new Date(Date.UTC(i,r,n,s,o,0,g*1e3)),i<100&&lt.setUTCFullYear(i),lt.timezone=0,lt},-2),ze(p,"$now",function(){var i=this;return i.$new()}),ye(p,"$+",function(i){var r=this;Te(Ie("Time"),i)&&_e.$raise(Ie("TypeError"),"time + time?"),i.$$is_number||(i=Xe["$coerce_to!"](i,Ie("Integer"),"to_int"));var n=new Date(r.getTime()+i*1e3);return n.timezone=r.timezone,n}),ye(p,"$-",function(i){var r=this;if(Te(Ie("Time"),i))return(r.getTime()-i.getTime())/1e3;i.$$is_number||(i=Xe["$coerce_to!"](i,Ie("Integer"),"to_int"));var n=new Date(r.getTime()-i*1e3);return n.timezone=r.timezone,n}),ye(p,"$<=>",function(i){var r=this,n=ae;return Te(Ie("Time"),i)?r.$to_f()["$<=>"](i.$to_f()):(n=i["$<=>"](r),W(n["$nil?"]())?ae:W(Be(n,0))?-1:W(Pe(n,0))?1:0)}),ye(p,"$==",function(i){var r=this,n=ae;return W(n=Ie("Time")["$==="](i))?r.$to_f()===i.$to_f():n}),ye(p,"$asctime",function(){var i=this;return i.$strftime("%a %b %e %H:%M:%S %Y")}),qe([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function d(i,r,n,s){var o=d.$$s==null?this:d.$$s;return i==null&&(i=ae),r==null&&(r=ae),n==null&&(n=ae),s==null&&(s=0),qe(o,"define_method",[i],function g(){var y=g.$$s==null?this:g.$$s;return s+(y.timezone!=null?new Date(y.getTime()+y.timezone*36e5)[n]():y[r]())},{$$s:o})},{$$arity:-4,$$s:p}),ye(p,"$yday",function(){var i=this,r=ae,n=ae,s=ae;return r=I("Time").$new(i.$year()).$to_i(),n=I("Time").$new(i.$year(),i.$month(),i.$day()).$to_i(),s=86400,He(Ge(Ne(n,r),s).$round(),1)}),ye(p,"$isdst",function(){var i=this,r=new Date(i.getFullYear(),0,1),n=new Date(i.getFullYear(),6,1);return i.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),n.getTimezoneOffset())}),ye(p,"$dup",function(){var i=this,r=ae;return r=new Date(i.getTime()),r.$copy_instance_variables(i),r.$initialize_dup(i),r}),ye(p,"$eql?",function(i){var r=this,n=ae;return W(n=i["$is_a?"](Ie("Time")))?r["$<=>"](i)["$zero?"]():n}),qe([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function d(i,r){var n=d.$$s==null?this:d.$$s;return i==null&&(i=ae),r==null&&(r=ae),qe(n,"define_method",[i],function s(){var o=s.$$s==null?this:s.$$s;return o.$wday()===r},{$$s:n})},{$$s:p}),ye(p,"$hash",function(){var i=this;return"Time:"+i.getTime()}),ye(p,"$inspect",function(){var i=this;return W(i["$utc?"]())?i.$strftime("%Y-%m-%d %H:%M:%S UTC"):i.$strftime("%Y-%m-%d %H:%M:%S %z")}),ye(p,"$succ",function(){var i=this,r=new Date(i.getTime()+1e3);return r.timezone=i.timezone,r}),ye(p,"$usec",function(){var i=this;return i.getMilliseconds()*1e3}),ye(p,"$zone",function(){var i=this;if(i.timezone===0)return"UTC";if(i.timezone!=null)return ae;var r=i.toString(),n;return r.indexOf("(")==-1?n=r.match(/[A-Z]{3,4}/)[0]:n=r.match(/\((.+)\)(?:\s|$)/)[1],n=="GMT"&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:n}),ye(p,"$getgm",function(){var i=this,r=new Date(i.getTime());return r.timezone=0,r}),ye(p,"$gmtime",function(){var i=this;return i.timezone!==0&&(Re(i),i.timezone=0),i}),ye(p,"$gmt?",function(){var i=this;return i.timezone===0}),ye(p,"$gmt_offset",function(){var i=this;return i.timezone!=null?i.timezone*60:-i.getTimezoneOffset()*60}),ye(p,"$strftime",function(i){var r=this;return i.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(n,s,o,g,y){var P="",be,tt,ot,lt=s.indexOf("0")!==-1,vt=s.indexOf("-")===-1,_t=s.indexOf("_")!==-1,bt=s.indexOf("^")!==-1,pt=s.indexOf("#")!==-1,gt=(s.match(":")||[]).length;switch(o=parseInt(o,10),lt&&_t&&(s.indexOf("0")<s.indexOf("_")?lt=!1:_t=!1),y){case"Y":P+=r.$year();break;case"C":lt=!_t,P+=Math.round(r.$year()/100);break;case"y":lt=!_t,P+=r.$year()%100;break;case"m":lt=!_t,P+=r.$mon();break;case"B":P+=re[r.$mon()-1];break;case"b":case"h":_t=!lt,P+=Ae[r.$mon()-1];break;case"d":lt=!_t,P+=r.$day();break;case"e":_t=!lt,P+=r.$day();break;case"j":lt=!_t,o=isNaN(o)?3:o,P+=r.$yday();break;case"H":lt=!_t,P+=r.$hour();break;case"k":_t=!lt,P+=r.$hour();break;case"I":lt=!_t,P+=r.$hour()%12||12;break;case"l":_t=!lt,P+=r.$hour()%12||12;break;case"P":P+=r.$hour()>=12?"pm":"am";break;case"p":P+=r.$hour()>=12?"PM":"AM";break;case"M":lt=!_t,P+=r.$min();break;case"S":lt=!_t,P+=r.$sec();break;case"L":lt=!_t,o=isNaN(o)?3:o,P+=r.getMilliseconds();break;case"N":o=isNaN(o)?9:o,P+=r.getMilliseconds().toString().$rjust(3,"0"),P=P.$ljust(o,"0");break;case"z":var mt=r.timezone==null?r.getTimezoneOffset():-r.timezone*60,Qe=Math.floor(Math.abs(mt)/60),le=Math.abs(mt)%60;P+=mt<0?"+":"-",P+=Qe<10?"0":"",P+=Qe,gt>0&&(P+=":"),P+=le<10?"0":"",P+=le,gt>1&&(P+=":00");break;case"Z":P+=r.$zone();break;case"A":P+=V[r.$wday()];break;case"a":P+=N[r.$wday()];break;case"u":P+=r.$wday()+1;break;case"w":P+=r.$wday();break;case"V":P+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":P+=r.$cweek_cyear()["$[]"](1);break;case"g":P+=r.$cweek_cyear()["$[]"](1)["$[]"](te(-2,-1,!1));break;case"s":P+=r.$to_i();break;case"n":P+=`
`;break;case"t":P+="	";break;case"%":P+="%";break;case"c":P+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":P+=r.$strftime("%m/%d/%y");break;case"F":P+=r.$strftime("%Y-%m-%d");break;case"v":P+=r.$strftime("%e-%^b-%4Y");break;case"r":P+=r.$strftime("%I:%M:%S %p");break;case"R":P+=r.$strftime("%H:%M");break;case"T":case"X":P+=r.$strftime("%H:%M:%S");break;case"J":if(be=r.$to_date().$jd(),be<2405160){P+=r.$strftime("%Y-%m-%d");break}else be<2419614?(tt="M",ot=1867):be<2424875?(tt="T",ot=1911):be<2447535?(tt="S",ot=1925):be<2458605?(tt="H",ot=1988):(tt="R",ot=2018);P+=r.$format("%c%02d",tt,Ne(r.$year(),ot)),P+=r.$strftime("-%m-%d");break;default:return n}return bt&&(P=P.toUpperCase()),pt&&(P=P.replace(/[A-Z]/,function(ge){ge.toLowerCase()}).replace(/[a-z]/,function(ge){ge.toUpperCase()})),vt&&(lt||_t)&&(P=P.$rjust(isNaN(o)?2:o,_t?" ":"0")),P})}),ye(p,"$to_a",function(){var i=this;return[i.$sec(),i.$min(),i.$hour(),i.$day(),i.$month(),i.$year(),i.$wday(),i.$yday(),i.$isdst(),i.$zone()]}),ye(p,"$to_f",function(){var i=this;return i.getTime()/1e3}),ye(p,"$to_i",function(){var i=this;return parseInt(i.getTime()/1e3,10)}),ye(p,"$cweek_cyear",function(){var i=this,r=ae,n=ae,s=ae,o=ae,g=ae,y=ae,P=ae;return r=Ie("Time").$new(i.$year(),1,1),n=r.$wday(),s=i.$year(),W(Je(n,4))&&Ee(n,0)?o=Ne(n,1):(o=Ne(Ne(n,7),1),Le(o,-8)&&(o=-1)),g=Ge(He(i.$yday(),o),7).$ceil(),W(Je(g,0))?Ie("Time").$new(Ne(i.$year(),1),12,31).$cweek_cyear():(Le(g,53)&&(y=Ie("Time").$new(i.$year(),12,31),P=y.$wday(),W(Je(P,3))&&Ee(P,0)&&(g=1,s=He(s,1))),[g,s])}),function(d,i){return xe(d,"mktime","local"),xe(d,"utc","gm")}($.get_singleton_class(p)),xe(p,"ctime","asctime"),xe(p,"dst?","isdst"),xe(p,"getutc","getgm"),xe(p,"gmtoff","gmt_offset"),xe(p,"mday","day"),xe(p,"month","mon"),xe(p,"to_s","inspect"),xe(p,"tv_sec","to_i"),xe(p,"tv_usec","usec"),xe(p,"utc","gmtime"),xe(p,"utc?","gmt?"),xe(p,"utc_offset","gmt_offset")}("::",Date,pe)};Opal.modules["corelib/struct"]=function($){var Q=$.klass,Re=$.slice,je=$.extract_kwargs,_e=$.ensure_kwargs,Xe=$.truthy,ze=$.neqeq,Te=$.eqeq,ye=$.Opal,W=$.send,Be=$.Class,Pe=$.to_a,qe=$.def,He=$.defs,Ge=$.Kernel,Ne=$.hash2,te=$.rb_gt,Ee=$.rb_minus,Je=$.eqeqeq,Le=$.rb_lt,xe=$.rb_ge,$e=$.rb_plus,pe=$.alias,ae=$.top,Ie=[],ne=$.nil,me=$.$$$;return $.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),ae.$require("corelib/enumerable"),function(Z,p,oe){var I=Q(Z,p,"Struct"),V=[I].concat(oe),N=$.$r(V);I.$include(me("Enumerable")),He(I,"$new",function re(L,d,i){var r=re.$$p||ne,n,s,o,g,y=this,P=ne;if(re.$$p=null,n=Re(arguments,1),s=je(n),s=_e(s),o=n,g=s.$$smap.keyword_init,g==null&&(g=!1),Xe(L))if(Te(L.$class(),me("String"))&&ze(L["$[]"](0).$upcase(),L["$[]"](0)))o.$unshift(L),L=ne;else try{L=ye["$const_name!"](L)}catch(be){if($.rescue(be,[me("TypeError"),me("NameError")]))try{o.$unshift(L),L=ne}finally{$.pop_exception()}else throw be}return W(o,"map",[],function(tt){return tt==null&&(tt=ne),ye["$coerce_to!"](tt,me("String"),"to_str")}),P=W(Be,"new",[y],function be(){var tt=be.$$s==null?this:be.$$s;return W(o,"each",[],function ot(lt){var vt=ot.$$s==null?this:ot.$$s;return lt==null&&(lt=ne),vt.$define_struct_attribute(lt)},{$$s:tt}),function(ot,lt){return qe(ot,"$new",function(_t){var bt,pt,gt=this,mt=ne;return bt=Re(arguments),pt=bt,mt=gt.$allocate(),mt.$$data={},W(mt,"initialize",Pe(pt)),mt},-1),ot.$alias_method("[]","new")}($.get_singleton_class(tt))},{$$s:y}),Xe(r)&&W(P,"module_eval",[],r.$to_proc()),P.$$keyword_init=g,Xe(L)&&me("Struct").$const_set(L,P),P},-2),He(I,"$define_struct_attribute",function(L){var d=this;return Te(d,me("Struct"))&&Ge.$raise(me("ArgumentError"),"you cannot define attributes to the Struct class"),d.$members()["$<<"](L),W(d,"define_method",[L],function i(){var r=i.$$s==null?this:i.$$s;return r.$$data[L]},{$$s:d}),W(d,"define_method",[""+L+"="],function i(r){var n=i.$$s==null?this:i.$$s;return r==null&&(r=ne),n.$$data[L]=r},{$$s:d})}),He(I,"$members",function(){var L=this,d=ne;return L.members==null&&(L.members=ne),Te(L,me("Struct"))&&Ge.$raise(me("ArgumentError"),"the Struct class has no members"),L.members=Xe(d=L.members)?d:[]}),He(I,"$inherited",function(L){var d=this,i=ne;return d.members==null&&(d.members=ne),i=d.members,W(L,"instance_eval",[],function r(){var n=r.$$s==null?this:r.$$s;return n.members=i},{$$s:d})}),qe(I,"$initialize",function(L){var d,i,r=this,n=ne,s=ne,o=ne;return d=Re(arguments),i=d,Xe(r.$class().$$keyword_init)?(n=Xe(s=i.$last())?s:Ne([],{}),(Xe(te(i.$length(),1))||Xe(i.length===1&&!n.$$is_hash))&&Ge.$raise(me("ArgumentError"),"wrong number of arguments (given "+i.$length()+", expected 0)"),o=Ee(n.$keys(),r.$class().$members()),Xe(o["$any?"]())&&Ge.$raise(me("ArgumentError"),"unknown keywords: "+o.$join(", ")),W(r.$class().$members(),"each",[],function g(y){var P,be=g.$$s==null?this:g.$$s;return y==null&&(y=ne),P=[y,n["$[]"](y)],W(be,"[]=",P),P[P.length-1]},{$$s:r})):(Xe(te(i.$length(),r.$class().$members().$length()))&&Ge.$raise(me("ArgumentError"),"struct size differs"),W(r.$class().$members(),"each_with_index",[],function g(y,P){var be,tt=g.$$s==null?this:g.$$s;return y==null&&(y=ne),P==null&&(P=ne),be=[y,i["$[]"](P)],W(tt,"[]=",be),be[be.length-1]},{$$s:r}))},-1),qe(I,"$initialize_copy",function(L){var d=this;d.$$data={};var i=Object.keys(L.$$data),r,n,s;for(r=0,n=i.length;r<n;r++)s=i[r],d.$$data[s]=L.$$data[s]}),He(I,"$keyword_init?",function(){var L=this;return L.$$keyword_init}),qe(I,"$members",function(){var L=this;return L.$class().$members()}),qe(I,"$hash",function(){var L=this;return N("Hash").$new(L.$$data).$hash()}),qe(I,"$[]",function(L){var d=this;return Je(me("Integer"),L)?(Xe(Le(L,d.$class().$members().$size()["$-@"]()))&&Ge.$raise(me("IndexError"),"offset "+L+" too small for struct(size:"+d.$class().$members().$size()+")"),Xe(xe(L,d.$class().$members().$size()))&&Ge.$raise(me("IndexError"),"offset "+L+" too large for struct(size:"+d.$class().$members().$size()+")"),L=d.$class().$members()["$[]"](L)):Je(me("String"),L)?d.$$data.hasOwnProperty(L)||Ge.$raise(me("NameError").$new("no member '"+L+"' in struct",L)):Ge.$raise(me("TypeError"),"no implicit conversion of "+L.$class()+" into Integer"),L=ye["$coerce_to!"](L,me("String"),"to_str"),d.$$data[L]}),qe(I,"$[]=",function(L,d){var i=this;return Je(me("Integer"),L)?(Xe(Le(L,i.$class().$members().$size()["$-@"]()))&&Ge.$raise(me("IndexError"),"offset "+L+" too small for struct(size:"+i.$class().$members().$size()+")"),Xe(xe(L,i.$class().$members().$size()))&&Ge.$raise(me("IndexError"),"offset "+L+" too large for struct(size:"+i.$class().$members().$size()+")"),L=i.$class().$members()["$[]"](L)):Je(me("String"),L)?Xe(i.$class().$members()["$include?"](L.$to_sym()))||Ge.$raise(me("NameError").$new("no member '"+L+"' in struct",L)):Ge.$raise(me("TypeError"),"no implicit conversion of "+L.$class()+" into Integer"),L=ye["$coerce_to!"](L,me("String"),"to_str"),i.$$data[L]=d}),qe(I,"$==",function(L){var d=this;if(!Xe(L["$instance_of?"](d.$class())))return!1;var i={},r={};function n(s,o){var g,y,P;i[s.$__id__()]=!0,r[o.$__id__()]=!0;for(g in s.$$data)if(y=s.$$data[g],P=o.$$data[g],me("Struct")["$==="](y)){if((!i.hasOwnProperty(y.$__id__())||!r.hasOwnProperty(P.$__id__()))&&!n(y,P))return!1}else if(!y["$=="](P))return!1;return!0}return n(d,L)}),qe(I,"$eql?",function(L){var d=this;if(!Xe(L["$instance_of?"](d.$class())))return!1;var i={},r={};function n(s,o){var g,y,P;i[s.$__id__()]=!0,r[o.$__id__()]=!0;for(g in s.$$data)if(y=s.$$data[g],P=o.$$data[g],me("Struct")["$==="](y)){if((!i.hasOwnProperty(y.$__id__())||!r.hasOwnProperty(P.$__id__()))&&!n(y,P))return!1}else if(!y["$eql?"](P))return!1;return!0}return n(d,L)}),qe(I,"$each",function re(){var L=re.$$p||ne,d=this;return re.$$p=null,L===ne?W(d,"enum_for",["each"],function i(){var r=i.$$s==null?this:i.$$s;return r.$size()},{$$s:d}):(W(d.$class().$members(),"each",[],function i(r){var n=i.$$s==null?this:i.$$s;return r==null&&(r=ne),$.yield1(L,n["$[]"](r))},{$$s:d}),d)}),qe(I,"$each_pair",function re(){var L=re.$$p||ne,d=this;return re.$$p=null,L===ne?W(d,"enum_for",["each_pair"],function i(){var r=i.$$s==null?this:i.$$s;return r.$size()},{$$s:d}):(W(d.$class().$members(),"each",[],function i(r){var n=i.$$s==null?this:i.$$s;return r==null&&(r=ne),$.yield1(L,[r,n["$[]"](r)])},{$$s:d}),d)}),qe(I,"$length",function(){var L=this;return L.$class().$members().$length()}),qe(I,"$to_a",function(){var L=this;return W(L.$class().$members(),"map",[],function d(i){var r=d.$$s==null?this:d.$$s;return i==null&&(i=ne),r["$[]"](i)},{$$s:L})});var Ae=[];return qe(I,"$inspect",function(){var L=this,d=ne,i=ne;return function(){try{return d="#<struct ",Xe(Ae["$include?"](L.$__id__()))?$e(d,":...>"):(Ae["$<<"](L.$__id__()),i=!0,Je(me("Struct"),L)&&Xe(L.$class().$name())&&(d=$e(d,""+L.$class()+" ")),d=$e(d,W(L.$each_pair(),"map",[],function(n,s){return n==null&&(n=ne),s==null&&(s=ne),""+n+"="+N("Opal").$inspect(s)}).$join(", ")),d=$e(d,">"),d)}finally{Xe(i)&&Ae.pop()}}()}),qe(I,"$to_h",function re(){var L=re.$$p||ne,d=this;return re.$$p=null,L!==ne?W(W(d,"map",[],L.$to_proc()),"to_h",Pe(d.$args())):W(d.$class().$members(),"each_with_object",[Ne([],{})],function i(r,n){var s,o=i.$$s==null?this:i.$$s;return r==null&&(r=ne),n==null&&(n=ne),s=[r,o["$[]"](r)],W(n,"[]=",s),s[s.length-1]},{$$s:d})}),qe(I,"$values_at",function(L){var d,i,r=this;d=Re(arguments),i=d,i=W(i,"map",[],function(y){return y==null&&(y=ne),y.$$is_range?y.$to_a():y}).$flatten();for(var n=[],s=0,o=i.length;s<o;s++)i[s].$$is_number||Ge.$raise(me("TypeError"),"no implicit conversion of "+i[s].$class()+" into Integer"),n.push(r["$[]"](i[s]));return n},-1),qe(I,"$dig",function(L,d){var i,r,n=this,s=ne;return i=Re(arguments,1),r=i,s=Xe(L.$$is_string&&n.$$data.hasOwnProperty(L))&&n.$$data[L]||ne,s===ne||r.length===0?s:(Xe(s["$respond_to?"]("dig"))||Ge.$raise(me("TypeError"),""+s.$class()+" does not have #dig method"),W(s,"dig",Pe(r)))},-2),pe(I,"size","length"),pe(I,"to_s","inspect"),pe(I,"values","to_a")}("::",null,Ie)};Opal.modules["corelib/set"]=function($){var Q=$.freeze,Re=$.klass,je=$.slice,_e=$.defs,Xe=$.hash2,ze=$.truthy,Te=$.eqeqeq,ye=$.Kernel,W=$.send,Be=$.def,Pe=$.eqeq,qe=$.rb_lt,He=$.rb_le,Ge=$.alias,Ne=[],te=$.nil,Ee=$.$$$;return $.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(Je,Le,xe){var $e=Re(Je,Le,"Set"),pe=[$e].concat(xe),ae=$.$r(pe),Ie=te,ne=$e.$$prototype;ne.hash=te,$e.$include(Ee("Enumerable")),_e($e,"$[]",function(p){var oe,I,V=this;return oe=je(arguments),I=oe,V.$new(I)},-1),Be($e,"$initialize",function Z(p){var oe=Z.$$p||te,I=this;return Z.$$p=null,p==null&&(p=te),I.hash=Xe([],{}),ze(p["$nil?"]())?te:(Te(Ee("Enumerable"),p)||ye.$raise(Ee("ArgumentError"),"value must be enumerable"),ze(oe)?W(p,"each",[],function V(N){var Ae=V.$$s==null?this:V.$$s;return N==null&&(N=te),Ae.$add($.yield1(oe,N))},{$$s:I}):I.$merge(p))},-1),Be($e,"$dup",function(){var p=this,oe=te;return oe=p.$class().$new(),oe.$merge(p)}),Be($e,"$-",function(p){var oe=this;return ze(p["$respond_to?"]("each"))||ye.$raise(Ee("ArgumentError"),"value must be enumerable"),oe.$dup().$subtract(p)}),Be($e,"$inspect",function(){var p=this;return"#<Set: {"+p.$to_a().$join(",")+"}>"}),Be($e,"$==",function(p){var oe=this;return ze(oe["$equal?"](p))?!0:ze(p["$instance_of?"](oe.$class()))?oe.hash["$=="](p.$instance_variable_get("@hash")):ze(p["$is_a?"](Ee("Set")))&&Pe(oe.$size(),p.$size())?W(p,"all?",[],function I(V){var N=I.$$s==null?this:I.$$s;return N.hash==null&&(N.hash=te),V==null&&(V=te),N.hash["$include?"](V)},{$$s:oe}):!1}),Be($e,"$add",function(p){var oe=this;return oe.hash["$[]="](p,!0),oe}),Be($e,"$classify",function Z(){var p=Z.$$p||te,oe=this,I=te;return Z.$$p=null,p===te?oe.$enum_for("classify"):(I=W(Ee("Hash"),"new",[],function V(N,Ae){var re,L=V.$$s==null?this:V.$$s;return N==null&&(N=te),Ae==null&&(Ae=te),re=[Ae,L.$class().$new()],W(N,"[]=",re),re[re.length-1]},{$$s:oe}),W(oe,"each",[],function(N){return N==null&&(N=te),I["$[]"]($.yield1(p,N)).$add(N)}),I)}),Be($e,"$collect!",function Z(){var p=Z.$$p||te,oe=this,I=te;return Z.$$p=null,p===te?oe.$enum_for("collect!"):(I=oe.$class().$new(),W(oe,"each",[],function(N){return N==null&&(N=te),I["$<<"]($.yield1(p,N))}),oe.$replace(I))}),Be($e,"$compare_by_identity",function(){var p=this;return ze(p.hash["$respond_to?"]("compare_by_identity"))?(p.hash.$compare_by_identity(),p):p.$raise(ae("NotImplementedError"),""+p.$class().$name()+"#compare_by_identity is not implemented")}),Be($e,"$compare_by_identity?",function(){var p=this,oe=te;return ze(oe=p.hash["$respond_to?"]("compare_by_identity?"))?p.hash["$compare_by_identity?"]():oe}),Be($e,"$delete",function(p){var oe=this;return oe.hash.$delete(p),oe}),Be($e,"$delete?",function(p){var oe=this;return ze(oe["$include?"](p))?(oe.$delete(p),oe):te}),Be($e,"$delete_if",function Z(){var p=Z.$$p||te,oe=this;return Z.$$p=null,p===te?oe.$enum_for("delete_if"):(W(W(oe,"select",[],function(V){return V==null&&(V=te),$.yield1(p,V)}),"each",[],function I(V){var N=I.$$s==null?this:I.$$s;return N.hash==null&&(N.hash=te),V==null&&(V=te),N.hash.$delete(V)},{$$s:oe}),oe)}),Be($e,"$freeze",function(){var p=this;return ze(p["$frozen?"]())?p:(p.hash.$freeze(),Q(p))}),Be($e,"$keep_if",function Z(){var p=Z.$$p||te,oe=this;return Z.$$p=null,p===te?oe.$enum_for("keep_if"):(W(W(oe,"reject",[],function(V){return V==null&&(V=te),$.yield1(p,V)}),"each",[],function I(V){var N=I.$$s==null?this:I.$$s;return N.hash==null&&(N.hash=te),V==null&&(V=te),N.hash.$delete(V)},{$$s:oe}),oe)}),Be($e,"$reject!",function Z(){var p=Z.$$p||te,oe=this,I=te;return Z.$$p=null,p===te?oe.$enum_for("reject!"):(I=oe.$size(),W(oe,"delete_if",[],p.$to_proc()),Pe(oe.$size(),I)?te:oe)}),Be($e,"$select!",function Z(){var p=Z.$$p||te,oe=this,I=te;return Z.$$p=null,p===te?oe.$enum_for("select!"):(I=oe.$size(),W(oe,"keep_if",[],p.$to_proc()),Pe(oe.$size(),I)?te:oe)}),Be($e,"$add?",function(p){var oe=this;return ze(oe["$include?"](p))?te:oe.$add(p)}),Be($e,"$each",function Z(){var p=Z.$$p||te,oe=this;return Z.$$p=null,p===te?oe.$enum_for("each"):(W(oe.hash,"each_key",[],p.$to_proc()),oe)}),Be($e,"$empty?",function(){var p=this;return p.hash["$empty?"]()}),Be($e,"$eql?",function(p){var oe=this;return oe.hash["$eql?"](W(p,"instance_eval",[],function I(){var V=I.$$s==null?this:I.$$s;return V.hash==null&&(V.hash=te),V.hash},{$$s:oe}))}),Be($e,"$clear",function(){var p=this;return p.hash.$clear(),p}),Be($e,"$include?",function(p){var oe=this;return oe.hash["$include?"](p)}),Be($e,"$merge",function(p){var oe=this;return W(p,"each",[],function I(V){var N=I.$$s==null?this:I.$$s;return V==null&&(V=te),N.$add(V)},{$$s:oe}),oe}),Be($e,"$replace",function(p){var oe=this;return oe.$clear(),oe.$merge(p),oe}),Be($e,"$size",function(){var p=this;return p.hash.$size()}),Be($e,"$subtract",function(p){var oe=this;return W(p,"each",[],function I(V){var N=I.$$s==null?this:I.$$s;return V==null&&(V=te),N.$delete(V)},{$$s:oe}),oe}),Be($e,"$|",function(p){var oe=this;return ze(p["$respond_to?"]("each"))||ye.$raise(Ee("ArgumentError"),"value must be enumerable"),oe.$dup().$merge(p)});function me(Z){ze(Ie=Z["$is_a?"](Ee("Set")))||ye.$raise(Ee("ArgumentError"),"value must be a set")}return Be($e,"$superset?",function(p){var oe=this;return me(p),ze(qe(oe.$size(),p.$size()))?!1:W(p,"all?",[],function I(V){var N=I.$$s==null?this:I.$$s;return V==null&&(V=te),N["$include?"](V)},{$$s:oe})}),Be($e,"$proper_superset?",function(p){var oe=this;return me(p),ze(He(oe.$size(),p.$size()))?!1:W(p,"all?",[],function I(V){var N=I.$$s==null?this:I.$$s;return V==null&&(V=te),N["$include?"](V)},{$$s:oe})}),Be($e,"$subset?",function(p){var oe=this;return me(p),ze(qe(p.$size(),oe.$size()))?!1:W(oe,"all?",[],function(V){return V==null&&(V=te),p["$include?"](V)})}),Be($e,"$proper_subset?",function(p){var oe=this;return me(p),ze(He(p.$size(),oe.$size()))?!1:W(oe,"all?",[],function(V){return V==null&&(V=te),p["$include?"](V)})}),Be($e,"$intersect?",function(p){var oe=this;return me(p),ze(qe(oe.$size(),p.$size()))?W(oe,"any?",[],function(V){return V==null&&(V=te),p["$include?"](V)}):W(p,"any?",[],function I(V){var N=I.$$s==null?this:I.$$s;return V==null&&(V=te),N["$include?"](V)},{$$s:oe})}),Be($e,"$disjoint?",function(p){var oe=this;return oe["$intersect?"](p)["$!"]()}),Be($e,"$to_a",function(){var p=this;return p.hash.$keys()}),Ge($e,"+","|"),Ge($e,"<","proper_subset?"),Ge($e,"<<","add"),Ge($e,"<=","subset?"),Ge($e,">","proper_superset?"),Ge($e,">=","superset?"),Ge($e,"difference","-"),Ge($e,"filter!","select!"),Ge($e,"length","size"),Ge($e,"map!","collect!"),Ge($e,"member?","include?"),Ge($e,"union","|")}("::",null,Ne)};Opal.modules["corelib/dir"]=function($){var Q=$.klass,Re=$.def,je=$.truthy,_e=$.alias,Xe=$.nil,ze=$.$$$;return $.add_stubs("[],pwd"),function(Te,ye,W){var Be=Q(Te,ye,"Dir");return function(Pe,qe){return Re(Pe,"$chdir",function He(Ge){var Ne=He.$$p||Xe,te=Xe;return He.$$p=null,function(){try{return te=$.current_dir,$.current_dir=Ge,$.yieldX(Ne,[])}finally{$.current_dir=te}}()}),Re(Pe,"$pwd",function(){return $.current_dir||"."}),Re(Pe,"$home",function(){var Ge=Xe;return je(Ge=ze("ENV")["$[]"]("HOME"))?Ge:"."}),_e(Pe,"getwd","pwd")}($.get_singleton_class(Be))}("::",null)};Opal.modules["corelib/file"]=function($){var Q=$.truthy,Re=$.klass,je=$.const_set,_e=$.Opal,Xe=$.regexp,ze=$.rb_plus,Te=$.def,ye=$.Kernel,W=$.eqeq,Be=$.rb_lt,Pe=$.rb_minus,qe=$.range,He=$.send,Ge=$.slice,Ne=$.alias,te=[],Ee=$.nil,Je=$.$$$;return $.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Le,xe,$e){var pe=Re(Le,xe,"File"),ae=[pe].concat($e),Ie=Ee;return je(ae[0],"Separator",je(ae[0],"SEPARATOR","/")),je(ae[0],"ALT_SEPARATOR",Ee),je(ae[0],"PATH_SEPARATOR",":"),je(ae[0],"FNM_SYSCASE",0),Ie=/^[a-zA-Z]:(?:\\|\/)/,function(ne,me){var Z=[ne].concat(me),p=$.$r(Z);Te(ne,"$absolute_path",function(N,Ae){var re=Ee,L=Ee,d=Ee,i=Ee,r=Ee,n=Ee,s=Ee,o=Ee,g=Ee,y=Ee;Ae==null&&(Ae=Ee),re=p("SEPARATOR"),L=I(),d=[],N=Q(N["$respond_to?"]("to_path"))?N.$to_path():N,N=_e["$coerce_to!"](N,Je("String"),"to_str"),Ae=Q(i=Ae)?i:Je("Dir").$pwd(),r=N.substr(0,re.length)===re||Ie.test(N),n=Ae.substr(0,re.length)===re||Ie.test(Ae),Q(r)?(s=N.$split(Xe(["[",L,"]"])),o=Ie.test(N)?"":N.$sub(Xe(["^([",L,"]+).*$"]),"\\1"),g=!0):(s=ze(Ae.$split(Xe(["[",L,"]"])),N.$split(Xe(["[",L,"]"]))),o=Ie.test(Ae)?"":Ae.$sub(Xe(["^([",L,"]+).*$"]),"\\1"),g=n);for(var P,be=0,tt=s.length;be<tt;be++)P=s[be],!(P===Ee||P===""&&(d.length===0||g)||P==="."&&(d.length===0||g))&&(P===".."?d.pop():d.push(P));return!g&&s[0]!=="."&&d.$unshift("."),y=d.$join(re),Q(g)&&(y=ze(o,y)),y},-2),Te(ne,"$expand_path",function(N,Ae){var re=this,L=Ee,d=Ee,i=Ee,r=Ee,n=Ee;return Ae==null&&(Ae=Ee),L=p("SEPARATOR"),d=I(),Q(N[0]==="~"||Ae&&Ae[0]==="~")&&(i=p("Dir").$home(),Q(i)||ye.$raise(Je("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),r=Ie.test(i)?"":i.$sub(Xe(["^([",d,"]+).*$"]),"\\1"),Q(i["$start_with?"](r))||ye.$raise(Je("ArgumentError"),"non-absolute home"),i=ze(i,L),n=Xe(["^\\~(?:",L,"|$)"]),N=N.$sub(n,i),Q(Ae)&&(Ae=Ae.$sub(n,i))),re.$absolute_path(N,Ae)},-2);function oe(V){return Q(V["$respond_to?"]("to_path"))&&(V=V.$to_path()),V=_e["$coerce_to!"](V,Je("String"),"to_str"),V}function I(){return p("ALT_SEPARATOR")===Ee?$.escape_regexp(p("SEPARATOR")):$.escape_regexp(ze(p("SEPARATOR"),p("ALT_SEPARATOR")))}return Te(ne,"$dirname",function(N,Ae){var re=this,L=Ee;if(Ae==null&&(Ae=1),W(Ae,0))return N;Q(Be(Ae,0))&&ye.$raise(Je("ArgumentError"),"level can't be negative"),L=I(),N=oe(N);var d=N.match(new RegExp("^["+L+"]")),i;return N=N.replace(new RegExp("["+L+"]+$"),""),N=N.replace(new RegExp("[^"+L+"]+$"),""),N=N.replace(new RegExp("["+L+"]+$"),""),N===""?i=d?"/":".":i=N,Ae==1?i:re.$dirname(i,Pe(Ae,1))},-2),Te(ne,"$basename",function(N,Ae){var re=Ee;return Ae==null&&(Ae=Ee),re=I(),N=oe(N),N.length==0||(Ae!==Ee?Ae=_e["$coerce_to!"](Ae,Je("String"),"to_str"):Ae=null,N=N.replace(new RegExp("(.)["+re+"]*$"),"$1"),N=N.replace(new RegExp("^(?:.*["+re+"])?([^"+re+"]+)$"),"$1"),Ae===".*"?N=N.replace(/\.[^\.]+$/,""):Ae!==null&&(Ae=$.escape_regexp(Ae),N=N.replace(new RegExp(""+Ae+"$"),""))),N},-2),Te(ne,"$extname",function(N){var Ae=this,re=Ee,L=Ee;return N=oe(N),re=Ae.$basename(N),Q(re["$empty?"]())||(L=re["$[]"](qe(1,-1,!1)).$rindex("."),Q(L["$nil?"]())||W(ze(L,1),Pe(re.$length(),1)))?"":re["$[]"]($.Range.$new(ze(L,1),-1,!1))}),Te(ne,"$exist?",function(N){return $.modules[N]!=null}),Te(ne,"$directory?",function(N){var Ae=Ee;Ae=[];for(var re in $.modules)Ae.push(re);return N=N.$gsub(Xe(["(^.",p("SEPARATOR"),"+|",p("SEPARATOR"),"+$)"])),He(Ae,"find",[],function(d){return d==null&&(d=Ee),d["$=~"](Xe(["^",N]))})}),Te(ne,"$join",function(N){var Ae,re,L=Ee;return Ae=Ge(arguments),re=Ae,Q(re["$empty?"]())?"":(L="",re=He(re.$flatten().$each_with_index(),"map",[],function(i,r){return i==null&&(i=Ee),r==null&&(r=Ee),W(r,0)&&Q(i["$empty?"]())||W(re.$length(),ze(r,1))&&Q(i["$empty?"]())?p("SEPARATOR"):i}),re=He(re,"reject",[],"empty?".$to_proc()),He(re,"each_with_index",[],function(i,r){var n=Ee;return i==null&&(i=Ee),r==null&&(r=Ee),n=re["$[]"](ze(r,1)),Q(n["$nil?"]())?L=""+L+i:(Q(i["$end_with?"](p("SEPARATOR")))&&Q(n["$start_with?"](p("SEPARATOR")))&&(i=i.$sub(Xe([p("SEPARATOR"),"+$"]),"")),L=Q(i["$end_with?"](p("SEPARATOR")))||Q(n["$start_with?"](p("SEPARATOR")))?""+L+i:""+L+i+p("SEPARATOR"))}),L)},-1),Te(ne,"$split",function(N){return N.$split(p("SEPARATOR"))}),Ne(ne,"realpath","expand_path"),Ne(ne,"exists?","exist?")}($.get_singleton_class(pe),ae)}("::",Je("IO"),te)};Opal.modules["corelib/process/base"]=function($){var Q=$.klass,Re=$.slice,je=$.defs,_e=$.return_val,Xe=$.nil;return function(ze,Te){var ye=Q(ze,Te,"Signal");return je(ye,"$trap",function(Be){return Re(arguments),Xe},-1)}("::",null),function(ze,Te){var ye=Q(ze,Te,"GC");return je(ye,"$start",_e(Xe))}("::",null)};Opal.modules["corelib/process"]=function($){var Q=$.module,Re=$.defs,je=$.truthy,_e=$.return_val,Xe=$.Kernel,ze=$.nil,Te=$.$$$;return $.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(ye){var W=Q(ye,"Process"),Be=ze;if(W.__clocks__=[],Re(W,"$__register_clock__",function(He,Ge){var Ne=this;return Ne.__clocks__==null&&(Ne.__clocks__=ze),Ne.$const_set(He,Ne.__clocks__.$size()),Ne.__clocks__["$<<"](Ge)}),W.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),Be=!1,$.global.performance)Be=function(){return performance.now()};else if($.global.process&&process.hrtime){var Pe=process.hrtime();Be=function(){var qe=process.hrtime(Pe),He=qe[1]/1e3|0;return qe[0]*1e3+He/1e3}}return je(Be)&&W.$__register_clock__("CLOCK_MONOTONIC",Be),Re(W,"$pid",_e(0)),Re(W,"$times",function(){var He=ze;return He=Te("Time").$now().$to_f(),Te(Te("Benchmark"),"Tms").$new(He,He,He,He,He)}),Re(W,"$clock_gettime",function(He,Ge){var Ne=this,te=ze;Ne.__clocks__==null&&(Ne.__clocks__=ze),Ge==null&&(Ge="float_second"),je(te=Ne.__clocks__["$[]"](He))||Xe.$raise(Te(Te("Errno"),"EINVAL"),"clock_gettime("+He+") "+Ne.__clocks__["$[]"](He));var Ee=te();switch(Ge){case"float_second":return Ee/1e3;case"float_millisecond":return Ee/1;case"float_microsecond":return Ee*1e3;case"second":return Ee/1e3|0;case"millisecond":return Ee/1|0;case"microsecond":return Ee*1e3|0;case"nanosecond":return Ee*1e6|0;default:Xe.$raise(Te("ArgumentError"),"unexpected unit: "+Ge)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function($){var Q=$.klass,Re=$.module,je=$.def,_e=$.range,Xe=$.send,ze=$.rb_divide,Te=$.Kernel,ye=$.Opal,W=[],Be=$.nil,Pe=$.$$$;return $.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(qe,He,Ge){var Ne=Q(qe,He,"Random"),te=[Ne].concat(Ge);return function(Ee,Je){var Le=Re(Ee,"Formatter"),xe=[Le].concat(Je),$e=$.$r(xe);return je(Le,"$hex",function(ae){var Ie=this;ae==null&&(ae=Be),ae=Pe("Random").$_verify_count(ae);for(var ne=Ie.$bytes(ae),me="",Z=0;Z<ae;Z++)me+=ne.charCodeAt(Z).toString(16).padStart(2,"0");return me.$encode("US-ASCII")},-1),je(Le,"$random_bytes",function(ae){var Ie=this;return ae==null&&(ae=Be),Ie.$bytes(ae)},-1),je(Le,"$base64",function(ae){var Ie=this;return ae==null&&(ae=Be),Pe("Base64").$strict_encode64(Ie.$random_bytes(ae)).$encode("US-ASCII")},-1),je(Le,"$urlsafe_base64",function(ae,Ie){var ne=this;return ae==null&&(ae=Be),Ie==null&&(Ie=!1),Pe("Base64").$urlsafe_encode64(ne.$random_bytes(ae),Ie).$encode("US-ASCII")},-1),je(Le,"$uuid",function(){var ae=this,Ie=Be;return Ie=ae.$hex(16).$split(""),Ie["$[]="](12,"4"),Ie["$[]="](16,(parseInt(Ie["$[]"](16),16)&3|8).toString(16)),Ie=[Ie["$[]"](_e(0,8,!0)),Ie["$[]"](_e(8,12,!0)),Ie["$[]"](_e(12,16,!0)),Ie["$[]"](_e(16,20,!0)),Ie["$[]"](_e(20,32,!0))],Ie=Xe(Ie,"map",[],"join".$to_proc()),Ie.$join("-")}),je(Le,"$random_float",function(){var ae=this,Ie=Be,ne=Be;return Ie=ae.$bytes(4),ne=0,Xe(4,"times",[],function(Z){return Z==null&&(Z=Be),ne=ne["$<<"](8),ne=ne["$|"](Ie["$[]"](Z).$ord())}),ze(ne.$abs(),2147483647)}),je(Le,"$random_number",function(ae){var Ie=this;function ne(){return Ie.$random_float()}function me(p){return Math.floor(ne()*p)}function Z(){var p=ae.begin,oe=ae.end;if(p===Be||oe===Be)return Be;var I=oe-p;return I<0?Be:I===0?p:(oe%1===0&&p%1===0&&!ae.excl&&I++,me(I)+p)}return ae==null?ne():ae.$$is_range?Z():ae.$$is_number?(ae<=0&&Te.$raise(Pe("ArgumentError"),"invalid argument - "+ae),ae%1===0?me(ae):ne()*ae):(ae=ye["$coerce_to!"](ae,Pe("Integer"),"to_int"),ae<=0&&Te.$raise(Pe("ArgumentError"),"invalid argument - "+ae),me(ae))},-1),je(Le,"$alphanumeric",function(ae){var Ie=this,ne=Be;return ae==null&&(ae=Be),ae=$e("Random").$_verify_count(ae),ne=Xe([_e("0","9",!1),_e("a","z",!1),_e("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),Xe(Pe("Array"),"new",[ae],function me(Z){var p=me.$$s==null?this:me.$$s;return ne["$[]"](p.$random_number(ne.$length()))},{$$s:Ie}).$join()},-1)}(Ne,te),Ne.$include(Pe(Pe("Random"),"Formatter")),Ne.$extend(Pe(Pe("Random"),"Formatter"))}("::",null,W)};Opal.modules["corelib/random/mersenne_twister"]=function($){var Q=$.klass,Re=$.const_set,je=$.send,_e=$.nil,Xe=$.$$$,ze=_e;return $.add_stubs("generator="),ze=function(){var Te=624,ye=397,W=2567483615,Be=2147483648,Pe=2147483647,qe=function(xe,$e){return xe&Be|$e&Pe},He=function(xe,$e){return qe(xe,$e)>>>1^($e&1?W:0)};function Ge(xe){var $e={left:0,next:Te,state:new Array(Te)};return Ne($e,xe),$e}function Ne(xe,$e){var pe;for(xe.state[0]=$e>>>0,pe=1;pe<Te;pe++)xe.state[pe]=1812433253*(xe.state[pe-1]^xe.state[pe-1]>>30>>>0)+pe,xe.state[pe]&=4294967295;xe.left=1,xe.next=Te}function te(xe){var $e=0,pe=xe.state,ae;for(xe.left=Te,xe.next=0,ae=Te-ye+1;--ae;$e++)pe[$e]=pe[$e+ye]^He(pe[$e+0],pe[$e+1]);for(ae=ye;--ae;$e++)pe[$e]=pe[$e+(ye-Te)]^He(pe[$e+0],pe[$e+1]);pe[$e]=pe[$e+(ye-Te)]^He(pe[$e+0],pe[0])}function Ee(xe){var $e;return--xe.left<=0&&te(xe),$e=xe.state[xe.next++],$e^=$e>>>11,$e^=$e<<7&2636928640,$e^=$e<<15&4022730752,$e^=$e>>>18,$e>>>0}function Je(xe,$e){return xe>>>=5,$e>>>=6,(xe*67108864+$e)*(1/9007199254740992)}function Le(xe){var $e=Ee(xe),pe=Ee(xe);return Je($e,pe)}return{genrand_real:Le,init:Ge}}(),function(Te,ye){var W=Q(Te,ye,"Random"),Be,Pe=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return Re(W,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*Pe)},reseed:function(qe){return ze.init(qe)},rand:function(qe){return ze.genrand_real(qe)}}),Be=[Xe(W,"MERSENNE_TWISTER_GENERATOR")],je(W,"generator=",Be),Be[Be.length-1]}("::",null)};Opal.modules["corelib/random"]=function($){var Q=$.truthy,Re=$.klass,je=$.Kernel,_e=$.defs,Xe=$.Opal,ze=$.def,Te=$.eqeqeq,ye=$.send,W=$.top,Be=$.nil,Pe=$.$$$;return $.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),W.$require("corelib/random/formatter"),function(qe,He){var Ge=Re(qe,He,"Random");return Ge.$attr_reader("seed","state"),_e(Ge,"$_verify_count",function(te){return Q(te)||(te=16),typeof te!="number"&&(te=te.$to_int()),te<0&&je.$raise(Pe("ArgumentError"),"negative string size (or size too big)"),te=Math.floor(te),te}),ze(Ge,"$initialize",function(te){var Ee=this;return te==null&&(te=Pe("Random").$new_seed()),te=Xe["$coerce_to!"](te,Pe("Integer"),"to_int"),Ee.state=te,Ee.$reseed(te)},-1),ze(Ge,"$reseed",function(te){var Ee=this;return Ee.seed=te,Ee.$rng=$.$$rand.reseed(te)}),_e(Ge,"$new_seed",function(){return $.$$rand.new_seed()}),_e(Ge,"$rand",function(te){var Ee=this;return Pe(Ee,"DEFAULT").$rand(te)},-1),_e(Ge,"$srand",function(te){var Ee=this,Je=Be;return te==null&&(te=Pe("Random").$new_seed()),te=Xe["$coerce_to!"](te,Pe("Integer"),"to_int"),Je=Pe(Ee,"DEFAULT").$seed(),Pe(Ee,"DEFAULT").$reseed(te),Je},-1),_e(Ge,"$urandom",function(te){return Pe("SecureRandom").$bytes(te)}),ze(Ge,"$==",function(te){var Ee=this,Je=Be;return Te(Pe("Random"),te)?Q(Je=Ee.$seed()["$=="](te.$seed()))?Ee.$state()["$=="](te.$state()):Je:!1}),ze(Ge,"$bytes",function(te){var Ee=this;return te=Pe("Random").$_verify_count(te),ye(Pe("Array"),"new",[te],function Je(){var Le=Je.$$s==null?this:Je.$$s;return Le.$rand(255).$chr()},{$$s:Ee}).$join().$encode("ASCII-8BIT")}),_e(Ge,"$bytes",function(te){var Ee=this;return Pe(Ee,"DEFAULT").$bytes(te)}),ze(Ge,"$rand",function(te){var Ee=this;return Ee.$random_number(te)},-1),ze(Ge,"$random_float",function(){var te=this;return te.state++,$.$$rand.rand(te.$rng)}),_e(Ge,"$random_float",function(){var te=this;return Pe(te,"DEFAULT").$random_float()}),_e(Ge,"$generator=",function(te){var Ee=this;return $.$$rand=te,Q(Ee["$const_defined?"]("DEFAULT"))?Pe(Ee,"DEFAULT").$reseed():Ee.$const_set("DEFAULT",Ee.$new(Ee.$new_seed()))})}("::",null),W.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function($){var Q=$.Kernel,Re=$.klass,je=$.send,_e=$.slice,Xe=$.module,ze=$.def,Te=$.return_val,ye=$.alias,W=$.defs,Be=$.top,Pe=[],qe=$.nil,He=$.$$$;$.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var Ge={};function Ne(Ee){switch($.config.unsupported_features_severity){case"error":Q.$raise(He("NotImplementedError"),Ee);break;case"warning":te(Ee);break}}function te(Ee){Ge[Ee]||(Ge[Ee]=!0,Be.$warn(Ee))}return function(Ee,Je){var Le=Re(Ee,Je,"String"),xe="String#%s not supported. Mutable String methods are not supported in Opal.";return je(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function $e(pe){var ae=$e.$$s==null?this:$e.$$s;return pe==null&&(pe=qe),je(ae,"define_method",[pe],function(ne){return _e(arguments),Q.$raise(He("NotImplementedError"),xe["$%"](pe))},-1)},{$$s:Le})}("::",null),function(Ee){var Je=Xe(Ee,"Kernel"),Le="Object tainting is not supported by Opal";return ze(Je,"$taint",function(){var $e=this;return Ne(Le),$e}),ze(Je,"$untaint",function(){var $e=this;return Ne(Le),$e}),ze(Je,"$tainted?",function(){return Ne(Le),!1})}("::"),function(Ee,Je){var Le=Re(Ee,Je,"Module");return ze(Le,"$public",function($e){var pe,ae,Ie=this;return pe=_e(arguments),ae=pe,ae.length===0?(Ie.$$module_function=!1,qe):ae.length===1?ae[0]:ae},-1),ze(Le,"$private_class_method",function($e){var pe,ae;return pe=_e(arguments),ae=pe,ae.length===1?ae[0]:ae},-1),ze(Le,"$private_method_defined?",Te(!1)),ze(Le,"$private_constant",function($e){return _e(arguments),qe},-1),ye(Le,"nesting","public"),ye(Le,"private","public"),ye(Le,"protected","public"),ye(Le,"protected_method_defined?","private_method_defined?"),ye(Le,"public_class_method","private_class_method"),ye(Le,"public_instance_method","instance_method"),ye(Le,"public_instance_methods","instance_methods"),ye(Le,"public_method_defined?","method_defined?")}("::",null),function(Ee){var Je=Xe(Ee,"Kernel");return ze(Je,"$private_methods",function(xe){return _e(arguments),[]},-1),ye(Je,"protected_methods","private_methods"),ye(Je,"private_instance_methods","private_methods"),ye(Je,"protected_instance_methods","private_methods")}("::"),function(Ee,Je){var Le=Xe(Ee,"Kernel"),xe=[Le].concat(Je),$e=$.$r(xe);return ze(Le,"$eval",function(ae){return _e(arguments),Q.$raise(He("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+$e("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",Pe),W(Be,"$public",function(Je){var Le,xe;return Le=_e(arguments),xe=Le,xe.length===1?xe[0]:xe},-1),W(Be,"$private",function(Je){var Le,xe;return Le=_e(arguments),xe=Le,xe.length===1?xe[0]:xe},-1)};Opal.queue(function($){var Q=$.Object;return $.nil,$.add_stubs("require,autoload"),Q.$require("opal/base"),Q.$require("opal/mini"),Q.$require("corelib/kernel/format"),Q.$require("corelib/string/encoding"),Q.$autoload("Math","corelib/math"),Q.$require("corelib/complex/base"),Q.$autoload("Complex","corelib/complex"),Q.$require("corelib/rational/base"),Q.$autoload("Rational","corelib/rational"),Q.$require("corelib/time"),Q.$autoload("Struct","corelib/struct"),Q.$autoload("Set","corelib/set"),Q.$autoload("Dir","corelib/dir"),Q.$autoload("File","corelib/file"),Q.$require("corelib/process/base"),Q.$autoload("Process","corelib/process"),Q.$autoload("Random","corelib/random"),Q.$require("corelib/unsupported")});function xr($){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var U=e.klass,B=e.defs,C=[];return e.nil,e.add_stubs("new"),function(G,u,R){var we=U(G,u,"File"),z=[we].concat(R),ce=e.$r(z);return B(we,"$read",function(Ke){var se="",Fe=-1;try{var fe=new XMLHttpRequest;fe.open("GET",Ke,!1),fe.addEventListener("load",function(){Fe=this.status,(Fe===0||Fe===200)&&(se=this.responseText)}),fe.overrideMimeType("text/plain"),fe.send()}catch(ve){throw ce("IOError").$new("Error reading file or directory: "+Ke+"; reason: "+ve.message)}if(Fe===404||Fe===0&&!se)throw ce("IOError").$new("No such file or directory: "+Ke);return se})}(C[0],null,C)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var U=e.const_set,B=e.top,C=[];e.nil,e.add_stubs("require");var G,u,R,we;return we=we||"xmlhttprequest",G=G||"browser",u=u||"",R=R||"",U(C[0],"JAVASCRIPT_IO_MODULE",we),U(C[0],"JAVASCRIPT_PLATFORM",G),U(C[0],"JAVASCRIPT_ENGINE",u),U(C[0],"JAVASCRIPT_FRAMEWORK",R),B.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var U=e.module,B=e.klass,C=e.hash2,G=e.truthy,u=e.def,R=[],we=e.nil,z=e.$$$;return e.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(ce,m){var Ke=U(ce,"Asciidoctor"),se=[Ke].concat(m);return function(Fe,fe,ve){var st=B(Fe,fe,"AbstractNode"),Se=[st].concat(ve),Oe=e.$r(Se),Ce=st.$$prototype;return Ce.document=we,u(st,"$read_contents",function(it,b){var We=this,h=we,Ve=we,rt=we;if(b==null&&(b=C([],{})),h=We.document,G(Oe("Helpers")["$uriish?"](it))||G(Ve=b["$[]"]("start"))&&G(Oe("Helpers")["$uriish?"](Ve))&&G(it=h.$path_resolver().$web_path(it,Ve)))if(G(h.$path_resolver()["$descends_from?"](it,h.$base_dir()))||G(it["$start_with?"]("chrome://"))||G(h["$attr?"]("allow-uri-read")))try{return G(b["$[]"]("normalize"))?Oe("Helpers").$prepare_source_string(z("File").$read(it)).$join(Oe("LF")):z("File").$read(it)}catch(T){if(e.rescue(T,[Oe("StandardError")]))try{return G(b.$fetch("warn_on_failure",!0))&&We.$logger().$warn("could not retrieve contents of "+(G(rt=b["$[]"]("label"))?rt:"asset")+" at URI: "+it),we}finally{e.pop_exception()}else throw T}else return G(b.$fetch("warn_on_failure",!0))&&We.$logger().$warn("cannot retrieve contents of "+(G(rt=b["$[]"]("label"))?rt:"asset")+" at URI: "+it+" (allow-uri-read attribute not enabled)"),we;else return it=We.$normalize_system_path(it,b["$[]"]("start"),we,C(["target_name"],{target_name:G(rt=b["$[]"]("label"))?rt:"asset"})),We.$read_asset(it,C(["normalize","warn_on_failure","label"],{normalize:b["$[]"]("normalize"),warn_on_failure:b.$fetch("warn_on_failure",!0),label:b["$[]"]("label")}))},-2),u(st,"$generate_data_uri_from_uri",function(it,b){var We=this,h="",Ve="",rt=-1;try{var T=new XMLHttpRequest;T.open("GET",it,!1),T.overrideMimeType("text/plain; charset=x-user-defined"),T.addEventListener("load",function(){if(rt=this.status,rt===0||rt===200){for(var k="",ke=this.responseText,O=0,ue=ke.length;O<ue;++O){var ie=ke.charCodeAt(O),H=ie&255;k+=String.fromCharCode(H)}Ve=btoa(k),h=this.getResponseHeader("content-type")}}),T.send(null),h||(it.endsWith(".jpeg")||it.endsWith(".jpg")||it.endsWith(".jpe")?h="image/jpg":it.endsWith(".png")?h="image/png":it.endsWith(".svg")?h="image/svg+xml":it.endsWith(".bmp")?h="image/bmp":(it.endsWith(".tif")||it.endsWith(".tiff"))&&(h="image/tiff"))}catch{rt=0}return rt===404||rt===0&&(!Ve||!h)?(We.$logger().$warn("could not retrieve image data from URI: "+it),it):"data:"+h+";base64,"+Ve},-2)}(se[0],null,se)}(R[0],R)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var U=e.module,B=e.slice,C=e.send,G=e.to_a,u=e.defs,R=[],we=e.nil;return e.add_stubs("new,path"),function(z,ce){var m=U(z,"OpenURI"),Ke=[m].concat(ce),se=e.$r(Ke);return u(se("OpenURI"),"$open_uri",function Fe(fe,ve){var st,Se,Oe=Fe.$$p||we,Ce=this,Ye=we;return Fe.$$p=null,st=B(arguments,1),Se=st,Ye=C(se("File"),"new",[Ce.$path()].concat(G(Se))),Oe!==we?e.yield1(Oe,Ye):Ye},-2)}(R[0],R)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var U=e.module,B=e.klass,C=e.truthy,G=e.def,u=[],R=e.nil;return e.add_stubs("absolute_path?,start_with?"),function(we,z){var ce=U(we,"Asciidoctor"),m=[ce].concat(z);return function(Ke,se){var Fe=B(Ke,se,"PathResolver");return G(Fe,"$root?",function(ve){var st=this,Se=R;return C(Se=st["$absolute_path?"](ve))?Se:ve["$start_with?"]("file://","http://","https://","chrome://")})}(m[0],null)}(u[0],u)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var U=e.module,B=e.klass,C=e.truthy,G=e.eqeq,u=e.not,R=e.def,we=[],z=e.nil;return e.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(ce,m){var Ke=U(ce,"Asciidoctor"),se=[Ke].concat(m),Fe=e.$r(se);return function(fe,ve,st){var Se=B(fe,ve,"PreprocessorReader"),Oe=[Se].concat(st),Ce=e.$r(Oe),Ye=Se.$$prototype;return Ye.path_resolver=Ye.document=Ye.include_stack=Ye.dir=z,R(Se,"$resolve_include_path",function(b,We,h){var Ve,rt=this,T=z,k=z,ke=z,O=z,ue=z,ie=z,H=z,X=z;if(T=(rt.path_resolver=C(k=rt.path_resolver)?k:Ce("PathResolver").$new("\\")).$posixify(b),Ve=["file",rt.document.$base_dir()],Ve[0],ke=Ve[1],C(T["$start_with?"]("file://")))O=ue=T;else if(C(Ce("Helpers")["$uriish?"](T))){if(!(C(rt.path_resolver["$descends_from?"](T,ke))||C(rt.document.$attributes()["$key?"]("allow-uri-read"))))return rt.$replace_next_line("link:"+b+"["+We+"]");O=ue=T}else if(C(rt.path_resolver["$absolute_path?"](T)))O=ue="file://"+(C(T["$start_with?"]("/"))?"":"/")+T;else if(G(ie=C(H=rt.include_stack["$empty?"]())?ke:rt.dir,"."))O=ue=T;else if(C(ie["$start_with?"]("file://"))||u(Ce("Helpers")["$uriish?"](ie)))O=""+ie+"/"+T,C(H)?ue=T:G(ke,".")||u(X=rt.path_resolver["$descends_from?"](O,ke))?ue=O:ue=O.$slice(X,O.$length());else if(C(H))O=""+ie+"/"+(ue=T);else if(C(X=rt.path_resolver["$descends_from?"](ie,ke))||C(rt.document.$attributes()["$key?"]("allow-uri-read")))O=""+ie+"/"+T,ue=C(X)?O.$slice(X,O.$length()):T;else return rt.$replace_next_line("link:"+b+"["+We+"]");return[O,"file",ue]})}(se[0],Fe("Reader"),se)}(we[0],we)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var U=e.eqeq,B=e.top,C=[],G=e.$r(C),u=e.nil;return e.add_stubs("==,require"),U(G("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(B.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),B.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),B.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),B.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):u},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var U=e.module,B=e.slice,C=e.send,G=e.to_a,u=e.def,R=e.return_val,we=[],z=e.nil;return e.add_stubs("new"),function(ce,m){var Ke=U(ce,"Kernel"),se=[Ke].concat(m),Fe=e.$r(se);return u(Ke,"$open",function fe(ve,st){var Se,Oe,Ce=fe.$$p||z,Ye=z;return fe.$$p=null,Se=B(arguments,1),Oe=Se,Ye=C(Fe("File"),"new",[ve].concat(G(Oe))),Ce!==z?e.yield1(Ce,Ye):Ye},-2),u(Ke,"$__dir__",R(""))}(we[0],we)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var U=e.klass,B=e.def,C=e.truthy,G=e.gvars,u=e.return_val,R=e.defs,we=[],z=e.nil;return e.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(ce,m,Ke){var se=U(ce,m,"File"),Fe=[se].concat(Ke),fe=e.$r(Fe),ve=se.$$prototype;return ve.eof=ve.path=z,se.$attr_reader("eof"),se.$attr_reader("lineno"),se.$attr_reader("path"),B(se,"$initialize",function(Se,Oe){var Ce=this,Ye=z;return Oe==null&&(Oe="r"),Ce.path=Se,Ce.contents=z,Ce.eof=!1,Ce.lineno=0,Oe=Oe.$delete("b"),Ye=/:(.*)/,Oe=Oe.$gsub(Ye,""),Ce.flags=Oe},-2),B(se,"$read",function(){var Se=this,Oe=z;return C(Se.eof)?"":(Oe=fe("File").$read(Se.path),Se.eof=!0,Se.lineno=Oe.$size(),Oe)}),B(se,"$each_line",function st(Se){var Oe=st.$$p||z,Ce=this,Ye=z;if(G["/"]==null&&(G["/"]=z),st.$$p=null,Se==null&&(Se=G["/"]),C(Ce.eof))return Oe!==z?Ce:[].$to_enum();if(Oe!==z){Ye=fe("File").$read(Ce.path),Ce.eof=!1,Ce.lineno=0;for(var it=Ye.$chomp(),b=Ye.length!=it.length,We=it.split(Se),h=0,Ve=We.length;h<Ve;h++)Ce.lineno+=1,h<Ve-1||b?e.yield1(Oe,We[h]+Se):e.yield1(Oe,We[h]);return Ce.eof=!0,Ce}else return Ce.$read().$each_line()},-1),B(se,"$readlines",function(){var Se=this;return fe("File").$readlines(Se.path)}),function(st,Se){var Oe=[st].concat(Se),Ce=e.$r(Oe);return B(st,"$readlines",function(it,b){var We=z;return G["/"]==null&&(G["/"]=z),b==null&&(b=G["/"]),We=Ce("File").$read(it),We.$split(b)},-2),B(st,"$file?",u(!0)),B(st,"$readable?",u(!0)),B(st,"$read",u(""))}(e.get_singleton_class(se),Fe)}(we[0],null,we),function(ce,m,Ke){var se=U(ce,m,"IO"),Fe=[se].concat(Ke),fe=e.$r(Fe);return R(se,"$read",function(st){return fe("File").$read(st)})}(we[0],null,we)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){var U=e.klass,B=e.send,C=e.def,G=[],u=e.nil;return e.add_stubs("[]="),function(R,we){var z=U(R,we,"MatchData"),ce=z.$$prototype;return ce.matches=u,C(z,"$[]=",function(Ke,se){var Fe,fe=this;return Fe=[Ke,se],B(fe.matches,"[]=",Fe),Fe[Fe.length-1]})}(G[0],null)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){var U=e.klass,B=e.truthy,C=e.rb_lt,G=e.def,u=e.alias,R=e.rb_ge,we=e.eqeq,z=e.rb_minus,ce=[],m=e.nil;return e.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),function(Ke,se){var Fe=U(Ke,se,"String");return B(Fe["$method_defined?"]("limit_bytesize"))||G(Fe,"$limit_bytesize",function(ve){var st=this,Se=m;return B(C(ve,st.$bytes().$length()))?(Se=st.$byteslice(0,ve),Se.$to_s()):st.$to_s()}),B(Fe["$method_defined?"]("limit"))||u(Fe,"limit","limit_bytesize"),u(Fe,"_original_byteslice","byteslice"),G(Fe,"$byteslice",function(ve,st){var Se=this;return st==null&&(st=1),we(ve,3)&&B(R(st,ve))&&B(Se.charCodeAt()===65279)?Se.substr(1).$byteslice(0,z(st,3)):Se.$_original_byteslice(ve,st)},-2),u(Fe,"_original_unpack","unpack"),G(Fe,"$unpack",function(ve){var st=this;if(we(ve,"C3")){if(B(st.charCodeAt()===65279))return[239,187,191];for(var Se=[],Oe=0;Oe<3;Oe++)Oe<st.length?Se.push(st.charCodeAt(Oe)):Se.push(m);return Se}else return st.$_original_unpack(ve)})}(ce[0],null)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){var U=e.module,B=e.defs,C=e.return_self,G=e.def,u=[];return e.nil,e.add_stubs("extend"),function(R,we){var z=U(R,"URI"),ce=[z].concat(we),m=e.$r(ce);return B(z,"$parse",function(se){return se.$extend(m("URI"))}),G(z,"$path",C)}(u[0],u)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){var U=e.module,B=e.defs,C=e.ensure_kwargs,G=e.truthy,u=[],R=e.nil;return e.add_stubs("delete"),function(we){var z=U(we,"Base64"),ce,m;return ce=e.global.btoa||function(Ke){var se;return Ke instanceof Buffer?se=Ke:se=Buffer.from(Ke.toString(),"binary"),se.toString("base64")},m=e.global.atob||function(Ke){return Buffer.from(Ke,"base64").toString("binary")},B(z,"$decode64",function(se){return m(se.replace(/\r?\n/g,""))}),B(z,"$encode64",function(se){return ce(se).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)}),B(z,"$strict_decode64",function(se){return m(se)}),B(z,"$strict_encode64",function(se){return ce(se)}),B(z,"$urlsafe_decode64",function(se){return m(se.replace(/\-/g,"+").replace(/_/g,"/"))}),B(z,"$urlsafe_encode64",function(se,Fe){var fe,ve=R;return Fe=C(Fe),fe=Fe.$$smap.padding,fe==null&&(fe=!0),ve=ce(se).replace(/\+/g,"-").replace(/\//g,"_"),G(fe)||(ve=ve.$delete("=")),ve},-2)}(u[0])},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){var U=e.klass,B=e.truthy,C=e.rb_gt,G=e.def,u=[],R=e.$r(u);return e.nil,e.add_stubs("coerce_to!,>"),function(we,z,ce){var m=U(we,z,"Number"),Ke=[m].concat(ce),se=e.$r(Ke);return G(m,"$round",function(fe){var ve=this;return fe=se("Opal")["$coerce_to!"](fe,se("Integer"),"to_int"),B(C(fe,0))?Number(ve.toFixed(fe)):Math.round(ve)},-1)}(u[0],R("Numeric"),u)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var U=e.top;e.nil,e.add_stubs("require"),U.$require("asciidoctor/js/opal_ext/kernel"),U.$require("asciidoctor/js/opal_ext/file"),U.$require("asciidoctor/js/opal_ext/match_data"),U.$require("asciidoctor/js/opal_ext/string"),U.$require("asciidoctor/js/opal_ext/uri"),U.$require("asciidoctor/js/opal_ext/base64"),U.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",U.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){var U=e.module,B=e.const_set,C=e.send,G=e.gvars,u=e.truthy,R=e.defs,we=e.rb_plus,z=[],ce=e.nil;return e.add_stubs("gsub,+,unpack_hex_range"),function(m,Ke){var se=U(m,"Asciidoctor"),Fe=[se].concat(Ke),fe=e.$r(Fe);return B(Fe[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),R(se,"$unpack_hex_range",function(st){return C(st,"gsub",[fe("HEX_RANGE_RX")],function(){var Oe,Ce=ce;return"\\u"+((Oe=G["~"])===ce?ce:Oe["$[]"](1))+(u(Ce=(Oe=G["~"])===ce?ce:Oe["$[]"](2))?"-\\u"+((Oe=G["~"])===ce?ce:Oe["$[]"](2)):Ce)})}),B(Fe[0],"P_L",we("A-Za-z",se.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),B(Fe[0],"P_Nl",se.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),B(Fe[0],"P_Nd",we("0-9",se.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),B(Fe[0],"P_Pc",se.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),B(Fe[0],"CC_ALPHA",""+fe("P_L")+fe("P_Nl")),B(Fe[0],"CG_ALPHA","["+fe("CC_ALPHA")+"]"),B(Fe[0],"CC_ALNUM",""+fe("CC_ALPHA")+fe("P_Nd")),B(Fe[0],"CG_ALNUM","["+fe("CC_ALNUM")+"]"),B(Fe[0],"CC_WORD",""+fe("CC_ALNUM")+fe("P_Pc")),B(Fe[0],"CG_WORD","["+fe("CC_WORD")+"]"),B(Fe[0],"CG_BLANK","[ \\t]"),B(Fe[0],"CC_EOL","(?=\\n|$)"),B(Fe[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),B(Fe[0],"CC_ALL","[\\s\\S]"),B(Fe[0],"CC_ANY","[^\\n]")}(z[0],z)},Opal.modules.strscan=function(e){var U=e.klass,B=e.def,C=e.truthy,G=e.eqeqeq,u=e.Opal,R=e.return_ivar,we=e.send,z=e.alias,ce=[],m=e.nil;return e.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(Ke,se,Fe){var fe=U(Ke,se,"StringScanner"),ve=[fe].concat(Fe),st=e.$r(ve),Se=fe.$$prototype;return Se.pos=Se.string=Se.working=Se.matched=Se.prev_pos=Se.match=m,fe.$attr_reader("pos","matched"),B(fe,"$initialize",function(Ce){var Ye=this;return Ye.string=Ce,Ye.pos=0,Ye.matched=m,Ye.working=Ce,Ye.match=[]}),fe.$attr_reader("string"),B(fe,"$beginning_of_line?",function(){var Ce=this;return Ce.pos===0||Ce.string.charAt(Ce.pos-1)===`
`}),B(fe,"$scan",function(Ce){var Ye=this;Ce=Ye.$anchor(Ce);var it=Ce.exec(Ye.working);return it==null?Ye.matched=m:(Ye.prev_pos=Ye.pos,Ye.pos+=it[0].length,Ye.working=Ye.working.substring(it[0].length),Ye.matched=it[0],Ye.match=it,it[0])}),B(fe,"$scan_until",function(Ce){var Ye=this;Ce=Ye.$anchor(Ce);for(var it=Ye.working,b=0;it.length!=b;++b){var We=Ce.exec(it.substr(b));if(We!==null){var h=b+We[0].length,Ve=it.substr(0,h);return Ye.matched=We[0],Ye.match=We,Ye.prev_pos=Ye.pos+b,Ye.pos+=h,Ye.working=it.substr(h),Ve}}return Ye.matched=m}),B(fe,"$[]",function(Ce){var Ye=this,it=m;if(C(Ye.match["$empty?"]()))return m;G(st("Symbol"),it=Ce)?Ce=Ce.$to_s():G(st("String"),it)||(Ce=u["$coerce_to!"](Ce,st("Integer"),"to_int"));var b=Ye.match;return Ce<0&&(Ce+=b.length),Ce<0||Ce>=b.length||b[Ce]==null?m:b[Ce]}),B(fe,"$check",function(Ce){var Ye=this;Ce=Ye.$anchor(Ce);var it=Ce.exec(Ye.working);return it==null?Ye.matched=m:Ye.matched=it[0]}),B(fe,"$check_until",function(Ce){var Ye=this,it=Ye.prev_pos,b=Ye.pos,We=Ye.working,h=Ye.$scan_until(Ce);return Ye.prev_pos=it,Ye.pos=b,Ye.working=We,h}),B(fe,"$peek",function(Ce){var Ye=this;return Ye.working.substring(0,Ce)}),B(fe,"$eos?",function(){var Ce=this;return Ce.working.length===0}),B(fe,"$exist?",function(Ce){var Ye=this,it=Ce.exec(Ye.working);return it==null?m:it.index==0?0:it.index+1}),B(fe,"$skip",function(Ce){var Ye=this;Ce=Ye.$anchor(Ce);var it=Ce.exec(Ye.working);if(it==null)return Ye.match=[],Ye.matched=m;var b=it[0],We=b.length;return Ye.matched=b,Ye.match=it,Ye.prev_pos=Ye.pos,Ye.pos+=We,Ye.working=Ye.working.substring(We),We}),B(fe,"$skip_until",function(Ce){var Ye=this,it=Ye.$scan_until(Ce);return it===m?m:(Ye.matched=it.substr(-1),it.length)}),B(fe,"$get_byte",function(){var Ce=this,Ye=m;return Ce.pos<Ce.string.length?(Ce.prev_pos=Ce.pos,Ce.pos+=1,Ye=Ce.matched=Ce.working.substring(0,1),Ce.working=Ce.working.substring(1)):Ce.matched=m,Ye}),B(fe,"$match?",function(Ce){var Ye=this;Ce=Ye.$anchor(Ce);var it=Ce.exec(Ye.working);return it==null?m:(Ye.prev_pos=Ye.pos,it[0].length)}),B(fe,"$pos=",function(Ce){var Ye=this;return Ce<0&&(Ce+=Ye.string.$length()),Ye.pos=Ce,Ye.working=Ye.string.slice(Ce)}),B(fe,"$matched_size",function(){var Ce=this;return Ce.matched===m?m:Ce.matched.length}),B(fe,"$post_match",function(){var Ce=this;return Ce.matched===m?m:Ce.string.substr(Ce.pos)}),B(fe,"$pre_match",function(){var Ce=this;return Ce.matched===m?m:Ce.string.substr(0,Ce.prev_pos)}),B(fe,"$reset",function(){var Ce=this;return Ce.working=Ce.string,Ce.matched=m,Ce.pos=0}),B(fe,"$rest",R("working")),B(fe,"$rest?",function(){var Ce=this;return Ce.working.length!==0}),B(fe,"$rest_size",function(){var Ce=this;return Ce.$rest().$size()}),B(fe,"$terminate",function(){var Ce,Ye=this;return Ye.match=m,Ce=[Ye.string.$length()],we(Ye,"pos=",Ce),Ce[Ce.length-1]}),B(fe,"$unscan",function(){var Ce=this;return Ce.pos=Ce.prev_pos,Ce.prev_pos=m,Ce.match=m,Ce}),z(fe,"bol?","beginning_of_line?"),z(fe,"getch","get_byte"),fe.$private(),B(fe,"$anchor",function(Ce){var Ye=Ce.toString().match(/\/([^\/]+)$/);return Ye=Ye?Ye[1]:void 0,new RegExp("^(?:"+Ce.source+")",Ye)})}(ce[0],null,ce)},Opal.modules["asciidoctor/js"]=function(e){var U=e.top;return e.nil,e.add_stubs("require"),U.$require("asciidoctor/js/opal_ext"),U.$require("asciidoctor/js/rx"),U.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var U=e.klass,B=e.truthy,C=e.alias,G=[],u=e.nil;return e.add_stubs("method_defined?,nil?,empty?"),function(R,we){var z=U(R,we,"NilClass");return B(z["$method_defined?"]("nil_or_empty?"))?u:C(z,"nil_or_empty?","nil?")}(G[0],null),function(R,we){var z=U(R,we,"String");return B(z["$method_defined?"]("nil_or_empty?"))?u:C(z,"nil_or_empty?","empty?")}(G[0],null),function(R,we){var z=U(R,we,"Array");return B(z["$method_defined?"]("nil_or_empty?"))?u:C(z,"nil_or_empty?","empty?")}(G[0],null),function(R,we){var z=U(R,we,"Hash");return B(z["$method_defined?"]("nil_or_empty?"))?u:C(z,"nil_or_empty?","empty?")}(G[0],null),function(R,we){var z=U(R,we,"Numeric");return B(z["$method_defined?"]("nil_or_empty?"))?u:C(z,"nil_or_empty?","nil?")}(G[0],null)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){var U=e.eqeq,B=e.send,C=e.slice,G=e.truthy,u=e.rb_lt,R=e.rb_gt,we=e.send2,z=e.find_super,ce=e.def,m=e.top,Ke=[],se=e.$r(Ke),Fe=e.nil;return e.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),U(se("Hash").$instance_method("merge").$arity(),1)?se("Hash").$send("prepend",B(se("Module"),"new",[],function fe(){var ve=fe.$$s==null?this:fe.$$s;return ce(ve,"$merge",function st(Se){var Oe,Ce;st.$$p;var Ye=this,it=Fe;return st.$$p=null,Oe=C(arguments),Ce=Oe,G(u(it=Ce.$length(),1))?Ye.$dup():G(R(it,1))?B(Ce,"inject",[Ye],function(We,h){return We==null&&(We=Fe),h==null&&(h=Fe),We.$merge(h)}):we(Ye,z(Ye,"merge",st,!1,!0),"merge",[Ce["$[]"](0)],null)},-1)},{$$s:m})):Fe},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){var U=e.truthy,B=e.klass,C=e.def,G=[],u=e.$r(G),R=e.nil;return e.add_stubs("method_defined?"),U(u("MatchData")["$method_defined?"]("names"))?R:function(we,z){var ce=B(we,z,"MatchData");return C(ce,"$names",function(){return[]})}(G[0],null)},Opal.modules["asciidoctor/core_ext"]=function(e){var U=e.top;return e.nil,U.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),U.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),U.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(e){var U=e.module,B=e.truthy,C=e.eqeq,G=e.gvars,u=e.def,R=e.send,we=e.neqeq,z=e.const_set,ce=e.hash2,m=e.to_ary,Ke=e.rb_times,se=e.eqeqeq,Fe=e.rb_plus,fe=e.Class,ve=e.Object,st=[],Se=e.nil,Oe=e.$$$;return e.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(Ce,Ye){var it=U(Ce,"Asciidoctor"),b=[it].concat(Ye);return function(We,h){var Ve=U(We,"Helpers"),rt=[Ve].concat(h),T=e.$r(rt);return Ve.$module_function(),u(Ve,"$require_library",function(ke,O,ue){var ie=this,H=Se;G["!"]==null&&(G["!"]=Se),O==null&&(O=!0),ue==null&&(ue="abort");try{return ie.$require(ke)}catch(X){if(e.rescue(X,[Oe("LoadError")]))try{if(B(ie["$include?"](T("Logging")))||ie.$include(T("Logging")),B(O))switch(C(O,!0)&&(O=ke),ue){case"abort":H=C(G["!"].$path(),O)?"":" (reason: "+(B(G["!"].$path())?"cannot load '"+G["!"].$path()+"'":G["!"].$message())+")",ie.$raise(Oe("LoadError"),"asciidoctor: FAILED: required gem '"+O+"' is not available"+H+". Processing aborted.");break;case"warn":H=C(G["!"].$path(),O)?"":" (reason: "+(B(G["!"].$path())?"cannot load '"+G["!"].$path()+"'":G["!"].$message())+")",ie.$logger().$warn("optional gem '"+O+"' is not available"+H+". Functionality disabled.");break;default:}else switch(ue){case"abort":ie.$raise(Oe("LoadError"),"asciidoctor: FAILED: "+G["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":ie.$logger().$warn(""+G["!"].$message().$chomp(".")+". Functionality disabled.");break;default:}return Se}finally{e.pop_exception()}else throw X}},-2),u(Ve,"$prepare_source_array",function(ke,O){var ue=Se,ie=Se,H=Se;return O==null&&(O=!0),B(ke["$empty?"]())?[]:C(ue=(ie=(H=ke["$[]"](0)).$unpack("C3")).$slice(0,2),T("BOM_BYTES_UTF_16LE"))?(ke["$[]="](0,H.$byteslice(2,H.$bytesize())),B(O)?R(ke,"map",[],function(F){return F==null&&(F=Se),F.$encode(T("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")).$rstrip()}):R(ke,"map",[],function(F){return F==null&&(F=Se),F.$encode(T("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")).$chomp()})):C(ue,T("BOM_BYTES_UTF_16BE"))?(ke["$[]="](0,H.$byteslice(2,H.$bytesize())),B(O)?R(ke,"map",[],function(F){return F==null&&(F=Se),F.$encode(T("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")).$rstrip()}):R(ke,"map",[],function(F){return F==null&&(F=Se),F.$encode(T("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")).$chomp()})):(C(ie,T("BOM_BYTES_UTF_8"))&&ke["$[]="](0,H.$byteslice(3,H.$bytesize())),C(H.$encoding(),T("UTF_8"))?B(O)?R(ke,"map",[],function(F){return F==null&&(F=Se),F.$rstrip()}):R(ke,"map",[],function(F){return F==null&&(F=Se),F.$chomp()}):B(O)?R(ke,"map",[],function(F){return F==null&&(F=Se),F.$encode(T("UTF_8")).$rstrip()}):R(ke,"map",[],function(F){return F==null&&(F=Se),F.$encode(T("UTF_8")).$chomp()}))},-2),u(Ve,"$prepare_source_string",function(ke,O){var ue=Se,ie=Se;return O==null&&(O=!0),B(ke["$nil_or_empty?"]())?[]:(C(ue=(ie=ke.$unpack("C3")).$slice(0,2),T("BOM_BYTES_UTF_16LE"))?ke=ke.$byteslice(2,ke.$bytesize()).$encode(T("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")):C(ue,T("BOM_BYTES_UTF_16BE"))?ke=ke.$byteslice(2,ke.$bytesize()).$encode(T("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")):C(ie,T("BOM_BYTES_UTF_8"))?(ke=ke.$byteslice(3,ke.$bytesize()),C(ke.$encoding(),T("UTF_8"))||(ke=ke.$encode(T("UTF_8")))):we(ke.$encoding(),T("UTF_8"))&&(ke=ke.$encode(T("UTF_8"))),B(O)?R([],"tap",[],function(X){return X==null&&(X=Se),R(ke,"each_line",[],function(E){return E==null&&(E=Se),X["$<<"](E.$rstrip())})}):R([],"tap",[],function(X){return X==null&&(X=Se),R(ke,"each_line",[],function(E){return E==null&&(E=Se),X["$<<"](E.$chomp())})}))},-2),C(Oe("RUBY_ENGINE"),"jruby")?u(Ve,"$uriish?",function(ke){var O=Se,ue=Se;return B(O=B(ue=ke["$include?"](":"))?ke["$start_with?"]("uri:classloader:")["$!"]():ue)?T("UriSniffRx")["$match?"](ke):O}):u(Ve,"$uriish?",function(ke){var O=Se;return B(O=ke["$include?"](":"))?T("UriSniffRx")["$match?"](ke):O}),u(Ve,"$encode_uri_component",function(ke){return encodeURIComponent(ke).replace(/%20|[!'()*]/g,function(O){return O==="%20"?"+":"%"+O.charCodeAt(0).toString(16)})}),u(Ve,"$encode_spaces_in_uri",function(ke){return B(ke["$include?"](" "))?ke.$gsub(" ","%20"):ke}),u(Ve,"$rootname",function(ke){var O=Se;return B(O=ke.$rindex("."))?B(ke.$index("/",O))?ke:ke.$slice(0,O):ke}),u(Ve,"$basename",function(ke,O){var ue=this;return O==null&&(O=Se),B(O)?Oe("File").$basename(ke,C(O,!0)?ue.$extname(ke):O):Oe("File").$basename(ke)},-2),u(Ve,"$extname?",function(ke){var O=Se,ue=Se;return B(O=ue=ke.$rindex("."))?ke.$index("/",ue)["$!"]():O}),B(Oe(Oe("File"),"ALT_SEPARATOR"))?u(Ve,"$extname",function(ke,O){var ue=Se;return O==null&&(O=""),B(ue=ke.$rindex("."))?B(ke.$index("/",ue))||B(ke.$index(Oe(Oe("File"),"ALT_SEPARATOR"),ue))?O:ke.$slice(ue,ke.$length()):O},-2):u(Ve,"$extname",function(ke,O){var ue=Se;return O==null&&(O=""),B(ue=ke.$rindex("."))?B(ke.$index("/",ue))?O:ke.$slice(ue,ke.$length()):O},-2),u(Ve,"$mkdir_p",function(ke){var O=this,ue=Se;if(B(Oe("File")["$directory?"](ke)))return Se;C(ue=Oe("File").$dirname(ke),".")||O.$mkdir_p(ue);try{return Oe("Dir").$mkdir(ke)}catch(ie){if(e.rescue(ie,[Oe("SystemCallError")]))try{return B(Oe("File")["$directory?"](ke))?Se:O.$raise()}finally{e.pop_exception()}else throw ie}}),z(rt[0],"ROMAN_NUMERALS",ce(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),Ve.$private_constant("ROMAN_NUMERALS"),u(Ve,"$int_to_roman",function(ke){return R(T("ROMAN_NUMERALS"),"map",[],function(ue,ie){var H,X,F=Se;return ue==null&&(ue=Se),ie==null&&(ie=Se),X=ke.$divmod(ie),H=m(X),F=H[0]==null?Se:H[0],ke=H[1]==null?Se:H[1],Ke(ue,F)}).$join()}),u(Ve,"$nextval",function(ke){var O=Se;return se(Oe("Integer"),ke)?Fe(ke,1):C((O=ke.$to_i()).$to_s(),ke.$to_s())?Fe(O,1):ke.$succ()}),u(Ve,"$resolve_class",function(ke){var O=this;return se(fe,ke)?ke:se(Oe("String"),ke)?O.$class_for_name(ke):Se}),u(Ve,"$class_for_name",function(ke){var O=this,ue=Se;try{return se(fe,ue=ve.$const_get(ke,!1))||O.$raise(),ue}catch(ie){if(e.rescue(ie,[T("StandardError")]))try{return O.$raise(Oe("NameError"),"Could not resolve class for name: "+ke)}finally{e.pop_exception()}else throw ie}})}(b[0],b)}(st[0],st)},Opal.modules.logger=function(e){var U=e.klass,B=e.module,C=e.const_set,G=e.send,u=e.def,R=e.eqeqeq,we=e.rb_plus,z=e.truthy,ce=e.rb_le,m=e.rb_lt,Ke=[],se=e.nil,Fe=e.$$$;return e.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(fe,ve,st){var Se=U(fe,ve,"Logger"),Oe=[Se].concat(st),Ce=e.$r(Oe),Ye=Se.$$prototype;return Ye.level=Ye.progname=Ye.pipe=Ye.formatter=se,function(it,b){var We=B(it,"Severity"),h=[We].concat(b);return C(h[0],"DEBUG",0),C(h[0],"INFO",1),C(h[0],"WARN",2),C(h[0],"ERROR",3),C(h[0],"FATAL",4),C(h[0],"UNKNOWN",5)}(Oe[0],Oe),Se.$include(Ce("Severity")),C(Oe[0],"SEVERITY_LABELS",G(Ce("Severity").$constants(),"map",[],function(b){return b==null&&(b=se),[Ce("Severity").$const_get(b),b.$to_s()]}).$to_h()),function(it,b,We){var h=U(it,b,"Formatter"),Ve=[h].concat(We),rt=e.$r(Ve);return C(Ve[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),C(Ve[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),u(h,"$call",function(k,ke,O,ue){var ie=this;return ie.$format(rt("MESSAGE_FORMAT"),k.$chr(),ke.$strftime(rt("DATE_TIME_FORMAT")),k,O,ie.$message_as_string(ue))}),u(h,"$message_as_string",function(k){var ke=se,O=se;return R(Fe("String"),ke=k)?k:R(Fe("Exception"),ke)?we(""+k.$message()+" ("+k.$class()+`)
`,(z(O=k.$backtrace())?O:[]).$join(`
`)):k.$inspect()})}(Oe[0],null,Oe),Se.$attr_reader("level"),Se.$attr_accessor("progname"),Se.$attr_accessor("formatter"),u(Se,"$initialize",function(b){var We=this;return We.pipe=b,We.level=Ce("DEBUG"),We.formatter=Ce("Formatter").$new()}),u(Se,"$level=",function(b){var We=this,h=se;return R(Fe("Integer"),b)?We.level=b:z(h=Ce("SEVERITY_LABELS").$key(b.$to_s().$upcase()))?We.level=h:We.$raise(Ce("ArgumentError"),"invalid log level: "+b)}),u(Se,"$info",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Ce("INFO"),se,b],We.$to_proc())},-1),u(Se,"$debug",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Ce("DEBUG"),se,b],We.$to_proc())},-1),u(Se,"$warn",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Ce("WARN"),se,b],We.$to_proc())},-1),u(Se,"$error",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Ce("ERROR"),se,b],We.$to_proc())},-1),u(Se,"$fatal",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Ce("FATAL"),se,b],We.$to_proc())},-1),u(Se,"$unknown",function it(b){var We=it.$$p||se,h=this;return it.$$p=null,b==null&&(b=se),G(h,"add",[Ce("UNKNOWN"),se,b],We.$to_proc())},-1),u(Se,"$info?",function(){var b=this;return ce(b.level,Ce("INFO"))}),u(Se,"$debug?",function(){var b=this;return ce(b.level,Ce("DEBUG"))}),u(Se,"$warn?",function(){var b=this;return ce(b.level,Ce("WARN"))}),u(Se,"$error?",function(){var b=this;return ce(b.level,Ce("ERROR"))}),u(Se,"$fatal?",function(){var b=this;return ce(b.level,Ce("FATAL"))}),u(Se,"$add",function it(b,We,h){var Ve=it.$$p||se,rt=this,T=se;return it.$$p=null,We==null&&(We=se),h==null&&(h=se),z(m(b=z(T=b)?T:Ce("UNKNOWN"),rt.level))||(h=z(T=h)?T:rt.progname,z(We)||(Ve!==se?We=e.yieldX(Ve,[]):(We=h,h=rt.progname)),rt.pipe.$write(rt.formatter.$call(z(T=Ce("SEVERITY_LABELS")["$[]"](b))?T:"ANY",Fe("Time").$now(),h,We))),!0},-2)}(Ke[0],null,Ke)},Opal.modules["asciidoctor/logging"]=function(e){var U=e.module,B=e.klass,C=e.slice,G=e.send2,u=e.find_super,R=e.to_a,we=e.send,z=e.def,ce=e.truthy,m=e.rb_gt,Ke=e.const_set,se=e.hash2,Fe=e.eqeqeq,fe=e.gvars,ve=e.alias,st=e.defs,Se=e.top,Oe=[],Ce=e.nil,Ye=e.$$$;return e.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),Se.$require("logger"),function(it,b){var We=U(it,"Asciidoctor"),h=[We].concat(b);return function(Ve,rt,T){var k=B(Ve,rt,"Logger"),ke=[k].concat(T),O=e.$r(ke),ue=k.$$prototype;return ue.max_severity=Ce,k.$attr_reader("max_severity"),z(k,"$initialize",function ie(H){var X,F,E,x=ie.$$p||Ce,M=this;return ie.$$p=null,X=C(arguments),F=X,G(M,u(M,"initialize",ie,!1,!0),"initialize",R(F),x),M["$progname="]("asciidoctor"),M["$formatter="](O("BasicFormatter").$new()),E=[O("WARN")],we(M,"level=",E),E[E.length-1]},-1),z(k,"$add",function ie(H,X,F){var E=ie.$$p||Ce,x=this,M=Ce;return ie.$$p=null,X==null&&(X=Ce),F==null&&(F=Ce),ce(m(H=ce(M=H)?M:O("UNKNOWN"),x.max_severity=ce(M=x.max_severity)?M:H))&&(x.max_severity=H),G(x,u(x,"add",ie,!1,!0),"add",[H,X,F],E)},-2),function(ie,H,X){var F=B(ie,H,"BasicFormatter"),E=[F].concat(X),x=e.$r(E);return Ke(E[0],"SEVERITY_LABEL_SUBSTITUTES",se(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),z(F,"$call",function(D,Y,q,l){var t=Ce;return""+q+": "+(ce(t=x("SEVERITY_LABEL_SUBSTITUTES")["$[]"](D))?t:D)+": "+(Fe(Ye("String"),l)?l:l.$inspect())+x("LF")})}(ke[0],O("Formatter"),ke),function(ie){var H=U(ie,"AutoFormattingMessage");return z(H,"$inspect",function(){var F=this,E=Ce;return ce(E=F["$[]"]("source_location"))?""+E+": "+F["$[]"]("text"):F["$[]"]("text")})}(ke[0])}(h[0],Ye("Logger"),h),function(Ve,rt,T){var k=B(Ve,rt,"MemoryLogger"),ke=[k].concat(T),O=e.$r(ke),ue=k.$$prototype;return ue.messages=Ce,Ke(ke[0],"SEVERITY_SYMBOL_BY_VALUE",we(O("Severity").$constants(!1),"map",[],function(H){return H==null&&(H=Ce),[O("Severity").$const_get(H),H]}).$to_h()),k.$attr_reader("messages"),z(k,"$initialize",function(){var H=this;return H["$level="](O("WARN")),H.messages=[]}),z(k,"$add",function ie(H,X,F){var E=ie.$$p||Ce,x=this,M=Ce;return ie.$$p=null,X==null&&(X=Ce),F==null&&(F=Ce),X=ce(M=X)?M:E!==Ce?e.yieldX(E,[]):F,x.messages["$<<"](se(["severity","message"],{severity:O("SEVERITY_SYMBOL_BY_VALUE")["$[]"](ce(M=H)?M:O("UNKNOWN")),message:X})),!0},-2),z(k,"$clear",function(){var H=this;return H.messages.$clear()}),z(k,"$empty?",function(){var H=this;return H.messages["$empty?"]()}),z(k,"$max_severity",function(){var H=this;return ce(H["$empty?"]())?Ce:we(H.messages,"map",[],function(F){return F==null&&(F=Ce),O("Severity").$const_get(F["$[]"]("severity"))}).$max()})}(h[0],Ye("Logger"),h),function(Ve,rt,T){var k=B(Ve,rt,"NullLogger"),ke=[k].concat(T),O=e.$r(ke),ue=k.$$prototype;return ue.max_severity=Ce,k.$attr_reader("max_severity"),z(k,"$initialize",function(){var H,X=this;return H=[O("WARN")],we(X,"level=",H),H[H.length-1]}),z(k,"$add",function(H,X,F){var E=this,x=Ce;return ce(m(H=ce(x=H)?x:O("UNKNOWN"),E.max_severity=ce(x=E.max_severity)?x:H))&&(E.max_severity=H),!0},-2)}(h[0],Ye("Logger"),h),function(Ve,rt){var T=U(Ve,"LoggerManager"),k=[T].concat(rt),ke=e.$r(k);return T.logger_class=ke("Logger"),function(O,ue){return O.$attr_accessor("logger_class"),z(O,"$logger",function(H){var X=this,F=Ce;return X.logger==null&&(X.logger=Ce),X.logger_class==null&&(X.logger_class=Ce),fe.stderr==null&&(fe.stderr=Ce),H==null&&(H=fe.stderr),X.$memoize_logger(),X.logger=ce(F=X.logger)?F:X.logger_class.$new(H)},-1),z(O,"$logger=",function(H){var X=this,F=Ce;return X.logger_class==null&&(X.logger_class=Ce),fe.stderr==null&&(fe.stderr=Ce),X.logger=ce(F=H)?F:X.logger_class.$new(fe.stderr)}),O.$private(),z(O,"$memoize_logger",function(){var H=this;return function(X,F){return ve(X,"logger","logger"),X.$attr_reader("logger")}(e.get_singleton_class(H))})}(e.get_singleton_class(T))}(h[0],h),function(Ve,rt){var T=U(Ve,"Logging"),k=[T].concat(rt),ke=e.$r(k);return st(T,"$included",function(ue){return ue.$extend(ke("Logging"))}),T.$private_class_method("included"),z(T,"$logger",function(){return ke("LoggerManager").$logger()}),z(T,"$message_with_context",function(ue,ie){return ie==null&&(ie=se([],{})),se(["text"],{text:ue}).$merge(ie).$extend(Ye(ke("Logger"),"AutoFormattingMessage"))},-2)}(h[0],h)}(Oe[0],Oe)},Opal.modules["asciidoctor/rx"]=function(e){var U=e.module,B=e.const_set,C=e.regexp,G=e.hash2,u=e.send,R=e.truthy,we=e.hash,z=[],ce=e.nil,m=e.$$$;return e.add_stubs("join,to_a,new,[]=,empty?,escape"),function(Ke,se){var Fe=U(Ke,"Asciidoctor"),fe=[Fe].concat(se),ve=e.$r(fe);return U(fe[0],"Rx"),B(fe[0],"AuthorInfoLineRx",C(["^(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*)(?: +(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*))?(?: +(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),B(fe[0],"AuthorDelimiterRx",/;(?: |$)/),B(fe[0],"RevisionInfoLineRx",C(["^(?:[^\\d{]*(",ve("CC_ANY"),"*?),)? *(?!:)(",ve("CC_ANY"),"*?)(?: *(?!^),?: *(",ve("CC_ANY"),"*))?$"])),B(fe[0],"ManpageTitleVolnumRx",C(["^(",ve("CC_ANY"),"+?) *\\( *(",ve("CC_ANY"),"+?) *\\)$"])),B(fe[0],"ManpageNamePurposeRx",C(["^(",ve("CC_ANY"),"+?) +- +(",ve("CC_ANY"),"+)$"])),B(fe[0],"ConditionalDirectiveRx",C(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",ve("CC_ANY"),"+)?\\]$"])),B(fe[0],"EvalExpressionRx",C(["^(",ve("CC_ANY"),"+?) *([=!><]=|[><]) *(",ve("CC_ANY"),"+)$"])),B(fe[0],"IncludeDirectiveRx",C(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",ve("CC_ANY"),"+)?\\]$"])),B(fe[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),B(fe[0],"AttributeEntryRx",C(["^:(!?",ve("CG_WORD"),"[^:]*):(?:[ \\t]+(",ve("CC_ANY"),"*))?$"])),B(fe[0],"InvalidAttributeNameCharsRx",C(["[^",ve("CC_WORD"),"-]"])),B(fe[0],"AttributeEntryPassMacroRx",C(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",ve("CC_ALL"),"*)\\]$"])),B(fe[0],"AttributeReferenceRx",C(["(\\\\)?\\{(",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*|(set|counter2?):",ve("CC_ANY"),"+?)(\\\\)?\\}"])),B(fe[0],"BlockAnchorRx",C(["^\\[\\[(?:|([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+))?)\\]\\]$"])),B(fe[0],"BlockAttributeListRx",C(["^\\[(|[",ve("CC_WORD"),`.#%{,"']`,ve("CC_ANY"),"*)\\]$"])),B(fe[0],"BlockAttributeLineRx",C(["^\\[(?:|[",ve("CC_WORD"),`.#%{,"']`,ve("CC_ANY"),"*|\\[(?:|[",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*(?:, *",ve("CC_ANY"),"+)?)\\])\\]$"])),B(fe[0],"BlockTitleRx",C(["^\\.(\\.?[^ \\t.]",ve("CC_ANY"),"*)$"])),B(fe[0],"AdmonitionParagraphRx",C(["^(",ve("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),B(fe[0],"LiteralParagraphRx",C(["^([ \\t]+",ve("CC_ANY"),"*)$"])),B(fe[0],"AtxSectionTitleRx",C(["^(=={0,5})[ \\t]+(",ve("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),B(fe[0],"ExtAtxSectionTitleRx",C(["^(=={0,5}|#\\#{0,5})[ \\t]+(",ve("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),B(fe[0],"SetextSectionTitleRx",C(["^((?!\\.)",ve("CC_ANY"),"*?",ve("CG_ALNUM"),ve("CC_ANY"),"*)$"])),B(fe[0],"InlineSectionAnchorRx",C([" (\\\\)?\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+))?\\]\\]$"])),B(fe[0],"InvalidSectionIdCharsRx",C(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",ve("CC_WORD"),"\\-.]+?"])),B(fe[0],"SectionLevelStyleRx",/^sect\d$/),B(fe[0],"AnyListRx",C(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",ve("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),B(fe[0],"UnorderedListRx",C(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",ve("CC_ANY"),"*)$"])),B(fe[0],"OrderedListRx",C(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",ve("CC_ANY"),"*)$"])),B(fe[0],"OrderedListMarkerRxMap",G(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),B(fe[0],"DescriptionListRx",C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"])),B(fe[0],"DescriptionListSiblingRx",G(["::",":::","::::",";;"],{"::":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),":::":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),"::::":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),";;":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"])})),B(fe[0],"CalloutListRx",C(["^<(\\d+|\\.)>[ \\t]+(",ve("CC_ANY"),"*)$"])),B(fe[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),B(fe[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),B(fe[0],"CalloutExtractRxMap",u(m("Hash"),"new",[],function(Se,Oe){var Ce;return Se==null&&(Se=ce),Oe==null&&(Oe=ce),Ce=[Oe,C(["(",R(Oe["$empty?"]())?"":""+m("Regexp").$escape(Oe)+" ?",")?",ve("CalloutExtractRxt")])],u(Se,"[]=",Ce),Ce[Ce.length-1]})),B(fe[0],"CalloutScanRx",C(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",ve("CC_EOL"),")"])),B(fe[0],"CalloutSourceRx",C(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",ve("CC_EOL"),")"])),B(fe[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+ve("CC_EOL")+")"),B(fe[0],"CalloutSourceRxMap",u(m("Hash"),"new",[],function(Se,Oe){var Ce;return Se==null&&(Se=ce),Oe==null&&(Oe=ce),Ce=[Oe,C(["(",R(Oe["$empty?"]())?"":""+m("Regexp").$escape(Oe)+" ?",")?",ve("CalloutSourceRxt")])],u(Se,"[]=",Ce),Ce[Ce.length-1]})),B(fe[0],"ListRxMap",G(["ulist","olist","dlist","colist"],{ulist:ve("UnorderedListRx"),olist:ve("OrderedListRx"),dlist:ve("DescriptionListRx"),colist:ve("CalloutListRx")})),B(fe[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),B(fe[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),B(fe[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),B(fe[0],"CustomBlockMacroRx",C(["^(",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*)::(|\\S|\\S",ve("CC_ANY"),"*?\\S)\\[(",ve("CC_ANY"),"+)?\\]$"])),B(fe[0],"BlockMediaMacroRx",C(["^(image|video|audio)::(\\S|\\S",ve("CC_ANY"),"*?\\S)\\[(",ve("CC_ANY"),"+)?\\]$"])),B(fe[0],"BlockTocMacroRx",C(["^toc::\\[(",ve("CC_ANY"),"+)?\\]$"])),B(fe[0],"InlineAnchorRx",C(["(\\\\)?(?:\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]|anchor:([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",ve("CC_ANY"),"*?[^\\\\])\\]))"])),B(fe[0],"InlineAnchorScanRx",C(["(?:^|[^\\\\\\[])\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",ve("CC_ANY"),"*?[^\\\\])\\])"])),B(fe[0],"LeadingInlineAnchorRx",C(["^\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]"])),B(fe[0],"InlineBiblioAnchorRx",C(["^\\[\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]\\]"])),B(fe[0],"InlineEmailRx",C(["([\\\\>:/])?",ve("CG_WORD"),"(?:&amp;|[",ve("CC_WORD"),"\\-.%+])*@",ve("CG_ALNUM"),"[",ve("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),B(fe[0],"InlineFootnoteMacroRx",C(["\\\\?footnote(?:(ref):|:([",ve("CC_WORD"),"-]+)?)\\[(?:|(",ve("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),B(fe[0],"InlineImageMacroRx",C(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),B(fe[0],"InlineIndextermMacroRx",C(["\\\\?(?:(indexterm2?):\\[(",ve("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",ve("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),B(fe[0],"InlineKbdBtnMacroRx",C(["(\\\\)?(kbd|btn):\\[(",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),B(fe[0],"InlineLinkRx",C(["(^|link:|",ve("CG_BLANK"),`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|`,ve("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),B(fe[0],"InlineLinkMacroRx",C(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),B(fe[0],"MacroNameRx",C(["^",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*$"])),B(fe[0],"InlineStemMacroRx",C(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),B(fe[0],"InlineMenuMacroRx",C(["\\\\?menu:(",ve("CG_WORD"),"|[",ve("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",ve("CC_ALL"),"*?[^\\\\]))\\]"],"m")),B(fe[0],"InlineMenuRx",C(['\\\\?"([',ve("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),B(fe[0],"InlinePassRx",we(!1,["+","-]",C(["((?:^|[^",ve("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",ve("CC_ALL"),"*?\\S)\\7)(?!",ve("CG_WORD"),")"],"m")],!0,["`",ce,C(["(^|[^`",ve("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",ve("CC_ALL"),"*?\\S)\\7)(?![`",ve("CC_WORD"),"])"],"m")])),B(fe[0],"InlinePassMacroRx",C(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",ve("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",ve("CC_ALL"),"*?[^\\\\])\\])"],"m")),B(fe[0],"InlineXrefMacroRx",C(["\\\\?(?:&lt;&lt;([",ve("CC_WORD"),"#/.:{]",ve("CC_ALL"),"*?)&gt;&gt;|xref:([",ve("CC_WORD"),"#/.:{]",ve("CC_ALL"),"*?)\\[(?:\\]|(",ve("CC_ALL"),"*?[^\\\\])\\]))"],"m")),B(fe[0],"HardLineBreakRx",C(["^(",ve("CC_ANY"),"*) \\+$"],"m")),B(fe[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),B(fe[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),B(fe[0],"BlankLineRx",/\n{2,}/),B(fe[0],"EscapedSpaceRx",/\\([ \t\n])/),B(fe[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),B(fe[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),B(fe[0],"SubModifierSniffRx",/[+-]/),B(fe[0],"TrailingDigitsRx",/\d+$/),B(fe[0],"UriSniffRx",C(["^",ve("CG_ALPHA"),"[",ve("CC_ALNUM"),".+-]+:/{0,2}"])),B(fe[0],"XmlSanitizeRx",/<[^>]+>/)}(z[0],z)},Opal.modules["asciidoctor/substitutors"]=function(e){var U=e.module,B=e.const_set,C=e.hash2,G=e.hash,u=e.rb_plus,R=e.regexp,we=e.not,z=e.truthy,ce=e.send,m=e.def,Ke=e.alias,se=e.gvars,Fe=e.eqeq,fe=e.to_ary,ve=e.neqeq,st=e.to_a,Se=e.eqeqeq,Oe=e.rb_gt,Ce=e.slice,Ye=e.rb_minus,it=e.rb_lt,b=e.rb_times,We=[],h=e.nil,Ve=e.$$$;return e.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(rt,T){var k=U(rt,"Asciidoctor"),ke=[k].concat(T);return function(O,ue){var ie=U(O,"Substitutors"),H=[ie].concat(ue),X=e.$r(H);return B(H[0],"SpecialCharsRx",/[<&>]/),B(H[0],"SpecialCharsTr",C([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),B(H[0],"QuotedTextSniffRx",G(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),B(H[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),B(H[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),B(H[0],"NO_SUBS",[]).$freeze(),B(H[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),B(H[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),B(H[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),B(H[0],"SUB_GROUPS",C(["none","normal","verbatim","specialchars"],{none:X("NO_SUBS"),normal:X("NORMAL_SUBS"),verbatim:X("VERBATIM_SUBS"),specialchars:X("BASIC_SUBS")})),B(H[0],"SUB_HINTS",C(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),B(H[0],"SUB_OPTIONS",C(["block","inline"],{block:u(u(X("SUB_GROUPS").$keys(),X("NORMAL_SUBS")),["callouts"]),inline:u(X("SUB_GROUPS").$keys(),X("NORMAL_SUBS"))})),B(H[0],"CAN",""),B(H[0],"DEL",""),B(H[0],"PASS_START",""),B(H[0],"PASS_END",""),B(H[0],"PassSlotRx",R([X("PASS_START"),"(\\d+)",X("PASS_END")])),B(H[0],"HighlightedPassSlotRx",R(["<span\\b[^>]*>",X("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",X("PASS_END"),"</span>"])),B(H[0],"RS","\\"),B(H[0],"R_SB","]"),B(H[0],"ESC_R_SB","\\]"),B(H[0],"PLUS","+"),m(ie,"$apply_subs",function(E,x){var M=this,D=h,Y=h,q=h,l=h;return M.passthroughs==null&&(M.passthroughs=h),M.passthroughs_locked==null&&(M.passthroughs_locked=h),x==null&&(x=X("NORMAL_SUBS")),z(E["$empty?"]())||we(x)?E:(z(D=Ve("Array")["$==="](E))&&(E=z(E["$[]"](1))?E.$join(X("LF")):E["$[]"](0)),z(x["$include?"]("macros"))&&(E=M.$extract_passthroughs(E),z(M.passthroughs["$empty?"]())||(Y=M.passthroughs,M.passthroughs_locked=z(q=M.passthroughs_locked)?q:l=!0)),ce(x,"each",[],function t(a){var v=t.$$s==null?this:t.$$s;switch(a==null&&(a=h),a){case"specialcharacters":return E=v.$sub_specialchars(E);case"quotes":return E=v.$sub_quotes(E);case"attributes":return z(E["$include?"](X("ATTR_REF_HEAD")))?E=v.$sub_attributes(E):h;case"replacements":return E=v.$sub_replacements(E);case"macros":return E=v.$sub_macros(E);case"highlight":return E=v.$highlight_source(E,x["$include?"]("callouts"));case"callouts":return z(x["$include?"]("highlight"))?h:E=v.$sub_callouts(E);case"post_replacements":return E=v.$sub_post_replacements(E);default:return v.$logger().$warn("unknown substitution type "+a)}},{$$s:M}),z(Y)&&(E=M.$restore_passthroughs(E),z(l)&&(Y.$clear(),M.passthroughs_locked=h)),z(D)?E.$split(X("LF"),-1):E)},-2),m(ie,"$apply_normal_subs",function(E){var x=this;return x.$apply_subs(E,X("NORMAL_SUBS"))}),m(ie,"$apply_header_subs",function(E){var x=this;return x.$apply_subs(E,X("HEADER_SUBS"))}),Ke(ie,"apply_title_subs","apply_subs"),m(ie,"$apply_reftext_subs",function(E){var x=this;return x.$apply_subs(E,X("REFTEXT_SUBS"))}),m(ie,"$sub_specialchars",function(E){return z(E["$include?"](">"))||z(E["$include?"]("&"))||z(E["$include?"]("<"))?E.$gsub(X("SpecialCharsRx"),X("SpecialCharsTr")):E}),Ke(ie,"sub_specialcharacters","sub_specialchars"),m(ie,"$sub_quotes",function(E){var x=this,M=h;return x.document==null&&(x.document=h),z(X("QuotedTextSniffRx")["$[]"](M=x.document.$compat_mode())["$match?"](E))&&ce(X("QUOTE_SUBS")["$[]"](M),"each",[],function D(Y,q,l){var t=D.$$s==null?this:D.$$s;return Y==null&&(Y=h),q==null&&(q=h),l==null&&(l=h),E=ce(E,"gsub",[l],function a(){var v=a.$$s==null?this:a.$$s;return se["~"]==null&&(se["~"]=h),v.$convert_quoted_text(se["~"],Y,q)},{$$s:t})},{$$s:x}),E}),m(ie,"$sub_attributes",function(E,x){var M=this,D=h,Y=h,q=h,l=h,t=h,a=h,v=h,_=h;return M.document==null&&(M.document=h),x==null&&(x=C([],{})),D=M.document.$attributes(),Y=q=l=t=a=v=h,E=ce(E,"gsub",[X("AttributeReferenceRx")],function c(){var A,S,K=c.$$s==null?this:c.$$s,j=h,ee=h,he=h,Me=h,Ze=h,$t=h;if(K.document==null&&(K.document=h),Fe((A=se["~"])===h?h:A["$[]"](1),X("RS"))||Fe((A=se["~"])===h?h:A["$[]"](4),X("RS")))return"{"+((A=se["~"])===h?h:A["$[]"](2))+"}";if(z((A=se["~"])===h?h:A["$[]"](3)))switch((j=((A=se["~"])===h?h:A["$[]"](2)).$split(":",3)).$shift()){case"set":return S=X("Parser").$store_attribute(j["$[]"](0),z(ee=j["$[]"](1))?ee:"",K.document),A=fe(S),A[0]==null||A[0],he=A[1]==null?h:A[1],z(he)||ve(a=z(ee=a)?ee:z(Me=D["$[]"]("attribute-undefined"))?Me:X("Compliance").$attribute_undefined(),"drop-line")?Y=t=X("DEL"):Y=q=X("CAN");case"counter2":return ce(K.document,"counter",st(j)),Y=t=X("DEL");default:return ce(K.document,"counter",st(j))}else{if(z(D["$key?"](Ze=((A=se["~"])===h?h:A["$[]"](2)).$downcase())))return D["$[]"](Ze);if(z(he=X("INTRINSIC_ATTRIBUTES")["$[]"](Ze)))return he;switch(v=z(ee=v)?ee:z(Me=z($t=x["$[]"]("attribute_missing"))?$t:D["$[]"]("attribute-missing"))?Me:X("Compliance").$attribute_missing()){case"drop":return Y=t=X("DEL");case"drop-line":return Fe(l=z(ee=l)?ee:z(Me=x["$[]"]("drop_line_severity"))?Me:"info","info")&&ce(K.$logger(),"info",[],function(){return"dropping line containing reference to missing attribute: "+Ze}),Y=q=X("CAN");case"warn":return K.$logger().$warn("skipping reference to missing attribute: "+Ze),(A=se["~"])===h?h:A["$[]"](0);default:return(A=se["~"])===h?h:A["$[]"](0)}}},{$$s:M}),z(Y)?z(t)?(_=E.$squeeze(X("DEL")).$split(X("LF"),-1),z(q)?ce(_,"reject",[],function(A){var S=h,K=h,j=h;return A==null&&(A=h),z(S=z(K=z(j=A["$=="](X("DEL")))?j:A["$=="](X("CAN")))?K:A["$start_with?"](X("CAN")))?S:A["$include?"](X("CAN"))}).$join(X("LF")).$delete(X("DEL")):ce(_,"reject",[],function(A){return A==null&&(A=h),A["$=="](X("DEL"))}).$join(X("LF")).$delete(X("DEL"))):z(E["$include?"](X("LF")))?ce(E.$split(X("LF"),-1),"reject",[],function(A){var S=h,K=h;return A==null&&(A=h),z(S=z(K=A["$=="](X("CAN")))?K:A["$start_with?"](X("CAN")))?S:A["$include?"](X("CAN"))}).$join(X("LF")):"":E},-2),m(ie,"$sub_replacements",function(E){var x=this;return z(X("ReplaceableTextRx")["$match?"](E))&&ce(X("REPLACEMENTS"),"each",[],function M(D,Y,q){var l=M.$$s==null?this:M.$$s;return D==null&&(D=h),Y==null&&(Y=h),q==null&&(q=h),E=ce(E,"gsub",[D],function t(){var a=t.$$s==null?this:t.$$s;return se["~"]==null&&(se["~"]=h),a.$do_replacement(se["~"],Y,q)},{$$s:l})},{$$s:x}),E}),m(ie,"$sub_macros",function(E){var x=this,M=h,D=h,Y=h,q=h,l=h,t=h,a=h,v=h;return x.document==null&&(x.document=h),x.parent==null&&(x.parent=h),x.context==null&&(x.context=h),M=E["$include?"]("["),D=E["$include?"](":"),Y=z(q=M)?D:q,l=z(q=Y)?E["$include?"](":["):q,t=(a=x.document).$attributes(),z(v=a.$extensions())&&z(v["$inline_macros?"]())&&ce(v.$inline_macros(),"each",[],function _(c){var A=_.$$s==null?this:_.$$s;return c==null&&(c=h),E=ce(E,"gsub",[c.$instance().$regexp()],function S(){var K,j,ee=S.$$s==null?this:S.$$s,he=h,Me=h,Ze=h,$t=h,et=h,at=h,ct=h,ft=h,ut=h;return se["~"]==null&&(se["~"]=h),z((he=(K=se["~"])===h?h:K["$[]"](0))["$start_with?"](X("RS")))?((K=se["~"])===h?h:K["$[]"](0)).$slice(1,((K=se["~"])===h?h:K["$[]"](0)).$length()):(z(se["~"].$names()["$empty?"]())?(K=[(j=se["~"])===h?h:j["$[]"](1),(j=se["~"])===h?h:j["$[]"](2)],Me=K[0],Ze=K[1]):(K=[function(){try{return se["~"]["$[]"]("target")}catch(ht){if(e.rescue(ht,[X("StandardError")]))try{return h}finally{e.pop_exception()}else throw ht}}(),function(){try{return se["~"]["$[]"]("content")}catch(ht){if(e.rescue(ht,[X("StandardError")]))try{return h}finally{e.pop_exception()}else throw ht}}()],Me=K[0],Ze=K[1]),$t=z(et=(at=c.$config())["$[]"]("default_attrs"))?et.$merge():C([],{}),z(Ze)&&(z(Ze["$empty?"]())?Fe(at["$[]"]("content_model"),"attributes")||$t["$[]="]("text",Ze):(Ze=ee.$normalize_text(Ze,!0,!0),Fe(at["$[]"]("content_model"),"attributes")?ee.$parse_attributes(Ze,z(q=z(ct=at["$[]"]("positional_attrs"))?ct:at["$[]"]("pos_attrs"))?q:[],C(["into"],{into:$t})):$t["$[]="]("text",Ze)),Me=z(q=Me)?q:Fe(at["$[]"]("format"),"short")?Ze:Me),Se(X("Inline"),ft=c.$process_method()["$[]"](ee,Me,$t))?(z(ut=ft.$attributes().$delete("subs"))&&z(ut=ee.$expand_subs(ut,"custom inline macro"))&&ft["$text="](ee.$apply_subs(ft.$text(),ut)),ft.$convert()):z(ft)?(ce(ee.$logger(),"info",[],function(){return"expected substitution value for custom inline macro to be of type Inline; got "+ft.$class()+": "+he}),ft):"")},{$$s:A})},{$$s:x}),z(t["$key?"]("experimental"))&&(z(l)&&(z(E["$include?"]("kbd:"))||z(E["$include?"]("btn:")))&&(E=ce(E,"gsub",[X("InlineKbdBtnMacroRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h,j=h;return z((c=se["~"])===h?h:c["$[]"](1))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):Fe((c=se["~"])===h?h:c["$[]"](2),"kbd")?(z((S=((c=se["~"])===h?h:c["$[]"](3)).$strip())["$include?"](X("R_SB")))&&(S=S.$gsub(X("ESC_R_SB"),X("R_SB"))),z(Oe(S.$length(),1))&&z(K=z(K=S.$index(",",1))?[K,S.$index("+",1)].$compact().$min():S.$index("+",1))?(j=S.$slice(K,1),z(S["$end_with?"](j))?(S=ce(S.$chop().$split(j,-1),"map",[],function(he){return he==null&&(he=h),he.$strip()}),S["$[]="](-1,u(S["$[]"](-1),j))):S=ce(S.$split(j),"map",[],function(he){return he==null&&(he=h),he.$strip()})):S=[S],X("Inline").$new(A,"kbd",h,C(["attributes"],{attributes:C(["keys"],{keys:S})})).$convert()):X("Inline").$new(A,"button",A.$normalize_text((c=se["~"])===h?h:c["$[]"](3),!0,!0)).$convert()},{$$s:x})),z(Y)&&z(E["$include?"]("menu:"))&&(E=ce(E,"gsub",[X("InlineMenuMacroRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h,j=h,ee=h,he=h;return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(S=(c=se["~"])===h?h:c["$[]"](1),z(K=(c=se["~"])===h?h:c["$[]"](2))?(z(K["$include?"](X("R_SB")))&&(K=K.$gsub(X("ESC_R_SB"),X("R_SB"))),z(j=z(K["$include?"]("&gt;"))?"&gt;":z(K["$include?"](","))?",":h)?(ee=ce(K.$split(j),"map",[],function(Ze){return Ze==null&&(Ze=h),Ze.$strip()}),he=ee.$pop()):(c=[[],K.$rstrip()],ee=c[0],he=c[1])):(c=[[],h],ee=c[0],he=c[1]),X("Inline").$new(A,"menu",h,C(["attributes"],{attributes:C(["menu","submenus","menuitem"],{menu:S,submenus:ee,menuitem:he})})).$convert())},{$$s:x})),z(E["$include?"]('"'))&&z(E["$include?"]("&gt;"))&&(E=ce(E,"gsub",[X("InlineMenuRx")],function _(){var c,A,S,K=_.$$s==null?this:_.$$s,j=h,ee=h,he=h;return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(A=ce(((S=se["~"])===h?h:S["$[]"](1)).$split("&gt;"),"map",[],function(Ze){return Ze==null&&(Ze=h),Ze.$strip()}),c=fe(A),j=c[0]==null?h:c[0],ee=Ce(c,1),he=ee.$pop(),X("Inline").$new(K,"menu",h,C(["attributes"],{attributes:C(["menu","submenus","menuitem"],{menu:j,submenus:ee,menuitem:he})})).$convert())},{$$s:x}))),z(Y)&&(z(E["$include?"]("image:"))||z(E["$include?"]("icon:")))&&(E=ce(E,"gsub",[X("InlineImageMacroRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h,j=h,ee=h;return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"]("icon:"))?(c=["icon",["size"]],S=c[0],K=c[1]):(c=["image",["alt","width","height"]],S=c[0],K=c[1]),j=(c=se["~"])===h?h:c["$[]"](1),ee=A.$parse_attributes((c=se["~"])===h?h:c["$[]"](2),K,C(["unescape_input"],{unescape_input:!0})),Fe(S,"icon")||(a.$register("images",j),ee["$[]="]("imagesdir",t["$[]"]("imagesdir"))),z(q=ee["$[]"]("alt"))||ee["$[]="]("alt",(c=["default-alt",X("Helpers").$basename(j,!0).$tr("_-"," ")],ce(ee,"[]=",c),c[c.length-1])),X("Inline").$new(A,"image",h,C(["type","target","attributes"],{type:S,target:j,attributes:ee})).$convert())},{$$s:x})),(z(E["$include?"]("(("))&&z(E["$include?"]("))"))||z(l)&&z(E["$include?"]("dexterm")))&&(E=ce(E,"gsub",[X("InlineIndextermMacroRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Me=h,Ze=h,$t=h,et=h,at=h,ct=h,ft=h,ut=h,ht=h,dt=h;switch((c=se["~"])===h?h:c["$[]"](1)){case"indexterm":return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(z((K=S.$normalize_text((c=se["~"])===h?h:c["$[]"](2),!0,!0))["$include?"]("="))?z(j=(ee=X("AttributeList").$new(K,S).$parse())["$[]"](1))?(ee["$[]="]("terms",[j]),z(he=ee["$[]"]("see-also"))&&ee["$[]="]("see-also",z(he["$include?"](","))?ce(he.$split(","),"map",[],function(yt){return yt==null&&(yt=h),yt.$lstrip()}):[he])):ee=C(["terms"],{terms:K}):ee=C(["terms"],{terms:S.$split_simple_csv(K)}),X("Inline").$new(S,"indexterm",h,C(["attributes"],{attributes:ee})).$convert());case"indexterm2":return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(z((Me=S.$normalize_text((c=se["~"])===h?h:c["$[]"](2),!0,!0))["$include?"]("="))&&(Me=z(Ze=z($t=(ee=X("AttributeList").$new(Me,S).$parse())["$[]"](1))?$t:ee=h)?Ze:Me,z(ee)&&z(he=ee["$[]"]("see-also"))&&ee["$[]="]("see-also",z(he["$include?"](","))?ce(he.$split(","),"map",[],function(yt){return yt==null&&(yt=h),yt.$lstrip()}):[he])),X("Inline").$new(S,"indexterm",Me,C(["attributes","type"],{attributes:ee,type:"visible"})).$convert());default:if(et=(c=se["~"])===h?h:c["$[]"](3),z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS"))))if(z(et["$start_with?"]("("))&&z(et["$end_with?"](")")))et=et.$slice(1,Ye(et.$length(),2)),c=[!0,"(",")"],at=c[0],ct=c[1],ft=c[2];else return((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length());else at=!0,z(et["$start_with?"]("("))?z(et["$end_with?"](")"))?(c=[et.$slice(1,Ye(et.$length(),2)),!1],et=c[0],at=c[1]):(c=[et.$slice(1,et.$length()),"(",""],et=c[0],ct=c[1],ft=c[2]):z(et["$end_with?"](")"))&&(c=[et.$chop(),"",")"],et=c[0],ct=c[1],ft=c[2]);return z(at)?(z((Me=S.$normalize_text(et,!0))["$include?"](";&"))&&(z(Me["$include?"](" &gt;&gt; "))?(A=Me.$partition(" &gt;&gt; "),c=fe(A),Me=c[0]==null?h:c[0],c[1]==null||c[1],ut=c[2]==null?h:c[2],ee=C(["see"],{see:ut})):z(Me["$include?"](" &amp;&gt; "))&&(A=Me.$split(" &amp;&gt; "),c=fe(A),Me=c[0]==null?h:c[0],he=Ce(c,1),ee=C(["see-also"],{"see-also":he}))),ht=X("Inline").$new(S,"indexterm",Me,C(["attributes","type"],{attributes:ee,type:"visible"})).$convert()):(ee=C([],{}),z((dt=S.$normalize_text(et,!0))["$include?"](";&"))&&(z(dt["$include?"](" &gt;&gt; "))?(A=dt.$partition(" &gt;&gt; "),c=fe(A),dt=c[0]==null?h:c[0],c[1]==null||c[1],ut=c[2]==null?h:c[2],ee["$[]="]("see",ut)):z(dt["$include?"](" &amp;&gt; "))&&(A=dt.$split(" &amp;&gt; "),c=fe(A),dt=c[0]==null?h:c[0],he=Ce(c,1),ee["$[]="]("see-also",he))),ee["$[]="]("terms",S.$split_simple_csv(dt)),ht=X("Inline").$new(S,"indexterm",h,C(["attributes"],{attributes:ee})).$convert()),z(ct)?""+ct+ht+ft:ht}},{$$s:x})),z(D)&&z(E["$include?"]("://"))&&(E=ce(E,"gsub",[X("InlineLinkRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Me=h,Ze=h,$t=h,et=h,at=h;if(z((K=u((c=se["~"])===h?h:c["$[]"](2),z(q=(c=se["~"])===h?h:c["$[]"](3))?q:(c=se["~"])===h?h:c["$[]"](5)))["$start_with?"](X("RS"))))return u(((c=se["~"])===h?h:c["$[]"](0)).$slice(0,j=((c=se["~"])===h?h:c["$[]"](1)).$length()),((c=se["~"])===h?h:c["$[]"](0)).$slice(u(j,1),((c=se["~"])===h?h:c["$[]"](0)).$length()));if(c=[(A=se["~"])===h?h:A["$[]"](1),""],ee=c[0],he=c[1],z((c=se["~"])===h?h:c["$[]"](4)))Fe(ee,"link:")&&(ee=""),z((Me=(c=se["~"])===h?h:c["$[]"](4))["$empty?"]())&&(Me=h);else{switch(ee){case"link:":case'"':case"'":return(c=se["~"])===h?h:c["$[]"](0)}switch((c=se["~"])===h?h:c["$[]"](6)){case";":if(z(ee["$start_with?"]("&lt;"))&&z(K["$end_with?"]("&gt;"))?(ee=ee.$slice(4,ee.$length()),K=K.$slice(0,Ye(K.$length(),4))):z((K=K.$chop())["$end_with?"](")"))?(K=K.$chop(),he=");"):he=";",z(K["$end_with?"]("://")))return(c=se["~"])===h?h:c["$[]"](0);break;case":":if(z((K=K.$chop())["$end_with?"](")"))?(K=K.$chop(),he="):"):he=":",z(K["$end_with?"]("://")))return(c=se["~"])===h?h:c["$[]"](0);break}}return c=[h,C(["type"],{type:"link"})],Ze=c[0],$t=c[1],z(Me)?(z(Me["$include?"](X("R_SB")))&&(et=Me=Me.$gsub(X("ESC_R_SB"),X("R_SB"))),we(a.$compat_mode())&&z(Me["$include?"]("="))&&(A=S.$extract_attributes_from_text(Me,""),c=fe(A),Me=c[0]==null?h:c[0],Ze=c[1]==null?h:c[1],et=Me,$t["$[]="]("id",Ze["$[]"]("id"))),z(Me["$end_with?"]("^"))&&(et=Me=Me.$chop(),z(Ze)?z(q=Ze["$[]"]("window"))||Ze["$[]="]("window","_blank"):Ze=C(["window"],{window:"_blank"})),z(et)&&z(et["$empty?"]())&&(Me=z(t["$key?"]("hide-uri-scheme"))?K.$sub(X("UriSniffRx"),""):K,at=!0)):(Me=z(t["$key?"]("hide-uri-scheme"))?K.$sub(X("UriSniffRx"),""):K,at=!0),z(at)&&(z(Ze)?Ze["$[]="]("role",z(Ze["$key?"]("role"))?"bare "+Ze["$[]"]("role"):"bare"):Ze=C(["role"],{role:"bare"})),a.$register("links",(c=["target",K],ce($t,"[]=",c),c[c.length-1])),z(Ze)&&$t["$[]="]("attributes",Ze),""+ee+X("Inline").$new(S,"anchor",Me,$t).$convert()+he},{$$s:x})),z(Y)&&(z(E["$include?"]("link:"))||z(E["$include?"]("ilto:")))&&(E=ce(E,"gsub",[X("InlineLinkMacroRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Me=h,Ze=h;return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(z(K=(c=se["~"])===h?h:c["$[]"](1))?j=u("mailto:",ee=(c=se["~"])===h?h:c["$[]"](2)):j=(c=se["~"])===h?h:c["$[]"](2),c=[h,C(["type"],{type:"link"})],he=c[0],Me=c[1],z((Ze=(c=se["~"])===h?h:c["$[]"](3))["$empty?"]())||(z(Ze["$include?"](X("R_SB")))&&(Ze=Ze.$gsub(X("ESC_R_SB"),X("R_SB"))),z(K)?we(a.$compat_mode())&&z(Ze["$include?"](","))&&(A=S.$extract_attributes_from_text(Ze,""),c=fe(A),Ze=c[0]==null?h:c[0],he=c[1]==null?h:c[1],Me["$[]="]("id",he["$[]"]("id")),z(he["$key?"](2))&&(z(he["$key?"](3))?j=""+j+"?subject="+X("Helpers").$encode_uri_component(he["$[]"](2))+"&amp;body="+X("Helpers").$encode_uri_component(he["$[]"](3)):j=""+j+"?subject="+X("Helpers").$encode_uri_component(he["$[]"](2)))):we(a.$compat_mode())&&z(Ze["$include?"]("="))&&(A=S.$extract_attributes_from_text(Ze,""),c=fe(A),Ze=c[0]==null?h:c[0],he=c[1]==null?h:c[1],Me["$[]="]("id",he["$[]"]("id"))),z(Ze["$end_with?"]("^"))&&(Ze=Ze.$chop(),z(he)?z(q=he["$[]"]("window"))||he["$[]="]("window","_blank"):he=C(["window"],{window:"_blank"}))),z(Ze["$empty?"]())&&(z(K)?Ze=ee:(z(t["$key?"]("hide-uri-scheme"))?z((Ze=j.$sub(X("UriSniffRx"),""))["$empty?"]())&&(Ze=j):Ze=j,z(he)?he["$[]="]("role",z(he["$key?"]("role"))?"bare "+he["$[]"]("role"):"bare"):he=C(["role"],{role:"bare"}))),a.$register("links",(c=["target",j],ce(Me,"[]=",c),c[c.length-1])),z(he)&&Me["$[]="]("attributes",he),X("Inline").$new(S,"anchor",Ze,Me).$convert())},{$$s:x})),z(E["$include?"]("@"))&&(E=ce(E,"gsub",[X("InlineEmailRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h;return z((c=se["~"])===h?h:c["$[]"](1))?Fe((c=se["~"])===h?h:c["$[]"](1),X("RS"))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(c=se["~"])===h?h:c["$[]"](0):(S=u("mailto:",K=(c=se["~"])===h?h:c["$[]"](0)),a.$register("links",S),X("Inline").$new(A,"anchor",K,C(["type","target"],{type:"link",target:S})).$convert())},{$$s:x})),z(M)&&Fe(x.context,"list_item")&&Fe(x.parent.$style(),"bibliography")&&(E=ce(E,"sub",[X("InlineBiblioAnchorRx")],function _(){var c,A=_.$$s==null?this:_.$$s;return X("Inline").$new(A,"anchor",(c=se["~"])===h?h:c["$[]"](2),C(["type","id"],{type:"bibref",id:(c=se["~"])===h?h:c["$[]"](1)})).$convert()},{$$s:x})),(z(M)&&z(E["$include?"]("[["))||z(Y)&&z(E["$include?"]("or:")))&&(E=ce(E,"gsub",[X("InlineAnchorRx")],function _(){var c,A=_.$$s==null?this:_.$$s,S=h,K=h;return z((c=se["~"])===h?h:c["$[]"](1))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(z(S=(c=se["~"])===h?h:c["$[]"](2))?K=(c=se["~"])===h?h:c["$[]"](3):(S=(c=se["~"])===h?h:c["$[]"](4),z(K=(c=se["~"])===h?h:c["$[]"](5))&&z(K["$include?"](X("R_SB")))&&(K=K.$gsub(X("ESC_R_SB"),X("R_SB")))),X("Inline").$new(A,"anchor",K,C(["type","id"],{type:"ref",id:S})).$convert())},{$$s:x})),(z(E["$include?"]("&"))&&z(E["$include?"](";&l"))||z(Y)&&z(E["$include?"]("xref:")))&&(E=ce(E,"gsub",[X("InlineXrefMacroRx")],function _(){var c,A,S=_.$$s==null?this:_.$$s,K=h,j=h,ee=h,he=h,Me=h,Ze=h,$t=h,et=h,at=h,ct=h;return z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS")))?((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length()):(K=C([],{}),z(j=(c=se["~"])===h?h:c["$[]"](1))?z(j["$include?"](","))&&(A=j.$partition(","),c=fe(A),j=c[0]==null?h:c[0],c[1]==null||c[1],ee=c[2]==null?h:c[2],z((ee=ee.$lstrip())["$empty?"]())&&(ee=h)):(he=!0,j=(c=se["~"])===h?h:c["$[]"](2),z(ee=(c=se["~"])===h?h:c["$[]"](3))&&(z(ee["$include?"](X("R_SB")))&&(ee=ee.$gsub(X("ESC_R_SB"),X("R_SB"))),we(a.$compat_mode())&&z(ee["$include?"]("="))&&(A=S.$extract_attributes_from_text(ee),c=fe(A),ee=c[0]==null?h:c[0],K=c[1]==null?h:c[1]))),z(a.$compat_mode())?Me=j:z(Ze=j.$index("#"))&&ve(j["$[]"](Ye(Ze,1)),"&")?z(Oe(Ze,0))?(z(Oe($t=Ye(Ye(j.$length(),1),Ze),0))?(c=[j.$slice(0,Ze),j.$slice(u(Ze,1),$t)],et=c[0],Me=c[1]):et=j.$chop(),z(he)?z(et["$end_with?"](".adoc"))?at=et=et.$slice(0,Ye(et.$length(),5)):we(X("Helpers")["$extname?"](et))&&(at=et):z(ce(et,"end_with?",st(X("ASCIIDOC_EXTENSIONS").$keys())))?at=et=et.$slice(0,et.$rindex(".")):at=et):(c=[j,j.$slice(1,j.$length())],ct=c[0],Me=c[1]):z(he)?z(j["$end_with?"](".adoc"))?at=et=j.$slice(0,Ye(j.$length(),5)):z(X("Helpers")["$extname?"](j))?et=j:Me=j:Me=j,z(ct)?(j=Me,z(S.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](j))&&S.$logger().$info("possible invalid reference: "+j)):z(et)?z(at)&&(Fe(a.$attributes()["$[]"]("docname"),et)||z(a.$catalog()["$[]"]("includes")["$[]"](et)))?z(Me)?(c=[Me,h,"#"+Me],j=c[0],et=c[1],ct=c[2],z(S.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](j))&&S.$logger().$info("possible invalid reference: "+j)):(c=[h,h,"#"],j=c[0],et=c[1],ct=c[2]):(c=[et,""+(z(q=a.$attributes()["$[]"]("relfileprefix"))?q:"")+et+(z(at)?a.$attributes().$fetch("relfilesuffix",a.$outfilesuffix()):"")],j=c[0],et=c[1],z(Me)?(c=[""+j+"#"+Me,""+et+"#"+Me],j=c[0],ct=c[1]):ct=et):z(a.$compat_mode())||we(X("Compliance").$natural_xrefs())?(c=[Me,"#"+Me],j=c[0],ct=c[1],z(S.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](j))&&S.$logger().$info("possible invalid reference: "+j)):z(a.$catalog()["$[]"]("refs")["$[]"](Me))?(c=[Me,"#"+Me],j=c[0],ct=c[1]):(z(Me["$include?"](" "))||ve(Me.$downcase(),Me))&&z(j=a.$resolve_id(Me))?(c=[j,"#"+j],Me=c[0],ct=c[1]):(c=[Me,"#"+Me],j=c[0],ct=c[1],z(S.$logger()["$info?"]())&&S.$logger().$info("possible invalid reference: "+j)),K["$[]="]("path",et),K["$[]="]("fragment",Me),K["$[]="]("refid",j),X("Inline").$new(S,"anchor",ee,C(["type","target","attributes"],{type:"xref",target:ct,attributes:K})).$convert())},{$$s:x})),z(Y)&&z(E["$include?"]("tnote"))&&(E=ce(E,"gsub",[X("InlineFootnoteMacroRx")],function _(){var c,A,S,K=_.$$s==null?this:_.$$s,j=h,ee=h,he=h,Me=h,Ze=h,$t=h;if(z(((c=se["~"])===h?h:c["$[]"](0))["$start_with?"](X("RS"))))return((c=se["~"])===h?h:c["$[]"](0)).$slice(1,((c=se["~"])===h?h:c["$[]"](0)).$length());if(z((c=se["~"])===h?h:c["$[]"](1)))if(z((c=se["~"])===h?h:c["$[]"](3)))A=((S=se["~"])===h?h:S["$[]"](3)).$split(",",2),c=fe(A),j=c[0]==null?h:c[0],ee=c[1]==null?h:c[1],z(a.$compat_mode())||K.$logger().$warn("found deprecated footnoteref macro: "+((c=se["~"])===h?h:c["$[]"](0))+"; use footnote macro with target instead");else return(c=se["~"])===h?h:c["$[]"](0);else j=(c=se["~"])===h?h:c["$[]"](2),ee=(c=se["~"])===h?h:c["$[]"](3);if(z(j))z(he=ce(a.$footnotes(),"find",[],function(at){return at==null&&(at=h),at.$id()["$=="](j)}))?(c=[he.$index(),he.$text()],Me=c[0],ee=c[1],c=["xref",j,h],Ze=c[0],$t=c[1],j=c[2]):z(ee)?(ee=K.$restore_passthroughs(K.$normalize_text(ee,!0,!0)),Me=a.$counter("footnote-number"),a.$register("footnotes",Ve(X("Document"),"Footnote").$new(Me,j,ee)),c=["ref",h],Ze=c[0],$t=c[1]):(K.$logger().$warn("invalid footnote reference: "+j),c=["xref",j,j,h],Ze=c[0],$t=c[1],ee=c[2],j=c[3]);else if(z(ee))ee=K.$restore_passthroughs(K.$normalize_text(ee,!0,!0)),Me=a.$counter("footnote-number"),a.$register("footnotes",Ve(X("Document"),"Footnote").$new(Me,j,ee)),Ze=$t=h;else return(c=se["~"])===h?h:c["$[]"](0);return X("Inline").$new(K,"footnote",ee,C(["attributes","id","target","type"],{attributes:C(["index"],{index:Me}),id:j,target:$t,type:Ze})).$convert()},{$$s:x})),E}),m(ie,"$sub_post_replacements",function(E){var x=this,M=h,D=h;return x.document==null&&(x.document=h),x.attributes==null&&(x.attributes=h),z(x.attributes["$[]"]("hardbreaks-option"))||z(x.document.$attributes()["$[]"]("hardbreaks-option"))?(M=E.$split(X("LF"),-1),z(it(M.$size(),2))?E:(D=M.$pop(),ce(M,"map",[],function Y(q){var l=Y.$$s==null?this:Y.$$s;return q==null&&(q=h),X("Inline").$new(l,"break",z(q["$end_with?"](X("HARD_LINE_BREAK")))?q.$slice(0,Ye(q.$length(),2)):q,C(["type"],{type:"line"})).$convert()},{$$s:x})["$<<"](D).$join(X("LF")))):z(E["$include?"](X("PLUS")))&&z(E["$include?"](X("HARD_LINE_BREAK")))?ce(E,"gsub",[X("HardLineBreakRx")],function Y(){var q,l=Y.$$s==null?this:Y.$$s;return X("Inline").$new(l,"break",(q=se["~"])===h?h:q["$[]"](1),C(["type"],{type:"line"})).$convert()},{$$s:x}):E}),m(ie,"$sub_source",function(E,x){var M=this;return z(x)?M.$sub_callouts(M.$sub_specialchars(E)):M.$sub_specialchars(E)}),m(ie,"$sub_callouts",function(E){var x=this,M=h,D=h;return M=z(x["$attr?"]("line-comment"))?X("CalloutSourceRxMap")["$[]"](x.$attr("line-comment")):X("CalloutSourceRx"),D=0,ce(E,"gsub",[M],function Y(){var q,l=Y.$$s==null?this:Y.$$s,t=h;return l.document==null&&(l.document=h),z((q=se["~"])===h?h:q["$[]"](2))?((q=se["~"])===h?h:q["$[]"](0)).$sub(X("RS"),""):X("Inline").$new(l,"callout",Fe((q=se["~"])===h?h:q["$[]"](4),".")?(D=u(D,1)).$to_s():(q=se["~"])===h?h:q["$[]"](4),C(["id","attributes"],{id:l.document.$callouts().$read_next_id(),attributes:C(["guard"],{guard:z(t=(q=se["~"])===h?h:q["$[]"](1))?t:Fe((q=se["~"])===h?h:q["$[]"](3),"--")?["<!--","-->"]:h})})).$convert()},{$$s:x})}),m(ie,"$highlight_source",function(E,x){var M,D,Y=this,q=h,l=h,t=h,a=h,v=h,_=h,c=h,A=h,S=h,K=h;return Y.document==null&&(Y.document=h),Y.passthroughs==null&&(Y.passthroughs=h),z(q=Y.document.$syntax_highlighter())&&z(q["$highlight?"]())?(z(x)&&(D=Y.$extract_callouts(E),M=fe(D),E=M[0]==null?h:M[0],l=M[1]==null?h:M[1]),t=Y.document.$attributes(),a=q.$name(),z(_=z(Y["$attr?"]("linenums"))?(z(c=t["$[]"](""+a+"-linenums-mode"))?c:"table").$to_sym():h)&&z(it(v=Y.$attr("start",1).$to_i(),1))&&(v=1),z(Y["$attr?"]("highlight"))&&(A=Y.$resolve_lines_to_highlight(E,Y.$attr("highlight"),v)),D=q.$highlight(Y,E,Y.$attr("language"),C(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:l,css_mode:(z(c=t["$[]"](""+a+"-css"))?c:"class").$to_sym(),highlight_lines:A,number_lines:_,start_line_number:v,style:t["$[]"](""+a+"-style")})),M=fe(D),S=M[0]==null?h:M[0],K=M[1]==null?h:M[1],z(Y.passthroughs["$empty?"]())||(S=S.$gsub(X("HighlightedPassSlotRx"),""+X("PASS_START")+"\\1"+X("PASS_END"))),z(l["$nil_or_empty?"]())?S:Y.$restore_callouts(S,l,K)):Y.$sub_source(E,x)}),m(ie,"$resolve_lines_to_highlight",function(E,x,M){var D=h,Y=h;return M==null&&(M=h),D=[],z(x["$include?"](" "))&&(x=x.$delete(" ")),ce(z(x["$include?"](","))?x.$split(","):x.$split(";"),"map",[],function(l){var t,a,v=h,_=h,c=h,A=h,S=h;return l==null&&(l=h),z(l["$start_with?"]("!"))&&(l=l.$slice(1,l.$length()),v=!0),z(_=z(l["$include?"](".."))?"..":z(l["$include?"]("-"))?"-":h)?(a=l.$partition(_),t=fe(a),c=t[0]==null?h:t[0],t[1]==null||t[1],A=t[2]==null?h:t[2],(z(A["$empty?"]())||z(it(A=A.$to_i(),0)))&&(A=u(E.$count(X("LF")),1)),z(v)?D=Ye(D,e.Range.$new(c.$to_i(),A,!1).$to_a()):D=D["$|"](e.Range.$new(c.$to_i(),A,!1).$to_a())):z(v)?D.$delete(l.$to_i()):we(D["$include?"](S=l.$to_i()))?D["$<<"](S):h}),Fe(Y=z(M)?Ye(M,1):0,0)||(D=ce(D,"map",[],function(l){return l==null&&(l=h),Ye(l,Y)})),D.$sort()},-3),m(ie,"$extract_passthroughs",function(E){var x,M,D=this,Y=h,q=h,l=h,t=h,a=h;return D.document==null&&(D.document=h),D.passthroughs==null&&(D.passthroughs=h),Y=D.document.$compat_mode(),q=D.passthroughs,(z(E["$include?"]("++"))||z(E["$include?"]("$$"))||z(E["$include?"]("ss:")))&&(E=ce(E,"gsub",[X("InlinePassMacroRx")],function v(){var _,c=v.$$s==null?this:v.$$s,A=h,S=h,K=h,j=h,ee=h,he=h,Me=h,Ze=h,$t=h;if(z(A=(_=se["~"])===h?h:_["$[]"](4))){if(z(Y)&&Fe(A,"++"))return(z((_=se["~"])===h?h:_["$[]"](2))?""+((_=se["~"])===h?h:_["$[]"](1))+"["+((_=se["~"])===h?h:_["$[]"](2))+"]"+((_=se["~"])===h?h:_["$[]"](3)):""+((_=se["~"])===h?h:_["$[]"](1))+((_=se["~"])===h?h:_["$[]"](3)))+"++"+c.$extract_passthroughs((_=se["~"])===h?h:_["$[]"](5))+"++";if(z(S=(_=se["~"])===h?h:_["$[]"](2))){if(z(Oe(K=((_=se["~"])===h?h:_["$[]"](3)).$length(),0)))return""+((_=se["~"])===h?h:_["$[]"](1))+"["+S+"]"+b(X("RS"),Ye(K,1))+A+((_=se["~"])===h?h:_["$[]"](5))+A;Fe((_=se["~"])===h?h:_["$[]"](1),X("RS"))?j="["+S+"]":Fe(A,"++")?Fe(S,"x-")?(ee=!0,he=C([],{})):z(S["$end_with?"](" x-"))?(ee=!0,he=c.$parse_quoted_text_attributes(S.$slice(0,Ye(S.$length(),3)))):he=c.$parse_quoted_text_attributes(S):he=c.$parse_quoted_text_attributes(S)}else if(z(Oe(K=((_=se["~"])===h?h:_["$[]"](3)).$length(),0)))return""+b(X("RS"),Ye(K,1))+A+((_=se["~"])===h?h:_["$[]"](5))+A;Me=Fe(A,"+++")?[]:X("BASIC_SUBS"),z(he)?z(ee)?q["$[]="](Ze=q.$size(),C(["text","subs","type","attributes"],{text:(_=se["~"])===h?h:_["$[]"](5),subs:X("NORMAL_SUBS"),type:"monospaced",attributes:he})):q["$[]="](Ze=q.$size(),C(["text","subs","type","attributes"],{text:(_=se["~"])===h?h:_["$[]"](5),subs:Me,type:"unquoted",attributes:he})):q["$[]="](Ze=q.$size(),C(["text","subs"],{text:(_=se["~"])===h?h:_["$[]"](5),subs:Me}))}else{if(Fe((_=se["~"])===h?h:_["$[]"](6),X("RS")))return((_=se["~"])===h?h:_["$[]"](0)).$slice(1,((_=se["~"])===h?h:_["$[]"](0)).$length());z(Me=(_=se["~"])===h?h:_["$[]"](7))?q["$[]="](Ze=q.$size(),C(["text","subs"],{text:c.$normalize_text((_=se["~"])===h?h:_["$[]"](8),h,!0),subs:c.$resolve_pass_subs(Me)})):q["$[]="](Ze=q.$size(),C(["text"],{text:c.$normalize_text((_=se["~"])===h?h:_["$[]"](8),h,!0)}))}return""+(z($t=j)?$t:"")+X("PASS_START")+Ze+X("PASS_END")},{$$s:D})),M=X("InlinePassRx")["$[]"](Y),x=fe(M),l=x[0]==null?h:x[0],t=x[1]==null?h:x[1],a=x[2]==null?h:x[2],(z(E["$include?"](l))||z(t)&&z(E["$include?"](t)))&&(E=ce(E,"gsub",[a],function v(){var _,c=v.$$s==null?this:v.$$s,A=h,S=h,K=h,j=h,ee=h,he=h,Me=h,Ze=h,$t=h,et=h,at=h,ct=h;if(A=(_=se["~"])===h?h:_["$[]"](1),S=z(K=(_=se["~"])===h?h:_["$[]"](4))?K:(_=se["~"])===h?h:_["$[]"](3),z((_=se["~"])===h?h:_["$[]"](5))&&(j=!0),ee=(_=se["~"])===h?h:_["$[]"](6),he=(_=se["~"])===h?h:_["$[]"](7),Me=(_=se["~"])===h?h:_["$[]"](8),z(Y)?Ze=!0:z(S)&&(Fe(S,"x-")||z(S["$end_with?"](" x-")))&&(Ze=$t=!0),z(S)){if(z(j))return""+A+"["+S+"]"+ee.$slice(1,ee.$length());if(Fe(A,X("RS"))){if(z($t)&&Fe(he,"`"))return""+A+"["+S+"]"+ee;A="["+S+"]"}else z($t)?et=Fe(S,"x-")?C([],{}):c.$parse_quoted_text_attributes(S.$slice(0,Ye(S.$length(),3))):et=c.$parse_quoted_text_attributes(S)}else{if(z(j))return""+A+ee.$slice(1,ee.$length());if(z(Y)&&Fe(A,X("RS")))return ee}return z(Y)?q["$[]="](at=q.$size(),C(["text","subs","attributes","type"],{text:Me,subs:X("BASIC_SUBS"),attributes:et,type:"monospaced"})):z(et)?z(Ze)?(ct=Fe(he,"`")?X("BASIC_SUBS"):X("NORMAL_SUBS"),q["$[]="](at=q.$size(),C(["text","subs","attributes","type"],{text:Me,subs:ct,attributes:et,type:"monospaced"}))):q["$[]="](at=q.$size(),C(["text","subs","attributes","type"],{text:Me,subs:X("BASIC_SUBS"),attributes:et,type:"unquoted"})):q["$[]="](at=q.$size(),C(["text","subs"],{text:Me,subs:X("BASIC_SUBS")})),""+A+X("PASS_START")+at+X("PASS_END")},{$$s:D})),z(E["$include?"](":"))&&(z(E["$include?"]("stem:"))||z(E["$include?"]("math:")))&&(E=ce(E,"gsub",[X("InlineStemMacroRx")],function v(){var _,c=v.$$s==null?this:v.$$s,A=h,S=h,K=h,j=h;return c.document==null&&(c.document=h),z(((_=se["~"])===h?h:_["$[]"](0))["$start_with?"](X("RS")))?((_=se["~"])===h?h:_["$[]"](0)).$slice(1,((_=se["~"])===h?h:_["$[]"](0)).$length()):(Fe(A=((_=se["~"])===h?h:_["$[]"](1)).$to_sym(),"stem")&&(A=X("STEM_TYPE_ALIASES")["$[]"](c.document.$attributes()["$[]"]("stem")).$to_sym()),S=(_=se["~"])===h?h:_["$[]"](2),K=c.$normalize_text((_=se["~"])===h?h:_["$[]"](3),h,!0),Fe(A,"latexmath")&&z(K["$start_with?"]("$"))&&z(K["$end_with?"]("$"))&&(K=K.$slice(1,Ye(K.$length(),2))),S=z(S)?c.$resolve_pass_subs(S):z(c.document["$basebackend?"]("html"))?X("BASIC_SUBS"):h,q["$[]="](j=q.$size(),C(["text","subs","type"],{text:K,subs:S,type:A})),""+X("PASS_START")+j+X("PASS_END"))},{$$s:D})),E}),m(ie,"$restore_passthroughs",function(E){var x=this,M=h;return x.passthroughs==null&&(x.passthroughs=h),M=x.passthroughs,ce(E,"gsub",[X("PassSlotRx")],function D(){var Y,q=D.$$s==null?this:D.$$s,l=h,t=h,a=h,v=h,_=h;return z(l=M["$[]"](((Y=se["~"])===h?h:Y["$[]"](1)).$to_i()))?(t=q.$apply_subs(l["$[]"]("text"),l["$[]"]("subs")),z(a=l["$[]"]("type"))&&(z(v=l["$[]"]("attributes"))&&(_=v["$[]"]("id")),t=X("Inline").$new(q,"quoted",t,C(["type","id","attributes"],{type:a,id:_,attributes:v})).$convert()),z(t["$include?"](X("PASS_START")))?q.$restore_passthroughs(t):t):(q.$logger().$error("unresolved passthrough detected: "+E),"??pass??")},{$$s:x})}),m(ie,"$resolve_subs",function(E,x,M,D){var Y=this,q=h,l=h,t=h,a=h;return x==null&&(x="block"),M==null&&(M=h),D==null&&(D=h),z(E["$nil_or_empty?"]())||(q=h,z(E["$include?"](" "))&&(E=E.$delete(" ")),l=X("SubModifierSniffRx")["$match?"](E),ce(E.$split(","),"each",[],function(_){var c=h,A=h,S=h,K=h,j=h,ee=h;if(_==null&&(_=h),c=h,z(l)&&(Fe(A=_.$chr(),"+")?(c="append",_=_.$slice(1,_.$length())):Fe(A,"-")?(c="remove",_=_.$slice(1,_.$length())):z(_["$end_with?"]("+"))&&(c="prepend",_=_.$chop())),_=_.$to_sym(),Fe(x,"inline")&&(Fe(_,"verbatim")||Fe(_,"v"))?S=X("BASIC_SUBS"):z(X("SUB_GROUPS")["$key?"](_))?S=X("SUB_GROUPS")["$[]"](_):Fe(x,"inline")&&Fe(_.$length(),1)&&z(X("SUB_HINTS")["$key?"](_))?(K=X("SUB_HINTS")["$[]"](_),z(j=X("SUB_GROUPS")["$[]"](K))?S=j:S=[K]):S=[_],z(c))switch(q=z(ee=q)?ee:z(M)?M.$drop(0):[],c){case"append":return q=u(q,S);case"prepend":return q=u(S,q);case"remove":return q=Ye(q,S);default:return h}else return q=z(ee=q)?ee:[],q=u(q,S)}),!z(q))?h:(t=q["$&"](X("SUB_OPTIONS")["$[]"](x)),z(Ye(q,t)["$empty?"]())||(a=Ye(q,t),Y.$logger().$warn("invalid substitution type"+(z(Oe(a.$size(),1))?"s":"")+(z(D)?" for ":"")+D+": "+a.$join(", "))),t)},-2),m(ie,"$resolve_block_subs",function(E,x,M){var D=this;return D.$resolve_subs(E,"block",x,M)}),m(ie,"$resolve_pass_subs",function(E){var x=this;return x.$resolve_subs(E,"inline",h,"passthrough macro")}),m(ie,"$expand_subs",function(E,x){var M=this,D=h,Y=h,q=h;return x==null&&(x=h),Se(Ve("Symbol"),D=E)?Fe(E,"none")?h:z(Y=X("SUB_GROUPS")["$[]"](E))?Y:[E]:Se(Ve("Array"),D)?(q=[],ce(E,"each",[],function(t){var a=h;return t==null&&(t=h),Fe(t,"none")?h:z(a=X("SUB_GROUPS")["$[]"](t))?q=u(q,a):q["$<<"](t)}),z(q["$empty?"]())?h:q):M.$resolve_subs(E,"inline",h,x)},-2),m(ie,"$commit_subs",function(){var E=this,x=h,M=h,D=h,Y=h,q=h;if(E.default_subs==null&&(E.default_subs=h),E.content_model==null&&(E.content_model=h),E.context==null&&(E.context=h),E.subs==null&&(E.subs=h),E.attributes==null&&(E.attributes=h),E.document==null&&(E.document=h),E.style==null&&(E.style=h),!z(x=E.default_subs))switch(E.content_model){case"simple":x=X("NORMAL_SUBS");break;case"verbatim":x=Fe(E.context,"verse")?X("NORMAL_SUBS"):X("VERBATIM_SUBS");break;case"raw":x=Fe(E.context,"stem")?X("BASIC_SUBS"):X("NO_SUBS");break;default:return E.subs}return z(M=E.attributes["$[]"]("subs"))?E.subs=z(D=E.$resolve_block_subs(M,x,E.context))?D:[]:E.subs=x.$drop(0),Fe(E.context,"listing")&&Fe(E.style,"source")&&z(q=E.document.$syntax_highlighter())&&z(q["$highlight?"]())&&z(Y=E.subs.$index("specialcharacters"))&&E.subs["$[]="](Y,"highlight"),h}),m(ie,"$parse_attributes",function(E,x,M){var D=this,Y=h,q=h;return D.document==null&&(D.document=h),x==null&&(x=[]),M==null&&(M=C([],{})),z(z(E)?E["$empty?"]():!0)?C([],{}):(z(M["$[]"]("unescape_input"))&&(E=D.$normalize_text(E,!0,!0)),z(M["$[]"]("sub_input"))&&z(E["$include?"](X("ATTR_REF_HEAD")))&&(E=D.document.$sub_attributes(E)),z(M["$[]"]("sub_result"))&&(Y=D),z(q=M["$[]"]("into"))?X("AttributeList").$new(E,Y).$parse_into(q,x):X("AttributeList").$new(E,Y).$parse(x))},-2),ie.$private(),m(ie,"$extract_attributes_from_text",function(E,x){var M=this,D=h,Y=h,q=h;return x==null&&(x=h),D=z(E["$include?"](X("LF")))?E.$tr(X("LF")," "):E,z(Y=(q=X("AttributeList").$new(D,M).$parse())["$[]"](1))?Fe(Y,D)?[E,q.$clear()]:[Y,q]:[x,q]},-2),m(ie,"$extract_callouts",function(E){var x=this,M=h,D=h,Y=h,q=h,l=h;return M=C([],{}),D=Y=0,q=h,l=z(x["$attr?"]("line-comment"))?X("CalloutExtractRxMap")["$[]"](x.$attr("line-comment")):X("CalloutExtractRx"),E=ce(E.$split(X("LF"),-1),"map",[],function(a){return a==null&&(a=h),Y=u(Y,1),ce(a,"gsub",[l],function(){var _,c=h;return z((_=se["~"])===h?h:_["$[]"](2))?((_=se["~"])===h?h:_["$[]"](0)).$sub(X("RS"),""):((z(c=M["$[]"](Y))?c:(_=[Y,[]],ce(M,"[]=",_),_[_.length-1]))["$<<"]([z(c=(_=se["~"])===h?h:_["$[]"](1))?c:Fe((_=se["~"])===h?h:_["$[]"](3),"--")?["<!--","-->"]:h,Fe((_=se["~"])===h?h:_["$[]"](4),".")?(D=u(D,1)).$to_s():(_=se["~"])===h?h:_["$[]"](4)]),q=Y,"")})}).$join(X("LF")),z(q)?Fe(q,Y)&&(E=""+E+X("LF")):M=h,[E,M]}),m(ie,"$restore_callouts",function(E,x,M){var D=this,Y=h,q=h;return M==null&&(M=h),z(M)?(Y=E.$slice(0,M),E=E.$slice(M,E.$length())):Y="",q=0,u(Y,ce(E.$split(X("LF"),-1),"map",[],function l(t){var a,v,_=l.$$s==null?this:l.$$s,c=h,A=h,S=h;return _.document==null&&(_.document=h),t==null&&(t=h),z(c=x.$delete(q=u(q,1)))?Fe(c.$size(),1)?(v=c["$[]"](0),a=fe(v),A=a[0]==null?h:a[0],S=a[1]==null?h:a[1],""+t+X("Inline").$new(_,"callout",S,C(["id","attributes"],{id:_.document.$callouts().$read_next_id(),attributes:C(["guard"],{guard:A})})).$convert()):""+t+ce(c,"map",[],function K(j,ee){var he=K.$$s==null?this:K.$$s;return he.document==null&&(he.document=h),j==null&&(j=h),ee==null&&(ee=h),X("Inline").$new(he,"callout",ee,C(["id","attributes"],{id:he.document.$callouts().$read_next_id(),attributes:C(["guard"],{guard:j})})).$convert()},{$$s:_}).$join(" "):t},{$$s:D}).$join(X("LF")))},-3),m(ie,"$convert_quoted_text",function(E,x,M){var D=this,Y=h,q=h,l=h,t=h,a=h;if(z(E["$[]"](0)["$start_with?"](X("RS"))))if(Fe(M,"constrained")&&z(Y=E["$[]"](2)))q="["+Y+"]";else return E["$[]"](0).$slice(1,E["$[]"](0).$length());return Fe(M,"constrained")?z(q)?""+q+X("Inline").$new(D,"quoted",E["$[]"](3),C(["type"],{type:x})).$convert():(z(l=E["$[]"](2))&&(t=(a=D.$parse_quoted_text_attributes(l))["$[]"]("id"),Fe(x,"mark")&&(x="unquoted")),""+E["$[]"](1)+X("Inline").$new(D,"quoted",E["$[]"](3),C(["type","id","attributes"],{type:x,id:t,attributes:a})).$convert()):(z(l=E["$[]"](1))&&(t=(a=D.$parse_quoted_text_attributes(l))["$[]"]("id"),Fe(x,"mark")&&(x="unquoted")),X("Inline").$new(D,"quoted",E["$[]"](2),C(["type","id","attributes"],{type:x,id:t,attributes:a})).$convert())}),m(ie,"$do_replacement",function(E,x,M){var D=h;if(z((D=E["$[]"](0))["$include?"](X("RS"))))return D.$sub(X("RS"),"");switch(M){case"none":return x;case"bounding":return u(u(E["$[]"](1),x),E["$[]"](2));default:return u(E["$[]"](1),x)}}),m(ie,"$parse_quoted_text_attributes",function(E){var x,M,D=this,Y=h,q=h,l=h,t=h,a=h;return z(E["$include?"](X("ATTR_REF_HEAD")))&&(E=D.$sub_attributes(E)),z(E["$include?"](","))&&(E=E.$slice(0,E.$index(","))),z((E=E.$strip())["$empty?"]())?C([],{}):z(E["$start_with?"](".","#"))&&z(X("Compliance").$shorthand_property_syntax())?(M=E.$partition("#"),x=fe(M),Y=x[0]==null?h:x[0],x[1]==null||x[1],q=x[2]==null?h:x[2],l=C([],{}),z(q["$empty?"]())?z(Oe(Y.$length(),1))&&l["$[]="]("role",Y.$tr("."," ").$lstrip()):(M=q.$partition("."),x=fe(M),t=x[0]==null?h:x[0],x[1]==null||x[1],a=x[2]==null?h:x[2],z(t["$empty?"]())||l["$[]="]("id",t),z(a["$empty?"]())?z(Oe(Y.$length(),1))&&l["$[]="]("role",Y.$tr("."," ").$lstrip()):z(Oe(Y.$length(),1))?l["$[]="]("role",u(u(Y,"."),a).$tr("."," ").$lstrip()):l["$[]="]("role",a.$tr("."," "))),l):C(["role"],{role:E})}),m(ie,"$normalize_text",function(E,x,M){return x==null&&(x=h),M==null&&(M=h),z(E["$empty?"]())||(z(x)&&(E=E.$strip().$tr(X("LF")," ")),z(M)&&z(E["$include?"](X("R_SB")))&&(E=E.$gsub(X("ESC_R_SB"),X("R_SB")))),E},-2),m(ie,"$split_simple_csv",function(E){var x=h,M=h,D=h;return z(E["$empty?"]())?[]:z(E["$include?"]('"'))?(x=[],M="",D=h,ce(E,"each_char",[],function(q){switch(q==null&&(q=h),q){case",":return z(D)?M=u(M,q):(x["$<<"](M.$strip()),M="");case'"':return D=D["$!"]();default:return M=u(M,q)}}),x["$<<"](M.$strip())):ce(E.$split(","),"map",[],function(q){return q==null&&(q=h),q.$strip()})})}(ke[0],ke)}(We[0],We)},Opal.modules["asciidoctor/version"]=function(e){var U=e.module,B=e.const_set,C=[];return e.nil,function(G,u){var R=U(G,"Asciidoctor"),we=[R].concat(u);return B(we[0],"VERSION","2.0.20")}(C[0],C)},Opal.modules["asciidoctor/abstract_node"]=function(e){var U=e.module,B=e.klass,C=e.hash2,G=e.eqeq,u=e.truthy,R=e.def,we=e.send,z=e.rb_minus,ce=e.eqeqeq,m=e.rb_lt,Ke=e.not,se=e.to_ary,Fe=[],fe=e.nil,ve=e.$$$;return e.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(st,Se){var Oe=U(st,"Asciidoctor"),Ce=[Oe].concat(Se);return function(Ye,it,b){var We=B(Ye,it,"AbstractNode"),h=[We].concat(b),Ve=e.$r(h),rt=We.$$prototype;return rt.document=rt.attributes=rt.parent=fe,We.$include(Ve("Logging")),We.$include(Ve("Substitutors")),We.$attr_reader("attributes"),We.$attr_reader("context"),We.$attr_reader("document"),We.$attr_accessor("id"),We.$attr_reader("node_name"),We.$attr_reader("parent"),R(We,"$initialize",function(k,ke,O){var ue=this,ie=fe;return O==null&&(O=C([],{})),G(ke,"document")?ue.document=ue:u(k)&&(ue.document=(ue.parent=k).$document()),ue.node_name=(ue.context=ke).$to_s(),ue.attributes=u(ie=O["$[]"]("attributes"))?ie.$merge():C([],{}),ue.passthroughs=[]},-3),R(We,"$block?",function(){var k=this;return k.$raise(ve("NotImplementedError"))}),R(We,"$inline?",function(){var k=this;return k.$raise(ve("NotImplementedError"))}),R(We,"$converter",function(){var k=this;return k.document.$converter()}),R(We,"$parent=",function(k){var ke,O=this;return ke=[k,k.$document()],O.parent=ke[0],O.document=ke[1],ke}),R(We,"$attr",function(k,ke,O){var ue=this,ie=fe,H=fe,X=fe,F=fe;return ke==null&&(ke=fe),O==null&&(O=fe),u(ie=ue.attributes["$[]"](k.$to_s()))?ie:u(H=u(X=u(F=O)?ue.parent:F)?ue.document.$attributes()["$[]"]((G(O,!0)?k:O).$to_s()):X)?H:ke},-2),R(We,"$attr?",function(k,ke,O){var ue=this,ie=fe;return ke==null&&(ke=fe),O==null&&(O=fe),u(ke)?ke["$=="](u(ie=ue.attributes["$[]"](k.$to_s()))?ie:u(O)&&u(ue.parent)?ue.document.$attributes()["$[]"]((G(O,!0)?k:O).$to_s()):fe):u(ie=ue.attributes["$key?"](k.$to_s()))?ie:u(O)&&u(ue.parent)?ue.document.$attributes()["$key?"]((G(O,!0)?k:O).$to_s()):!1},-2),R(We,"$set_attr",function(k,ke,O){var ue=this;return ke==null&&(ke=""),O==null&&(O=!0),G(O,!1)&&u(ue.attributes["$key?"](k))?!1:(ue.attributes["$[]="](k,ke),!0)},-2),R(We,"$remove_attr",function(k){var ke=this;return ke.attributes.$delete(k)}),R(We,"$option?",function(k){var ke=this;return!!u(ke.attributes["$[]"](""+k+"-option"))}),R(We,"$set_option",function(k){var ke=this;return ke.attributes["$[]="](""+k+"-option",""),fe}),R(We,"$enabled_options",function(){var k=this;return we(ve("Set").$new(),"tap",[],function ke(O){var ue=ke.$$s==null?this:ke.$$s;return ue.attributes==null&&(ue.attributes=fe),O==null&&(O=fe),we(ue.attributes,"each_key",[],function(H){return H==null&&(H=fe),u(H.$to_s()["$end_with?"]("-option"))?O["$<<"](H.$slice(0,z(H.$length(),7))):fe})},{$$s:k})}),R(We,"$update_attributes",function(k){var ke=this;return ke.attributes.$update(k)}),R(We,"$role",function(){var k=this;return k.attributes["$[]"]("role")}),R(We,"$roles",function(){var k=this,ke=fe;return u(ke=k.attributes["$[]"]("role"))?ke.$split():[]}),R(We,"$role?",function(k){var ke=this;return k==null&&(k=fe),u(k)?k["$=="](ke.attributes["$[]"]("role")):ke.attributes["$key?"]("role")},-1),R(We,"$has_role?",function(k){var ke=this,O=fe;return u(O=ke.attributes["$[]"]("role"))?(" "+O+" ")["$include?"](" "+k+" "):!1}),R(We,"$role=",function(k){var ke,O=this;return ke=["role",ce(ve("Array"),k)?k.$join(" "):k],we(O.attributes,"[]=",ke),ke[ke.length-1]}),R(We,"$add_role",function(k){var ke=this,O=fe;return u(O=ke.attributes["$[]"]("role"))?u((" "+O+" ")["$include?"](" "+k+" "))?!1:(ke.attributes["$[]="]("role",""+O+" "+k),!0):(ke.attributes["$[]="]("role",k),!0)}),R(We,"$remove_role",function(k){var ke=this,O=fe;return u(O=ke.attributes["$[]"]("role"))&&u((O=O.$split()).$delete(k))?(u(O["$empty?"]())?ke.attributes.$delete("role"):ke.attributes["$[]="]("role",O.$join(" ")),!0):!1}),R(We,"$reftext",function(){var k=this,ke=fe;return u(ke=k.attributes["$[]"]("reftext"))?k.$apply_reftext_subs(ke):fe}),R(We,"$reftext?",function(){var k=this;return k.attributes["$key?"]("reftext")}),R(We,"$icon_uri",function(k){var ke=this,O=fe;return u(ke["$attr?"]("icon"))?(O=ke.$attr("icon"),u(Ve("Helpers")["$extname?"](O))||(O=""+O+"."+ke.document.$attr("icontype","png"))):O=""+k+"."+ke.document.$attr("icontype","png"),ke.$image_uri(O,"iconsdir")}),R(We,"$image_uri",function(k,ke){var O=this,ue=fe,ie=fe;return ke==null&&(ke="imagesdir"),u(m((ue=O.document).$safe(),ve(Ve("SafeMode"),"SECURE")))&&u(ue["$attr?"]("data-uri"))?u(Ve("Helpers")["$uriish?"](k))&&u(k=Ve("Helpers").$encode_spaces_in_uri(k))||u(ke)&&u(ie=ue.$attr(ke))&&u(Ve("Helpers")["$uriish?"](ie))&&u(k=O.$normalize_web_path(k,ie,!1))?u(ue["$attr?"]("allow-uri-read"))?O.$generate_data_uri_from_uri(k,ue["$attr?"]("cache-uri")):k:O.$generate_data_uri(k,ke):O.$normalize_web_path(k,u(ke)?ue.$attr(ke):fe)},-2),R(We,"$media_uri",function(k,ke){var O=this;return ke==null&&(ke="imagesdir"),O.$normalize_web_path(k,u(ke)?O.document.$attr(ke):fe)},-2),R(We,"$generate_data_uri",function(k,ke){var O=this,ue=fe,ie=fe,H=fe;return ke==null&&(ke=fe),u(ue=Ve("Helpers").$extname(k,fe))?ie=G(ue,".svg")?"image/svg+xml":"image/"+ue.$slice(1,ue.$length()):ie="application/octet-stream",u(ke)?H=O.$normalize_system_path(k,O.document.$attr(ke),fe,C(["target_name"],{target_name:"image"})):H=O.$normalize_system_path(k),u(ve("File")["$readable?"](H))?"data:"+ie+";base64,"+ve("Base64").$strict_encode64(ve("File").$binread(H)):(O.$logger().$warn("image to embed not found or not readable: "+H),"data:"+ie+";base64,")},-2),R(We,"$generate_data_uri_from_uri",function(k,ke){var O,ue,ie=this,H=fe,X=fe;ke==null&&(ke=!1),u(ke)?Ve("Helpers").$require_library("open-uri/cached","open-uri-cached"):Ke(Ve("RUBY_ENGINE_OPAL"))&&ve("OpenURI");try{return ue=we(ve("OpenURI"),"open_uri",[k,Ve("URI_READ_MODE")],function(E){return E==null&&(E=fe),[E.$content_type(),E.$read()]}),O=se(ue),H=O[0]==null?fe:O[0],X=O[1]==null?fe:O[1],"data:"+H+";base64,"+ve("Base64").$strict_encode64(X)}catch(F){if(e.rescue(F,[Ve("StandardError")]))try{return ie.$logger().$warn("could not retrieve image data from URI: "+k),k}finally{e.pop_exception()}else throw F}},-2),R(We,"$normalize_asset_path",function(k,ke,O){var ue=this;return ke==null&&(ke="path"),O==null&&(O=!0),ue.$normalize_system_path(k,ue.document.$base_dir(),fe,C(["target_name","recover"],{target_name:ke,recover:O}))},-2),R(We,"$normalize_system_path",function(k,ke,O,ue){var ie=this,H=fe,X=fe;return ke==null&&(ke=fe),O==null&&(O=fe),ue==null&&(ue=C([],{})),u(m((H=ie.document).$safe(),ve(Ve("SafeMode"),"SAFE")))?u(ke)?u(H.$path_resolver()["$root?"](ke))||(ke=ve("File").$join(H.$base_dir(),ke)):ke=H.$base_dir():(ke=u(X=ke)?X:H.$base_dir(),O=u(X=O)?X:H.$base_dir()),H.$path_resolver().$system_path(k,ke,O,ue)},-2),R(We,"$normalize_web_path",function(k,ke,O){var ue=this;return ke==null&&(ke=fe),O==null&&(O=!0),u(O)&&u(Ve("Helpers")["$uriish?"](k))?Ve("Helpers").$encode_spaces_in_uri(k):ue.document.$path_resolver().$web_path(k,ke)},-2),R(We,"$read_asset",function(k,ke){var O=this,ue=fe;return ke==null&&(ke=C([],{})),ce(ve("Hash"),ke)||(ke=C(["warn_on_failure"],{warn_on_failure:ke["$!="](!1)})),u(ve("File")["$readable?"](k))?u(ke["$[]"]("normalize"))?Ve("Helpers").$prepare_source_string(ve("File").$read(k,C(["mode"],{mode:Ve("FILE_READ_MODE")}))).$join(Ve("LF")):ve("File").$read(k,C(["mode"],{mode:Ve("FILE_READ_MODE")})):(u(ke["$[]"]("warn_on_failure"))&&O.$logger().$warn(""+(u(ue=O.$attr("docfile"))?ue:"<stdin>")+": "+(u(ue=ke["$[]"]("label"))?ue:"file")+" does not exist or cannot be read: "+k),fe)},-2),R(We,"$read_contents",function(k,ke){var O=this,ue=fe,ie=fe,H=fe,X=fe;if(ke==null&&(ke=C([],{})),ue=O.document,u(Ve("Helpers")["$uriish?"](k))||u(ie=ke["$[]"]("start"))&&u(Ve("Helpers")["$uriish?"](ie))&&u(k=ue.$path_resolver().$web_path(k,ie)))if(u(ue["$attr?"]("allow-uri-read"))){u(ue["$attr?"]("cache-uri"))&&Ve("Helpers").$require_library("open-uri/cached","open-uri-cached");try{u(ke["$[]"]("normalize"))?H=Ve("Helpers").$prepare_source_string(we(ve("OpenURI"),"open_uri",[k,Ve("URI_READ_MODE")],function(E){return E==null&&(E=fe),E.$read()})).$join(Ve("LF")):H=we(ve("OpenURI"),"open_uri",[k,Ve("URI_READ_MODE")],function(E){return E==null&&(E=fe),E.$read()})}catch(F){if(e.rescue(F,[Ve("StandardError")]))try{u(ke.$fetch("warn_on_failure",!0))&&O.$logger().$warn("could not retrieve contents of "+(u(X=ke["$[]"]("label"))?X:"asset")+" at URI: "+k)}finally{e.pop_exception()}else throw F}}else u(ke.$fetch("warn_on_failure",!0))&&O.$logger().$warn("cannot retrieve contents of "+(u(X=ke["$[]"]("label"))?X:"asset")+" at URI: "+k+" (allow-uri-read attribute not enabled)");else k=O.$normalize_system_path(k,ke["$[]"]("start"),fe,C(["target_name"],{target_name:u(X=ke["$[]"]("label"))?X:"asset"})),H=O.$read_asset(k,C(["normalize","warn_on_failure","label"],{normalize:ke["$[]"]("normalize"),warn_on_failure:ke.$fetch("warn_on_failure",!0),label:ke["$[]"]("label")}));return u(H)&&u(ke["$[]"]("warn_if_empty"))&&u(H["$empty?"]())&&O.$logger().$warn("contents of "+(u(X=ke["$[]"]("label"))?X:"asset")+" is empty: "+k),H},-2),R(We,"$is_uri?",function(k){return Ve("Helpers")["$uriish?"](k)})}(Ce[0],null,Ce)}(Fe[0],Fe)},Opal.modules["asciidoctor/abstract_block"]=function(e){var U=e.module,B=e.klass,C=e.hash2,G=e.send2,u=e.find_super,R=e.eqeq,we=e.eqeqeq,z=e.def,ce=e.return_val,m=e.truthy,Ke=e.alias,se=e.send,Fe=e.rb_plus,fe=e.not,ve=e.neqeq,st=[],Se=e.nil,Oe=e.$$$;return e.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(Ce,Ye){var it=U(Ce,"Asciidoctor"),b=[it].concat(Ye),We=e.$r(b);return function(h,Ve,rt){var T=B(h,Ve,"AbstractBlock"),k=[T].concat(rt),ke=e.$r(k),O=T.$$prototype;return O.source_location=O.document=O.attributes=O.blocks=O.numeral=O.context=O.parent=O.caption=O.style=O.converted_title=O.title=O.subs=O.next_section_index=O.next_section_ordinal=O.id=O.header=Se,T.$attr_reader("blocks"),T.$attr_writer("caption"),T.$attr_accessor("content_model"),T.$attr_accessor("level"),T.$attr_accessor("numeral"),T.$attr_accessor("source_location"),T.$attr_accessor("style"),T.$attr_reader("subs"),z(T,"$initialize",function ue(ie,H,X){var F=ue.$$p||Se,E=this;return ue.$$p=null,X==null&&(X=C([],{})),G(E,u(E,"initialize",ue,!1,!0),"initialize",[ie,H,X],F),E.content_model="compound",E.blocks=[],E.subs=[],E.id=E.title=E.caption=E.numeral=E.style=E.default_subs=E.source_location=Se,R(H,"document")||R(H,"section")?(E.level=E.next_section_index=0,E.next_section_ordinal=1):we(ke("AbstractBlock"),ie)?E.level=ie.$level():E.level=Se},-3),z(T,"$block?",ce(!0)),z(T,"$inline?",ce(!1)),z(T,"$file",function(){var ie=this,H=Se;return m(H=ie.source_location)?ie.source_location.$file():H}),z(T,"$lineno",function(){var ie=this,H=Se;return m(H=ie.source_location)?ie.source_location.$lineno():H}),z(T,"$convert",function(){var ie=this;return ie.document.$playback_attributes(ie.attributes),ie.$converter().$convert(ie)}),Ke(T,"render","convert"),z(T,"$content",function(){var ie=this;return se(ie.blocks,"map",[],function(X){return X==null&&(X=Se),X.$convert()}).$join(ke("LF"))}),z(T,"$context=",function(ie){var H=this;return H.node_name=(H.context=ie).$to_s()}),z(T,"$<<",function(ie){var H=this;return R(ie.$parent(),H)||ie["$parent="](H),H.blocks["$<<"](ie),H}),Ke(T,"append","<<"),z(T,"$blocks?",function(){var ie=this;return!m(ie.blocks["$empty?"]())}),z(T,"$sections?",ce(!1)),z(T,"$number",function(){var ie=this;try{return ie.$Integer(ie.numeral)}catch(H){if(e.rescue(H,[ke("StandardError")]))try{return ie.numeral}finally{e.pop_exception()}else throw H}}),z(T,"$number=",function(ie){var H=this;return H.numeral=ie.$to_s()}),z(T,"$find_by",function ue(ie){var H=ue.$$p||Se,X=this,F=Se;ue.$$p=null,ie==null&&(ie=C([],{}));try{return se(X,"find_by_internal",[ie,F=[]],H.$to_proc())}catch(E){if(e.rescue(E,[Oe("StopIteration")]))try{return F}finally{e.pop_exception()}else throw E}},-1),Ke(T,"query","find_by"),z(T,"$next_adjacent_block",function(){var ie=this,H=Se,X=Se;return R(ie.context,"document")?Se:R((H=ie.parent).$context(),"dlist")&&R(ie.context,"list_item")?m(X=H.$items()["$[]"](Fe(se(H.$items(),"find_index",[],function F(E,x){var M=F.$$s==null?this:F.$$s,D=Se;return E==null&&(E=Se),x==null&&(x=Se),m(D=E["$include?"](M))?D:x["$=="](M)},{$$s:ie}),1)))?X:H.$next_adjacent_block():m(X=H.$blocks()["$[]"](Fe(H.$blocks().$find_index(ie),1)))?X:H.$next_adjacent_block()}),z(T,"$sections",function(){var ie=this;return se(ie.blocks,"select",[],function(X){return X==null&&(X=Se),X.$context()["$=="]("section")})}),z(T,"$alt",function(){var ie=this,H=Se;return m(H=ie.attributes["$[]"]("alt"))?R(H,ie.attributes["$[]"]("default-alt"))?ie.$sub_specialchars(H):(H=ie.$sub_specialchars(H),m(ke("ReplaceableTextRx")["$match?"](H))?ie.$sub_replacements(H):H):""}),z(T,"$caption",function(){var ie=this;return R(ie.context,"admonition")?ie.attributes["$[]"]("textlabel"):ie.caption}),z(T,"$captioned_title",function(){var ie=this;return""+ie.caption+ie.$title()}),z(T,"$list_marker_keyword",function(ie){var H=this,X=Se;return ie==null&&(ie=Se),ke("ORDERED_LIST_KEYWORDS")["$[]"](m(X=ie)?X:H.style)},-1),z(T,"$title",function(){var ie=this,H=Se,X=Se;return ie.converted_title=m(H=ie.converted_title)?H:m(X=ie.title)?ie.$apply_title_subs(ie.title):X}),z(T,"$title?",function(){var ie=this;return!!m(ie.title)}),z(T,"$title=",function(ie){var H=this;return H.converted_title=Se,H.title=ie}),z(T,"$sub?",function(ie){var H=this;return H.subs["$include?"](ie)}),z(T,"$remove_sub",function(ie){var H=this;return H.subs.$delete(ie),Se}),z(T,"$xreftext",function(ie){var H=this,X=Se,F=Se,E=Se,x=Se;if(ie==null&&(ie=Se),m(X=H.$reftext())&&fe(X["$empty?"]()))return X;if(m(ie)&&m(H.title)&&fe(H.caption["$nil_or_empty?"]()))switch(ie){case"full":return F=H.$sub_placeholder(H.$sub_quotes(m(H.document.$compat_mode())?"``%s''":'"`%s`"'),H.$title()),m(H.numeral)&&m(x=ke("CAPTION_ATTRIBUTE_NAMES")["$[]"](H.context))&&m(E=H.document.$attributes()["$[]"](x))?""+E+" "+H.numeral+", "+F:""+H.caption.$chomp(". ")+", "+F;case"short":return m(H.numeral)&&m(x=ke("CAPTION_ATTRIBUTE_NAMES")["$[]"](H.context))&&m(E=H.document.$attributes()["$[]"](x))?""+E+" "+H.numeral:H.caption.$chomp(". ");default:return H.$title()}else return H.$title()},-1),z(T,"$assign_caption",function(ie,H){var X=this,F=Se,E=Se,x=Se;return H==null&&(H=X.context),m(X.caption)||fe(X.title)||m(X.caption=m(F=ie)?F:X.document.$attributes()["$[]"]("caption"))||m(x=ke("CAPTION_ATTRIBUTE_NAMES")["$[]"](H))&&m(E=X.document.$attributes()["$[]"](x))&&(X.caption=""+E+" "+(X.numeral=X.document.$increment_and_store_counter(""+H+"-number",X))+". "),Se},-2),z(T,"$assign_numeral",function(ie){var H,X=this,F=Se,E=Se,x=Se;return X.next_section_index=Fe((H=[X.next_section_index],se(ie,"index=",H),H[H.length-1]),1),m(F=ie.$numbered())&&(R(E=ie.$sectname(),"appendix")?(ie["$numeral="](X.document.$counter("appendix-number","A")),ie["$caption="](m(x=X.document.$attributes()["$[]"]("appendix-caption"))?""+x+" "+ie.$numeral()+": ":""+ie.$numeral()+". ")):R(E,"chapter")||R(F,"chapter")?ie["$numeral="](X.document.$counter("chapter-number",1).$to_s()):(ie["$numeral="](R(E,"part")?ke("Helpers").$int_to_roman(X.next_section_ordinal):X.next_section_ordinal.$to_s()),X.next_section_ordinal=Fe(X.next_section_ordinal,1))),Se}),z(T,"$reindex_sections",function(){var ie=this;return ie.next_section_index=0,ie.next_section_ordinal=1,se(ie.blocks,"each",[],function H(X){var F=H.$$s==null?this:H.$$s;return X==null&&(X=Se),R(X.$context(),"section")?(F.$assign_numeral(X),X.$reindex_sections()):Se},{$$s:ie})}),T.$protected(),z(T,"$find_by_internal",function ue(ie,H){var X=ue.$$p||Se,F=this,E=Se,x=Se,M=Se,D=Se,Y=Se,q=Se;if(ue.$$p=null,ie==null&&(ie=C([],{})),H==null&&(H=[]),(m(D=m(Y=ie["$[]"]("context"))?Se:!0)||R(Y,F.context))&&(fe(M=ie["$[]"]("style"))||R(M,F.style))&&(fe(x=ie["$[]"]("role"))||m(F["$has_role?"](x)))&&(fe(E=ie["$[]"]("id"))||R(E,F.id)))if(X!==Se)if(m(q=e.yield1(X,F)))switch(q){case"prune":return H["$<<"](F),m(E)&&F.$raise(Oe("StopIteration")),H;case"reject":return m(E)&&F.$raise(Oe("StopIteration")),H;case"stop":F.$raise(Oe("StopIteration"));break;default:H["$<<"](F),m(E)&&F.$raise(Oe("StopIteration"))}else m(E)&&F.$raise(Oe("StopIteration"));else H["$<<"](F),m(E)&&F.$raise(Oe("StopIteration"));switch(F.context){case"document":R(Y,"document")||(m(F["$header?"]())&&(m(D)||R(Y,"section"))&&se(F.header,"find_by_internal",[ie,H],X.$to_proc()),se(F.blocks,"each",[],function(t){return t==null&&(t=Se),R(Y,"section")&&ve(t.$context(),"section")?Se:se(t,"find_by_internal",[ie,H],X.$to_proc())}));break;case"dlist":(m(D)||ve(Y,"section"))&&se(F.blocks.$flatten(),"each",[],function(t){return t==null&&(t=Se),m(t)?se(t,"find_by_internal",[ie,H],X.$to_proc()):Se});break;case"table":m(ie["$[]"]("traverse_documents"))?(se(F.$rows().$head(),"each",[],function(t){return t==null&&(t=Se),se(t,"each",[],function(v){return v==null&&(v=Se),se(v,"find_by_internal",[ie,H],X.$to_proc())})}),R(Y,"inner_document")&&(ie=ie.$merge(C(["context"],{context:"document"}))),se(Fe(F.$rows().$body(),F.$rows().$foot()),"each",[],function(t){return t==null&&(t=Se),se(t,"each",[],function(v){return v==null&&(v=Se),se(v,"find_by_internal",[ie,H],X.$to_proc()),R(v.$style(),"asciidoc")?se(v.$inner_document(),"find_by_internal",[ie,H],X.$to_proc()):Se})})):se(Fe(Fe(F.$rows().$head(),F.$rows().$body()),F.$rows().$foot()),"each",[],function(t){return t==null&&(t=Se),se(t,"each",[],function(v){return v==null&&(v=Se),se(v,"find_by_internal",[ie,H],X.$to_proc())})});break;default:se(F.blocks,"each",[],function(t){return t==null&&(t=Se),R(Y,"section")&&ve(t.$context(),"section")?Se:se(t,"find_by_internal",[ie,H],X.$to_proc())})}return H},-1)}(b[0],We("AbstractNode"),b)}(st[0],st)},Opal.modules["asciidoctor/attribute_list"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.hash,u=e.regexp,R=e.hash2,we=e.def,z=e.truthy,ce=e.rb_plus,m=e.send,Ke=e.defs,se=e.eqeqeq,Fe=e.eqeq,fe=e.rb_times,ve=[],st=e.nil,Se=e.$$$;return e.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(Oe,Ce){var Ye=U(Oe,"Asciidoctor"),it=[Ye].concat(Ce);return function(b,We,h){var Ve=B(b,We,"AttributeList"),rt=[Ve].concat(h),T=e.$r(rt),k=Ve.$$prototype;return k.attributes=k.scanner=k.delimiter=k.block=k.delimiter_skip_pattern=k.delimiter_boundary_pattern=st,C(rt[0],"APOS","'"),C(rt[0],"BACKSLASH","\\"),C(rt[0],"QUOT",'"'),C(rt[0],"BoundaryRx",G(T("QUOT"),/.*?[^\\](?=")/,T("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),C(rt[0],"EscapedQuotes",G(T("QUOT"),'\\"',T("APOS"),"\\'")),C(rt[0],"NameRx",u([T("CG_WORD"),"[",T("CC_WORD"),"\\-.]*"])),C(rt[0],"BlankRx",/[ \t]+/),C(rt[0],"SkipRx",R([","],{",":/[ \t]*(,|$)/})),we(Ve,"$initialize",function(O,ue,ie){var H=this;return ue==null&&(ue=st),ie==null&&(ie=","),H.scanner=Se("StringScanner").$new(O),H.block=ue,H.delimiter=ie,H.delimiter_skip_pattern=T("SkipRx")["$[]"](ie),H.delimiter_boundary_pattern=T("BoundaryRx")["$[]"](ie),H.attributes=st},-2),we(Ve,"$parse_into",function(O,ue){var ie=this;return ue==null&&(ue=[]),O.$update(ie.$parse(ue))},-2),we(Ve,"$parse",function(O){var ue=this,ie=st;if(O==null&&(O=[]),z(ue.attributes))return ue.attributes;for(ue.attributes=R([],{}),ie=0;z(ue.$parse_attribute(ie,O))&&!z(ue.scanner["$eos?"]());)ue.$skip_delimiter(),ie=ce(ie,1);return ue.attributes},-1),we(Ve,"$rekey",function(O){var ue=this;return T("AttributeList").$rekey(ue.attributes,O)}),Ke(Ve,"$rekey",function(O,ue){return m(ue,"each_with_index",[],function(H,X){var F,E=st;return H==null&&(H=st),X==null&&(X=st),z(H)&&z(E=O["$[]"](ce(X,1)))?(F=[H,E],m(O,"[]=",F),F[F.length-1]):st}),O}),Ve.$private(),we(Ve,"$parse_attribute",function(O,ue){var ie=this,H=st,X=st,F=st,E=st,x=st,M=st,D=st,Y=st,q=st,l=st;if(H=!0,ie.$skip_blank(),se(T("QUOT"),X=ie.scanner.$peek(1)))F=ie.$parse_attribute_value(ie.scanner.$get_byte());else if(se(T("APOS"),X))F=ie.$parse_attribute_value(ie.scanner.$get_byte()),z(F["$start_with?"](T("APOS")))||(E=!0);else if(x=z(M=z(D=F=ie.$scan_name())?ie.$skip_blank():D)?M:0,z(ie.scanner["$eos?"]())){if(!(z(F)||z(ie.scanner.$string().$rstrip()["$end_with?"](ie.delimiter))))return st;H=st}else if(Fe(Y=ie.scanner.$get_byte(),ie.delimiter))ie.scanner.$unscan();else if(z(F))if(Fe(Y,"=")){if(ie.$skip_blank(),se(T("QUOT"),M=Y=ie.scanner.$get_byte()))q=ie.$parse_attribute_value(Y);else if(se(T("APOS"),M))q=ie.$parse_attribute_value(Y),z(q["$start_with?"](T("APOS")))||(E=!0);else if(se(ie.delimiter,M))q="",ie.scanner.$unscan();else if(se(st,M))q="";else if(q=""+Y+ie.$scan_to_delimiter(),Fe(q,"None"))return!0}else F=""+F+fe(" ",x)+Y+ie.$scan_to_delimiter();else F=""+Y+ie.$scan_to_delimiter();if(z(q))switch(F){case"options":case"opts":z(q["$include?"](","))?(z(q["$include?"](" "))&&(q=q.$delete(" ")),m(q.$split(","),"each",[],function t(a){var v,_=t.$$s==null?this:t.$$s;return _.attributes==null&&(_.attributes=st),a==null&&(a=st),z(a["$empty?"]())?st:(v=[""+a+"-option",""],m(_.attributes,"[]=",v),v[v.length-1])},{$$s:ie})):z(q["$empty?"]())||ie.attributes["$[]="](""+q+"-option","");break;default:if(z(E)&&z(ie.block))switch(F){case"title":case"reftext":ie.attributes["$[]="](F,q);break;default:ie.attributes["$[]="](F,ie.block.$apply_subs(q))}else ie.attributes["$[]="](F,q)}else z(E)&&z(ie.block)&&(F=ie.block.$apply_subs(F)),z(l=ue["$[]"](O))&&z(F)&&ie.attributes["$[]="](l,F),ie.attributes["$[]="](ce(O,1),F);return H}),we(Ve,"$parse_attribute_value",function(O){var ue=this,ie=st;return Fe(ue.scanner.$peek(1),O)?(ue.scanner.$get_byte(),""):z(ie=ue.$scan_to_quote(O))?(ue.scanner.$get_byte(),z(ie["$include?"](T("BACKSLASH")))?ie.$gsub(T("EscapedQuotes")["$[]"](O),O):ie):""+O+ue.$scan_to_delimiter()}),we(Ve,"$skip_blank",function(){var O=this;return O.scanner.$skip(T("BlankRx"))}),we(Ve,"$skip_delimiter",function(){var O=this;return O.scanner.$skip(O.delimiter_skip_pattern)}),we(Ve,"$scan_name",function(){var O=this;return O.scanner.$scan(T("NameRx"))}),we(Ve,"$scan_to_delimiter",function(){var O=this;return O.scanner.$scan(O.delimiter_boundary_pattern)}),we(Ve,"$scan_to_quote",function(O){var ue=this;return ue.scanner.$scan(T("BoundaryRx")["$[]"](O))})}(it[0],null,it)}(ve[0],ve)},Opal.modules["asciidoctor/block"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.hash2,u=e.alias,R=e.send2,we=e.find_super,z=e.truthy,ce=e.eqeqeq,m=e.def,Ke=e.rb_lt,se=e.eqeq,Fe=[],fe=e.nil,ve=e.$$$;return e.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(st,Se){var Oe=U(st,"Asciidoctor"),Ce=[Oe].concat(Se),Ye=e.$r(Ce);return function(it,b,We){var h=B(it,b,"Block"),Ve=[h].concat(We),rt=e.$r(Ve),T=h.$$prototype;return T.attributes=T.content_model=T.lines=T.subs=T.blocks=T.context=T.style=fe,C(Ve[0],"DEFAULT_CONTENT_MODEL",G(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),u(h,"blockname","context"),h.$attr_accessor("lines"),m(h,"$initialize",function k(ke,O,ue){var ie=k.$$p||fe,H=this,X=fe,F=fe,E=fe;return k.$$p=null,ue==null&&(ue=G([],{})),R(H,we(H,"initialize",k,!1,!0),"initialize",[ke,O,ue],ie),H.content_model=z(X=ue["$[]"]("content_model"))?X:rt("DEFAULT_CONTENT_MODEL")["$[]"](O),z(ue["$key?"]("subs"))?z(F=ue["$[]"]("subs"))?(ce("default",X=F)?H.default_subs=ue["$[]"]("default_subs"):ce(ve("Array"),X)?(H.default_subs=F.$drop(0),H.attributes.$delete("subs")):(H.default_subs=fe,H.attributes["$[]="]("subs",F.$to_s())),H.$commit_subs()):(H.default_subs=[],H.attributes.$delete("subs")):H.default_subs=fe,z((E=ue["$[]"]("source"))["$nil_or_empty?"]())?H.lines=[]:ce(ve("String"),E)?H.lines=rt("Helpers").$prepare_source_string(E):H.lines=E.$drop(0)},-3),m(h,"$content",function k(){var ke=k.$$p||fe,O=this,ue=fe,ie=fe,H=fe,X=fe;switch(k.$$p=null,O.content_model){case"compound":return R(O,we(O,"content",k,!1,!0),"content",[],ke);case"simple":return O.$apply_subs(O.lines.$join(rt("LF")),O.subs);case"verbatim":case"raw":if(ue=O.$apply_subs(O.lines,O.subs),z(Ke(ue.$size(),2)))return z(ie=ue["$[]"](0))?ie:"";for(;z(z(ie=H=ue["$[]"](0))?H.$rstrip()["$empty?"]():ie);)ue.$shift();for(;z(z(ie=X=ue["$[]"](-1))?X.$rstrip()["$empty?"]():ie);)ue.$pop();return ue.$join(rt("LF"));default:return se(O.content_model,"empty")||O.$logger().$warn("unknown content model '"+O.content_model+"' for block: "+O),fe}}),m(h,"$source",function(){var ke=this;return ke.lines.$join(rt("LF"))}),m(h,"$to_s",function(){var ke=this,O=fe;return O=se(ke.content_model,"compound")?"blocks: "+ke.blocks.$size():"lines: "+ke.lines.$size(),"#<"+ke.$class()+"@"+ke.$object_id()+" {context: "+ke.context.$inspect()+", content_model: "+ke.content_model.$inspect()+", style: "+ke.style.$inspect()+", "+O+"}>"})}(Ce[0],Ye("AbstractBlock"),Ce)}(Fe[0],Fe)},Opal.modules["asciidoctor/callouts"]=function(e){var U=e.module,B=e.klass,C=e.def,G=e.hash2,u=e.rb_plus,R=e.truthy,we=e.rb_le,z=e.rb_minus,ce=e.send,m=e.eqeq,Ke=e.rb_lt,se=[],Fe=e.nil;return e.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),function(fe,ve){var st=U(fe,"Asciidoctor"),Se=[st].concat(ve);return function(Oe,Ce){var Ye=B(Oe,Ce,"Callouts"),it=Ye.$$prototype;return it.co_index=it.lists=it.list_index=Fe,C(Ye,"$initialize",function(){var We=this;return We.lists=[],We.list_index=0,We.$next_list()}),C(Ye,"$register",function(We){var h=this,Ve=Fe;return h.$current_list()["$<<"](G(["ordinal","id"],{ordinal:We.$to_i(),id:Ve=h.$generate_next_callout_id()})),h.co_index=u(h.co_index,1),Ve}),C(Ye,"$read_next_id",function(){var We=this,h=Fe,Ve=Fe;return h=Fe,Ve=We.$current_list(),R(we(We.co_index,Ve.$size()))&&(h=Ve["$[]"](z(We.co_index,1))["$[]"]("id")),We.co_index=u(We.co_index,1),h}),C(Ye,"$callout_ids",function(We){var h=this;return ce(h.$current_list(),"map",[],function(rt){return rt==null&&(rt=Fe),m(rt["$[]"]("ordinal"),We)?""+rt["$[]"]("id")+" ":""}).$join().$chop()}),C(Ye,"$current_list",function(){var We=this;return We.lists["$[]"](z(We.list_index,1))}),C(Ye,"$next_list",function(){var We=this;return We.list_index=u(We.list_index,1),R(Ke(We.lists.$size(),We.list_index))&&We.lists["$<<"]([]),We.co_index=1,Fe}),C(Ye,"$rewind",function(){var We=this;return We.list_index=1,We.co_index=1,Fe}),Ye.$private(),C(Ye,"$generate_next_callout_id",function(){var We=this;return We.$generate_callout_id(We.list_index,We.co_index)}),C(Ye,"$generate_callout_id",function(We,h){return"CO"+We+"-"+h})}(Se[0],null)}(se[0],se)},Opal.modules["asciidoctor/converter/composite"]=function(e){var U=e.module,B=e.klass,C=e.slice,G=e.extract_kwargs,u=e.ensure_kwargs,R=e.send,we=e.truthy,z=e.def,ce=e.thrower,m=[],Ke=e.nil,se=e.$$$;return e.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(Fe,fe){var ve=U(Fe,"Asciidoctor"),st=[ve].concat(fe),Se=e.$r(st);return function(Oe,Ce){var Ye=B(Oe,Ce,"CompositeConverter"),it=Ye.$$prototype;return it.converter_cache=it.converters=Ke,Ye.$attr_reader("converters"),z(Ye,"$initialize",function(We,h,Ve){var rt,T,k,ke,O=this;return rt=C(arguments,1),T=G(rt),T=u(T),k=rt,ke=T.$$smap.backend_traits_source,ke==null&&(ke=Ke),O.backend=We,R(O.converters=k,"each",[],function ue(ie){var H=ue.$$s==null?this:ue.$$s;return ie==null&&(ie=Ke),we(ie["$respond_to?"]("composed"))?ie.$composed(H):Ke},{$$s:O}),we(ke)&&O.$init_backend_traits(ke.$backend_traits()),O.converter_cache=R(se("Hash"),"new",[],function ue(ie,H){var X,F=ue.$$s==null?this:ue.$$s;return ie==null&&(ie=Ke),H==null&&(H=Ke),X=[H,F.$find_converter(H)],R(ie,"[]=",X),X[X.length-1]},{$$s:O})},-2),z(Ye,"$convert",function(We,h,Ve){var rt=this,T=Ke;return h==null&&(h=Ke),Ve==null&&(Ve=Ke),rt.$converter_for(h=we(T=h)?T:We.$node_name()).$convert(We,h,Ve)},-2),z(Ye,"$converter_for",function(We){var h=this;return h.converter_cache["$[]"](We)}),z(Ye,"$find_converter",function(We){try{var h=ce("return"),Ve=this;return R(Ve.converters,"each",[],function(T){if(T==null&&(T=Ke),we(T["$handles?"](We)))h.$throw(T);else return Ke},{$$ret:h}),Ve.$raise("Could not find a converter to handle transform: "+We)}catch(rt){if(rt===h)return rt.$v;throw rt}})}(Se("Converter"),se(Se("Converter"),"Base"))}(m[0],m)},Opal.modules["asciidoctor/converter"]=function(e){var U=e.module,B=e.hash2,C=e.def,G=e.return_val,u=e.truthy,R=e.eqeq,we=e.defs,z=e.send,ce=e.alias,m=e.slice,Ke=e.to_a,se=e.extract_kwargs,Fe=e.ensure_kwargs,fe=e.eqeqeq,ve=e.Class,st=e.klass,Se=e.class_variable_set,Oe=e.class_variable_get,Ce=e.rb_plus,Ye=e.gvars,it=[],b=e.nil,We=e.$$$;return e.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(h,Ve){var rt=U(h,"Asciidoctor"),T=[rt].concat(Ve);return function(k,ke){var O=U(k,"Converter"),ue=[O].concat(ke),ie=e.$r(ue);return O.$autoload("CompositeConverter","asciidoctor/converter/composite"),O.$attr_reader("backend"),C(O,"$initialize",function(X,F){var E=this;return F==null&&(F=B([],{})),E.backend=X},-2),C(O,"$convert",function(X,F,E){var x=this;return x.backend==null&&(x.backend=b),x.$raise(We("NotImplementedError"),""+x.$class()+" (backend: "+x.backend+") must implement the #convert method")},-2),C(O,"$handles?",G(!0)),we(O,"$derive_backend_traits",function(X,F){var E=b,x=b,M=b;return F==null&&(F=b),u(X)?(u(E=ie("DEFAULT_EXTENSIONS")["$[]"](F=u(x=F)?x:X.$sub(ie("TrailingDigitsRx"),"")))?M=E.$slice(1,E.$length()):E="."+(M=F),R(M,"html")?B(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:F,filetype:M,htmlsyntax:"html",outfilesuffix:E}):B(["basebackend","filetype","outfilesuffix"],{basebackend:F,filetype:M,outfilesuffix:E})):B([],{})},-2),function(H,X){var F=U(H,"BackendTraits"),E=[F].concat(X),x=e.$r(E);return C(F,"$basebackend",function(D){var Y,q=this;return D==null&&(D=b),u(D)?(Y=["basebackend",D],z(q.$backend_traits(D),"[]=",Y),Y[Y.length-1]):q.$backend_traits()["$[]"]("basebackend")},-1),C(F,"$filetype",function(D){var Y,q=this;return D==null&&(D=b),u(D)?(Y=["filetype",D],z(q.$backend_traits(),"[]=",Y),Y[Y.length-1]):q.$backend_traits()["$[]"]("filetype")},-1),C(F,"$htmlsyntax",function(D){var Y,q=this;return D==null&&(D=b),u(D)?(Y=["htmlsyntax",D],z(q.$backend_traits(),"[]=",Y),Y[Y.length-1]):q.$backend_traits()["$[]"]("htmlsyntax")},-1),C(F,"$outfilesuffix",function(D){var Y,q=this;return D==null&&(D=b),u(D)?(Y=["outfilesuffix",D],z(q.$backend_traits(),"[]=",Y),Y[Y.length-1]):q.$backend_traits()["$[]"]("outfilesuffix")},-1),C(F,"$supports_templates",function(D){var Y,q=this;return D==null&&(D=!0),Y=["supports_templates",D],z(q.$backend_traits(),"[]=",Y),Y[Y.length-1]},-1),C(F,"$supports_templates?",function(){var D=this;return D.$backend_traits()["$[]"]("supports_templates")}),C(F,"$init_backend_traits",function(D){var Y=this,q=b;return D==null&&(D=b),Y.backend_traits=u(q=D)?q:B([],{})},-1),C(F,"$backend_traits",function(D){var Y=this,q=b;return Y.backend_traits==null&&(Y.backend_traits=b),Y.backend==null&&(Y.backend=b),D==null&&(D=b),Y.backend_traits=u(q=Y.backend_traits)?q:x("Converter").$derive_backend_traits(Y.backend,D)},-1),ce(F,"backend_info","backend_traits"),we(F,"$derive_backend_traits",function(D,Y){return Y==null&&(Y=b),x("Converter").$derive_backend_traits(D,Y)},-2)}(ue[0],ue),function(H,X){var F=U(H,"Config"),E=[F].concat(X),x=e.$r(E);return C(F,"$register_for",function(D){var Y,q,l=this;return Y=m(arguments),q=Y,z(x("Converter"),"register",[l].concat(Ke(z(q,"map",[],function(a){return a==null&&(a=b),a.$to_s()}))))},-1)}(ue[0],ue),function(H,X){var F=U(H,"Factory"),E=[F].concat(X),x=e.$r(E);return we(F,"$new",function(D,Y){var q,l,t,a;return q=m(arguments),l=se(q),l=Fe(l),q.length>0&&(t=q.shift()),t==null&&(t=b),a=l.$$smap.proxy_default,a==null&&(a=!0),u(a)?x("DefaultFactoryProxy").$new(t):x("CustomFactory").$new(t)},-1),we(F,"$default",function(D){return m(arguments),x("Converter")},-1),we(F,"$create",function(D,Y){var q=this;return Y==null&&(Y=B([],{})),q.$default().$create(D,Y)},-2),C(F,"$register",function(D,Y){var q,l,t=this;return q=m(arguments,1),l=q,z(l,"each",[],function a(v){var _,c=a.$$s==null?this:a.$$s;return v==null&&(v=b),R(v,"*")?(_=[D],z(c.$registry(),"default=",_),_[_.length-1]):(_=[v,D],z(c.$registry(),"[]=",_),_[_.length-1])},{$$s:t})},-2),C(F,"$for",function(D){var Y=this;return Y.$registry()["$[]"](D)}),C(F,"$create",function(D,Y){var q=this,l=b,t=b,a=b;return Y==null&&(Y=B([],{})),u(l=q.$for(D))?(fe(ve,l)&&(l=l.$new(D,Y)),u(t=Y["$[]"]("template_dirs"))&&fe(x("BackendTraits"),l)&&u(l["$supports_templates?"]())?x("CompositeConverter").$new(D,x("TemplateConverter").$new(D,t,Y),l,B(["backend_traits_source"],{backend_traits_source:l})):l):u(t=Y["$[]"]("template_dirs"))?u(a=Y["$[]"]("delegate_backend"))&&u(l=q.$for(a))?(fe(ve,l)&&(l=l.$new(a,Y)),x("CompositeConverter").$new(D,x("TemplateConverter").$new(D,t,Y),l,B(["backend_traits_source"],{backend_traits_source:l}))):x("TemplateConverter").$new(D,t,Y):b},-2),C(F,"$converters",function(){var D=this;return D.$registry().$merge()}),F.$private(),C(F,"$registry",function(){var D=this;return D.$raise(We("NotImplementedError"),""+x("Factory")+" subclass "+D.$class()+" must implement the #registry method")})}(ue[0],ue),function(H,X,F){var E=st(H,X,"CustomFactory"),x=[E].concat(F),M=e.$r(x);return E.$include(M("Factory")),C(E,"$initialize",function(Y){var q=this;return Y==null&&(Y=b),u(Y)?(Y["$default="](Y.$delete("*")),q.registry=Y):q.registry=B([],{})},-1),C(E,"$unregister_all",function(){var Y,q=this;return Y=[b],z(q.$registry().$clear(),"default=",Y),Y[Y.length-1]}),E.$private(),E.$attr_reader("registry")}(ue[0],null,ue),function(H,X){var F=U(H,"DefaultFactory"),E=[F].concat(X),x=e.$r(E);return F.$include(x("Factory")),F.$private(),Se(E[0],"@@registry",B([],{})),C(F,"$registry",function(){return Oe(E[0],"@@registry",!1)}),b}(ue[0],ue),function(H,X,F){var E=st(H,X,"DefaultFactoryProxy"),x=[E].concat(F),M=e.$r(x);return E.$include(M("DefaultFactory")),b}(ue[0],ie("CustomFactory"),ue),we(O,"$included",function(X){return X.$send("include",ie("BackendTraits")),X.$extend(ie("Config"))}),O.$private_class_method("included"),function(H,X,F){var E=st(H,X,"Base"),x=[E].concat(F),M=e.$r(x),D=E.$$prototype;return D.backend=b,E.$include(M("Logging")),E.$include(M("Converter")),C(E,"$convert",function(q,l,t){var a=this,v=b;Ye["!"]==null&&(Ye["!"]=b),l==null&&(l=q.$node_name()),t==null&&(t=b);try{return u(t)?a.$send(Ce("convert_",l),q,t):a.$send(Ce("convert_",l),q)}catch(_){if(e.rescue(_,[M("StandardError")]))try{return fe(We("NoMethodError"),v=Ye["!"])&&R(v.$receiver(),a)&&R(v.$name().$to_s(),l)||a.$raise(),a.$logger().$warn("missing convert handler for "+v.$name()+" node in "+a.backend+" backend ("+a.$class()+")"),b}finally{e.pop_exception()}else throw _}},-2),C(E,"$handles?",function(q){var l=this;return l["$respond_to?"]("convert_"+q)}),C(E,"$content_only",function(q){return q.$content()}),C(E,"$skip",G(b))}(ue[0],null,ue),O.$extend(ie("DefaultFactory"))}(T[0],T)}(it[0],it)},Opal.modules["asciidoctor/document"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.send,u=e.alias,R=e.truthy,we=e.def,z=e.hash2,ce=e.not,m=e.to_ary,Ke=e.return_ivar,se=e.send2,Fe=e.find_super,fe=e.rb_minus,ve=e.eqeq,st=e.eqeqeq,Se=e.hash,Oe=e.rb_ge,Ce=e.rb_plus,Ye=e.neqeq,it=e.thrower,b=e.rb_gt,We=e.rb_lt,h=e.gvars,Ve=e.to_a,rt=[],T=e.nil,k=e.$$$;return e.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(ke,O){var ue=U(ke,"Asciidoctor"),ie=[ue].concat(O),H=e.$r(ie);return function(X,F,E){var x=B(X,F,"Document"),M=[x].concat(E),D=e.$r(M),Y=x.$$prototype;return Y.attributes=Y.safe=Y.sourcemap=Y.reader=Y.base_dir=Y.parsed=Y.parent_document=Y.extensions=Y.options=Y.counters=Y.catalog=Y.reftexts=Y.next_section_index=Y.header=Y.blocks=Y.header_attributes=Y.attributes_modified=Y.backend=Y.attribute_overrides=Y.timings=Y.converter=Y.outfilesuffix=Y.docinfo_processor_extensions=Y.document=Y.max_attribute_value_size=Y.id=Y.doctype=T,C(M[0],"ImageReference",G(k("Struct"),"new",["target","imagesdir"],function q(){var l=q.$$s==null?this:q.$$s;return u(l,"to_s","target")},{$$s:x})),C(M[0],"Footnote",k("Struct").$new("index","id","text")),function(q,l){var t=B(q,l,"AttributeEntry");return t.$attr_reader("name","value","negate"),we(t,"$initialize",function(v,_,c){var A=this;return c==null&&(c=T),A.name=v,A.value=_,A.negate=R(c["$nil?"]())?_["$nil?"]():c},-3),we(t,"$save_to",function(v){var _,c=this,A=T;return(R(A=v["$[]"]("attribute_entries"))?A:(_=["attribute_entries",[]],G(v,"[]=",_),_[_.length-1]))["$<<"](c),c})}(M[0],null),function(q,l,t){var a=B(q,l,"Title"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.subtitle=T,a.$attr_reader("main"),u(a,"title","main"),a.$attr_reader("subtitle"),a.$attr_reader("combined"),we(a,"$initialize",function(S,K){var j,ee,he=this,Me=T,Ze=T;return K==null&&(K=z([],{})),R(he.sanitized=K["$[]"]("sanitize"))&&R(S["$include?"]("<"))&&(S=S.$gsub(_("XmlSanitizeRx"),"").$squeeze(" ").$strip()),R((Me=R(Ze=K["$[]"]("separator"))?Ze:":")["$empty?"]())||ce(S["$include?"](Me=""+Me+" "))?(he.main=S,he.subtitle=T):(ee=S.$rpartition(Me),j=m(ee),he.main=j[0]==null?T:j[0],j[1]==null||j[1],he.subtitle=j[2]==null?T:j[2]),he.combined=S},-2),we(a,"$sanitized?",Ke("sanitized")),we(a,"$subtitle?",function(){var S=this;return!!R(S.subtitle)}),we(a,"$to_s",Ke("combined"))}(M[0],null,M),C(M[0],"Author",k("Struct").$new("name","firstname","middlename","lastname","initials","email")),x.$attr_reader("safe"),x.$attr_reader("compat_mode"),x.$attr_reader("backend"),x.$attr_reader("doctype"),x.$attr_accessor("sourcemap"),x.$attr_reader("catalog"),u(x,"references","catalog"),x.$attr_reader("counters"),x.$attr_reader("header"),x.$attr_reader("base_dir"),x.$attr_reader("options"),x.$attr_reader("outfilesuffix"),x.$attr_reader("parent_document"),x.$attr_reader("reader"),x.$attr_reader("path_resolver"),x.$attr_reader("converter"),x.$attr_reader("syntax_highlighter"),x.$attr_reader("extensions"),we(x,"$initialize",function q(l,t){var a,v,_,c;q.$$p;var A=this,S=T,K=T,j=T,ee=T,he=T,Me=T,Ze=T,$t=T,et=T,at=T,ct=T,ft=T,ut=T,ht=T,dt=T,At=T,yt=T,It=T;return q.$$p=null,l==null&&(l=T),t==null&&(t=z([],{})),se(A,Fe(A,"initialize",q,!1,!0),"initialize",[A,"document"],null),R(S=t.$delete("parent"))?(A.parent_document=S,R(K=t["$[]"]("base_dir"))||t["$[]="]("base_dir",S.$base_dir()),R(S.$options()["$[]"]("catalog_assets"))&&t["$[]="]("catalog_assets",!0),R(S.$options()["$[]"]("to_dir"))&&t["$[]="]("to_dir",S.$options()["$[]"]("to_dir")),A.catalog=S.$catalog().$merge(z(["footnotes"],{footnotes:[]})),A.attribute_overrides=j=S.$instance_variable_get("@attribute_overrides").$merge(S.$attributes()),j.$delete("compat-mode"),ee=j.$delete("doctype"),j.$delete("notitle"),j.$delete("showtitle"),j.$delete("toc"),A.attributes["$[]="]("toc-placement",R(K=j.$delete("toc-placement"))?K:"auto"),j.$delete("toc-position"),A.safe=S.$safe(),R(A.compat_mode=S.$compat_mode())&&A.attributes["$[]="]("compat-mode",""),A.outfilesuffix=S.$outfilesuffix(),A.sourcemap=S.$sourcemap(),A.timings=T,A.path_resolver=S.$path_resolver(),A.converter=S.$converter(),he=T,A.extensions=S.$extensions(),A.syntax_highlighter=S.$syntax_highlighter()):(A.parent_document=T,A.catalog=z(["ids","refs","footnotes","links","images","callouts","includes"],{ids:z([],{}),refs:z([],{}),footnotes:[],links:[],images:[],callouts:D("Callouts").$new(),includes:z([],{})}),A.attribute_overrides=j=z([],{}),G(R(K=t["$[]"]("attributes"))?K:z([],{}),"each",[],function(wt,Et){var qt;return wt==null&&(wt=T),Et==null&&(Et=T),R(wt["$end_with?"]("@"))?R(wt["$start_with?"]("!"))?(qt=[wt.$slice(1,fe(wt.$length(),2)),!1],wt=qt[0],Et=qt[1]):R(wt["$end_with?"]("!@"))?(qt=[wt.$slice(0,fe(wt.$length(),2)),!1],wt=qt[0],Et=qt[1]):(qt=[wt.$chop(),""+Et+"@"],wt=qt[0],Et=qt[1]):R(wt["$start_with?"]("!"))?(qt=[wt.$slice(1,wt.$length()),ve(Et,"@")?!1:T],wt=qt[0],Et=qt[1]):R(wt["$end_with?"]("!"))&&(qt=[wt.$chop(),ve(Et,"@")?!1:T],wt=qt[0],Et=qt[1]),qt=[wt.$downcase(),Et],G(j,"[]=",qt),qt[qt.length-1]}),st(k("String"),Me=t["$[]"]("to_file"))&&j["$[]="]("outfilesuffix",D("Helpers").$extname(Me)),ce(Ze=t["$[]"]("safe"))?A.safe=k(D("SafeMode"),"SECURE"):st(k("Integer"),Ze)?A.safe=Ze:A.safe=function(){try{return D("SafeMode").$value_for_name(Ze)}catch(St){if(e.rescue(St,[D("StandardError")]))try{return k(D("SafeMode"),"SECURE")}finally{e.pop_exception()}else throw St}}(),$t=t.$delete("input_mtime"),A.compat_mode=j["$key?"]("compat-mode"),A.sourcemap=t["$[]"]("sourcemap"),A.timings=t.$delete("timings"),A.path_resolver=D("PathResolver").$new(),he=R((a=k("::","Asciidoctor","skip_raise"))&&k(a,"Extensions","skip_raise")?"constant":T)||R(t["$key?"]("extensions"))?k(k("Asciidoctor"),"Extensions"):T,A.extensions=T,R(t["$key?"]("header_footer"))&&ce(t["$key?"]("standalone"))&&t["$[]="]("standalone",t["$[]"]("header_footer"))),A.parsed=A.reftexts=A.header=A.header_attributes=T,A.counters=z([],{}),A.attributes_modified=k("Set").$new(),A.docinfo_processor_extensions=z([],{}),et=t["$[]"]("standalone"),(A.options=t).$freeze(),at=A.attributes,R(S)||(at["$[]="]("attribute-undefined",D("Compliance").$attribute_undefined()),at["$[]="]("attribute-missing",D("Compliance").$attribute_missing()),at.$update(D("DEFAULT_ATTRIBUTES"))),R(et)?(j["$[]="]("embedded",T),at["$[]="]("copycss",""),at["$[]="]("iconfont-remote",""),at["$[]="]("stylesheet",""),at["$[]="]("webfonts","")):(j["$[]="]("embedded",""),R(j["$key?"]("showtitle"))&&ve(j.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?j["$[]="]("notitle",Se(T,"",!1,"@","@",!1)["$[]"](j["$[]"]("showtitle"))):R(j["$key?"]("notitle"))?j["$[]="]("showtitle",Se(T,"",!1,"@","@",!1)["$[]"](j["$[]"]("notitle"))):at["$[]="]("notitle","")),j["$[]="]("asciidoctor",""),j["$[]="]("asciidoctor-version",k(k("Asciidoctor"),"VERSION")),j["$[]="]("safe-mode-name",ct=D("SafeMode").$name_for_value(A.safe)),j["$[]="]("safe-mode-"+ct,""),j["$[]="]("safe-mode-level",A.safe),R(K=j["$[]"]("max-include-depth"))||j["$[]="]("max-include-depth",64),R(K=j["$[]"]("allow-uri-read"))||j["$[]="]("allow-uri-read",T),R(j["$key?"]("numbered"))&&j["$[]="]("sectnums",j.$delete("numbered")),R(j["$key?"]("hardbreaks"))&&j["$[]="]("hardbreaks-option",j.$delete("hardbreaks")),R(ft=t["$[]"]("base_dir"))?A.base_dir=(v=["docdir",k("File").$expand_path(ft)],G(j,"[]=",v),v[v.length-1]):R(j["$[]"]("docdir"))?A.base_dir=j["$[]"]("docdir"):A.base_dir=(v=["docdir",k("Dir").$pwd()],G(j,"[]=",v),v[v.length-1]),R(ut=t["$[]"]("backend"))&&j["$[]="]("backend",ut.$to_s()),R(ht=t["$[]"]("doctype"))&&j["$[]="]("doctype",ht.$to_s()),R(Oe(A.safe,k(D("SafeMode"),"SERVER")))?(R(K=j["$[]"]("copycss"))||j["$[]="]("copycss",T),R(K=j["$[]"]("source-highlighter"))||j["$[]="]("source-highlighter",T),R(K=j["$[]"]("backend"))||j["$[]="]("backend",D("DEFAULT_BACKEND")),ce(S)&&R(j["$key?"]("docfile"))&&j["$[]="]("docfile",j["$[]"]("docfile")["$[]"](e.Range.$new(Ce(j["$[]"]("docdir").$length(),1),-1,!1))),j["$[]="]("docdir",""),R(K=j["$[]"]("user-home"))||j["$[]="]("user-home","."),R(Oe(A.safe,k(D("SafeMode"),"SECURE")))&&(R(j["$key?"]("max-attribute-value-size"))||j["$[]="]("max-attribute-value-size",4096),R(j["$key?"]("linkcss"))||j["$[]="]("linkcss",""),R(K=j["$[]"]("icons"))||j["$[]="]("icons",T))):R(K=j["$[]"]("user-home"))||j["$[]="]("user-home",D("USER_HOME")),A.max_attribute_value_size=R(dt=R(K=j["$[]"]("max-attribute-value-size"))?K:(v=["max-attribute-value-size",T],G(j,"[]=",v),v[v.length-1]))?dt.$to_i().$abs():T,G(j,"delete_if",[],function(wt,Et){var qt,zt=T;return wt==null&&(wt=T),Et==null&&(Et=T),R(Et)?(st(k("String"),Et)&&R(Et["$end_with?"]("@"))&&(qt=[Et.$chop(),!0],Et=qt[0],zt=qt[1]),at["$[]="](wt,Et)):(at.$delete(wt),zt=Et["$=="](!1)),zt}),R(S)?(A.backend=at["$[]"]("backend"),ve(A.doctype=(v=["doctype",ee],G(at,"[]=",v),v[v.length-1]),D("DEFAULT_DOCTYPE"))||A.$update_doctype_attributes(D("DEFAULT_DOCTYPE")),A.reader=D("Reader").$new(l,t["$[]"]("cursor")),R(A.sourcemap)&&(A.source_location=A.reader.$cursor()),D("Parser").$parse(A.reader,A),A.$restore_attributes(),A.parsed=!0):(A.backend=T,ve(At=R(K=at["$[]"]("backend"))?K:D("DEFAULT_BACKEND"),"manpage")?A.doctype=(v=["doctype",(_=["doctype","manpage"],G(j,"[]=",_),_[_.length-1])],G(at,"[]=",v),v[v.length-1]):A.doctype=R(K=at["$[]"]("doctype"))?K:(v=["doctype",D("DEFAULT_DOCTYPE")],G(at,"[]=",v),v[v.length-1]),A.$update_backend_attributes(At,!0),R(K=at["$[]"]("stylesdir"))||at["$[]="]("stylesdir","."),R(K=at["$[]"]("iconsdir"))||at["$[]="]("iconsdir",""+at.$fetch("imagesdir","./images")+"/icons"),A.$fill_datetime_attributes(at,$t),R(he)&&(R(yt=t["$[]"]("extension_registry"))?(st(k(D("Extensions"),"Registry"),yt)||R((c=k("::","AsciidoctorJ","skip_raise"))&&(_=k(c,"Extensions","skip_raise"))&&(v=k(_,"ExtensionRegistry","skip_raise"))?"constant":T)&&st(k(k(k("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),yt))&&(A.extensions=yt.$activate(A)):R((It=t["$[]"]("extensions"))["$nil?"]())?R(D("Extensions").$groups()["$empty?"]())||(A.extensions=k(D("Extensions"),"Registry").$new().$activate(A)):st(k("Proc"),It)&&(A.extensions=G(D("Extensions"),"create",[],It.$to_proc()).$activate(A))),A.reader=D("PreprocessorReader").$new(A,l,k(D("Reader"),"Cursor").$new(at["$[]"]("docfile"),A.base_dir),z(["normalize"],{normalize:!0})),R(A.sourcemap)?A.source_location=A.reader.$cursor():T)},-1),we(x,"$parse",function(l){var t=this,a=T,v=T;return l==null&&(l=T),R(t.parsed)?t:(a=t,R(l)&&(t.reader=D("PreprocessorReader").$new(a,l,k(D("Reader"),"Cursor").$new(t.attributes["$[]"]("docfile"),t.base_dir),z(["normalize"],{normalize:!0})),R(t.sourcemap)&&(t.source_location=t.reader.$cursor())),R(v=R(t.parent_document)?T:t.extensions)&&R(v["$preprocessors?"]())&&G(v.$preprocessors(),"each",[],function _(c){var A=_.$$s==null?this:_.$$s,S=T;return A.reader==null&&(A.reader=T),c==null&&(c=T),A.reader=R(S=c.$process_method()["$[]"](a,A.reader))?S:A.reader},{$$s:t}),D("Parser").$parse(t.reader,a,z(["header_only"],{header_only:t.options["$[]"]("parse_header_only")})),t.$restore_attributes(),R(v)&&R(v["$tree_processors?"]())&&G(v.$tree_processors(),"each",[],function(c){var A=T;return c==null&&(c=T),R(A=c.$process_method()["$[]"](a))&&st(D("Document"),A)&&Ye(A,a)?a=A:T}),t.parsed=!0,a)},-1),we(x,"$parsed?",Ke("parsed")),we(x,"$counter",function(l,t){var a,v=this,_=T,c=T,A=T;return t==null&&(t=T),R(v.parent_document)?v.parent_document.$counter(l,t):(R(c=v["$attribute_locked?"](l))&&R(_=v.counters["$[]"](l))||ce((_=v.attributes["$[]"](l))["$nil_or_empty?"]())?A=(a=[l,D("Helpers").$nextval(_)],G(v.counters,"[]=",a),a[a.length-1]):R(t)?A=(a=[l,ve(t,t.$to_i().$to_s())?t.$to_i():t],G(v.counters,"[]=",a),a[a.length-1]):A=(a=[l,1],G(v.counters,"[]=",a),a[a.length-1]),R(c)||v.attributes["$[]="](l,A),A)},-2),we(x,"$increment_and_store_counter",function(l,t){var a=this;return D("AttributeEntry").$new(l,a.$counter(l)).$save_to(t.$attributes()).$value()}),u(x,"counter_increment","increment_and_store_counter"),we(x,"$register",function(l,t){var a=this,v=T,_=T,c=T;switch(l){case"ids":return a.$register("refs",[v=t["$[]"](0),D("Inline").$new(a,"anchor",t["$[]"](1),z(["type","id"],{type:"ref",id:v}))]);case"refs":return _=a.catalog["$[]"]("refs"),R(_["$[]"](t["$[]"](0)))||_["$[]="](t["$[]"](0),c=t["$[]"](1)),c;case"footnotes":return a.catalog["$[]"](l)["$<<"](t);default:return R(a.options["$[]"]("catalog_assets"))?a.catalog["$[]"](l)["$<<"](ve(l,"images")?D("ImageReference").$new(t,a.attributes["$[]"]("imagesdir")):t):T}}),we(x,"$resolve_id",function(l){var t=this,a=T,v=T;return R(t.reftexts)?t.reftexts["$[]"](l):R(t.parsed)?G(t.reftexts=z([],{}),"tap",[],function _(c){var A=_.$$s==null?this:_.$$s;return A.catalog==null&&(A.catalog=T),c==null&&(c=T),G(A.catalog["$[]"]("refs"),"each",[],function(K,j){var ee,he=T;return K==null&&(K=T),j==null&&(j=T),R(he=c["$[]"](j.$xreftext()))?he:(ee=[j.$xreftext(),K],G(c,"[]=",ee),ee[ee.length-1])})},{$$s:t})["$[]"](l):(a=T,t.reftexts=v=z([],{}),function(){try{var _=it("break");return G(t.catalog["$[]"]("refs"),"each",[],function(A,S){var K,j=T,ee=T;return A==null&&(A=T),S==null&&(S=T),ve(j=S.$xreftext(),l)&&(a=A,_.$throw()),R(ee=v["$[]"](j))?ee:(K=[j,A],G(v,"[]=",K),K[K.length-1])})}catch(c){if(c===_)return c.$v;throw c}}(),t.reftexts=T,a)}),we(x,"$sections?",function(){var l=this;return b(l.next_section_index,0)}),we(x,"$footnotes?",function(){var l=this;return!R(l.catalog["$[]"]("footnotes")["$empty?"]())}),we(x,"$footnotes",function(){var l=this;return l.catalog["$[]"]("footnotes")}),we(x,"$callouts",function(){var l=this;return l.catalog["$[]"]("callouts")}),we(x,"$nested?",function(){var l=this;return!!R(l.parent_document)}),we(x,"$embedded?",function(){var l=this;return l.attributes["$key?"]("embedded")}),we(x,"$extensions?",function(){var l=this;return!!R(l.extensions)}),we(x,"$source",function(){var l=this;return R(l.reader)?l.reader.$source():T}),we(x,"$source_lines",function(){var l=this;return R(l.reader)?l.reader.$source_lines():T}),we(x,"$basebackend?",function(l){var t=this;return t.attributes["$[]"]("basebackend")["$=="](l)}),we(x,"$title",function(){var l=this;return l.$doctitle()}),we(x,"$title=",function(l){var t,a=this,v=T;return R(v=a.header)||(v=a.header=D("Section").$new(a,0))["$sectname="]("header"),t=[l],G(v,"title=",t),t[t.length-1]}),we(x,"$doctitle",function(l){var t=this,a=T,v=T,_=T,c=T;if(l==null&&(l=z([],{})),!R(a=t.attributes["$[]"]("title"))){if(R(v=t.$first_section()))a=v.$title();else if(ce(R(_=l["$[]"]("use_fallback"))?a=t.attributes["$[]"]("untitled-label"):_))return T}return R(c=l["$[]"]("partition"))?D("Title").$new(a,l.$merge(z(["separator"],{separator:ve(c,!0)?t.attributes["$[]"]("title-separator"):c}))):R(l["$[]"]("sanitize"))&&R(a["$include?"]("<"))?a.$gsub(D("XmlSanitizeRx"),"").$squeeze(" ").$strip():a},-1),u(x,"name","doctitle"),we(x,"$xreftext",function(l){var t=this,a=T;return R(a=t.$reftext())&&ce(a["$empty?"]())?a:t.$title()},-1),we(x,"$author",function(){var l=this;return l.attributes["$[]"]("author")}),we(x,"$authors",function(){var l=this,t=T,a=T,v=T,_=T,c=T;if(R((t=l.attributes)["$key?"]("author"))){if(a=[D("Author").$new(t["$[]"]("author"),t["$[]"]("firstname"),t["$[]"]("middlename"),t["$[]"]("lastname"),t["$[]"]("authorinitials"),t["$[]"]("email"))],R(b(v=R(_=t["$[]"]("authorcount"))?_:0,1)))for(c=1;R(We(c,v));)c=Ce(c,1),a["$<<"](D("Author").$new(t["$[]"]("author_"+c),t["$[]"]("firstname_"+c),t["$[]"]("middlename_"+c),t["$[]"]("lastname_"+c),t["$[]"]("authorinitials_"+c),t["$[]"]("email_"+c)));return a}else return[]}),we(x,"$revdate",function(){var l=this;return l.attributes["$[]"]("revdate")}),we(x,"$notitle",function(){var l=this;return l.attributes["$key?"]("notitle")}),we(x,"$noheader",function(){var l=this;return l.attributes["$key?"]("noheader")}),we(x,"$nofooter",function(){var l=this;return l.attributes["$key?"]("nofooter")}),we(x,"$first_section",function(){var l=this,t=T;return R(t=l.header)?t:G(l.blocks,"find",[],function(v){return v==null&&(v=T),v.$context()["$=="]("section")})}),we(x,"$header?",function(){var l=this;return!!R(l.header)}),u(x,"has_header?","header?"),we(x,"$<<",function q(l){var t=q.$$p||T,a=this;return q.$$p=null,ve(l.$context(),"section")&&a.$assign_numeral(l),se(a,Fe(a,"<<",q,!1,!0),"<<",[l],t)}),we(x,"$finalize_header",function(l,t){var a=this;return t==null&&(t=!0),a.$clear_playback_attributes(l),a.$save_attributes(),R(t)||l["$[]="]("invalid-header",!0),l},-2),we(x,"$playback_attributes",function(l){var t=this;return R(l["$key?"]("attribute_entries"))?G(l["$[]"]("attribute_entries"),"each",[],function a(v){var _=a.$$s==null?this:a.$$s,c=T;return _.attributes==null&&(_.attributes=T),v==null&&(v=T),c=v.$name(),R(v.$negate())?(_.attributes.$delete(c),ve(c,"compat-mode")?_.compat_mode=!1:T):(_.attributes["$[]="](c,v.$value()),ve(c,"compat-mode")?_.compat_mode=!0:T)},{$$s:t}):T}),we(x,"$restore_attributes",function(){var l=this;return R(l.parent_document)||l.catalog["$[]"]("callouts").$rewind(),l.attributes.$replace(l.header_attributes)}),we(x,"$set_attribute",function(l,t){var a=this,v=T;if(t==null&&(t=""),R(a["$attribute_locked?"](l)))return T;if(R(t["$empty?"]())||(t=a.$apply_attribute_value_subs(t)),R(a.header_attributes))a.attributes["$[]="](l,t);else{switch(l){case"backend":a.$update_backend_attributes(t,R(v=a.attributes_modified["$delete?"]("htmlsyntax"))?t["$=="](a.backend):v);break;case"doctype":a.$update_doctype_attributes(t);break;default:a.attributes["$[]="](l,t)}a.attributes_modified["$<<"](l)}return t},-2),we(x,"$delete_attribute",function(l){var t=this;return R(t["$attribute_locked?"](l))?!1:(t.attributes.$delete(l),t.attributes_modified["$<<"](l),!0)}),we(x,"$attribute_locked?",function(l){var t=this;return t.attribute_overrides["$key?"](l)}),we(x,"$set_header_attribute",function(l,t,a){var v=this,_=T,c=T;return t==null&&(t=""),a==null&&(a=!0),_=R(c=v.header_attributes)?c:v.attributes,ve(a,!1)&&R(_["$key?"](l))?!1:(_["$[]="](l,t),!0)},-2),we(x,"$convert",function(l){var t,a=this,v=T,_=T,c=T,A=T,S=T;return l==null&&(l=z([],{})),R(a.timings)&&a.timings.$start("convert"),R(a.parsed)||a.$parse(),R(Oe(a.safe,k(D("SafeMode"),"SERVER")))||R(l["$empty?"]())||(R((t=["outfile",l["$[]"]("outfile")],G(a.attributes,"[]=",t),t[t.length-1]))||a.attributes.$delete("outfile"),R((t=["outdir",l["$[]"]("outdir")],G(a.attributes,"[]=",t),t[t.length-1]))||a.attributes.$delete("outdir")),ve(a.$doctype(),"inline")?R(v=R(_=a.blocks["$[]"](0))?_:a.header)&&(ve(v.$content_model(),"compound")||ve(v.$content_model(),"empty")?a.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):c=v.$content()):(R(l["$key?"]("standalone"))?A=R(l["$[]"]("standalone"))?"document":"embedded":R(l["$key?"]("header_footer"))?A=R(l["$[]"]("header_footer"))?"document":"embedded":A=R(a.options["$[]"]("standalone"))?"document":"embedded",c=a.converter.$convert(a,A)),R(a.parent_document)||R(S=a.extensions)&&R(S["$postprocessors?"]())&&G(S.$postprocessors(),"each",[],function K(j){var ee=K.$$s==null?this:K.$$s;return j==null&&(j=T),c=j.$process_method()["$[]"](ee,c)},{$$s:a}),R(a.timings)&&a.timings.$record("convert"),c},-1),u(x,"render","convert"),we(x,"$write",function(l,t){var a=this;return R(a.timings)&&a.timings.$start("write"),st(D("Writer"),a.converter)?a.converter.$write(l,t):(R(t["$respond_to?"]("write"))?R(l["$nil_or_empty?"]())||(t.$write(l.$chomp()),t.$write(D("LF"))):k("File").$write(t,l,z(["mode"],{mode:D("FILE_WRITE_MODE")})),ve(a.backend,"manpage")&&st(k("String"),t)&&R(a.converter.$class()["$respond_to?"]("write_alternate_pages"))&&a.converter.$class().$write_alternate_pages(a.attributes["$[]"]("mannames"),a.attributes["$[]"]("manvolnum"),t)),R(a.timings)&&a.timings.$record("write"),T}),we(x,"$content",function q(){var l=q.$$p||T,t=this;return q.$$p=null,t.attributes.$delete("title"),se(t,Fe(t,"content",q,!1,!0),"content",[],l)}),we(x,"$docinfo",function(l,t){var a,v=this,_=T,c=T,A=T,S=T,K=T,j=T,ee=T,he=T,Me=T,Ze=T;return l==null&&(l="head"),t==null&&(t=T),R(We(v.$safe(),k(D("SafeMode"),"SECURE")))&&(ve(l,"head")||(_="-"+l),t=R(c=t)?c:v.outfilesuffix,R((A=v.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?R(v.attributes["$key?"]("docinfo2"))?A=["private","shared"]:R(v.attributes["$key?"]("docinfo1"))?A=["shared"]:A=R(A)?["private"]:T:A=G(A.$split(","),"map",[],function(et){return et==null&&(et=T),et.$strip()}),R(A)&&(S=[],a=["docinfo"+_+t,v.attributes["$[]"]("docinfodir"),v.$resolve_docinfo_subs()],K=a[0],j=a[1],ee=a[2],R(A["$&"](["shared","shared-"+l])["$empty?"]())||(he=v.$normalize_system_path(K,j),R(Me=v.$read_asset(he,z(["normalize"],{normalize:!0})))&&S["$<<"](v.$apply_subs(Me,ee))),R(v.attributes["$[]"]("docname")["$nil_or_empty?"]())||R(A["$&"](["private","private-"+l])["$empty?"]())||(he=v.$normalize_system_path(""+v.attributes["$[]"]("docname")+"-"+K,j),R(Ze=v.$read_asset(he,z(["normalize"],{normalize:!0})))&&S["$<<"](v.$apply_subs(Ze,ee))))),R(v.extensions)&&R(v["$docinfo_processors?"](l))?(R(c=S)?c:[]).$concat(G(v.docinfo_processor_extensions["$[]"](l),"map",[],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=T),et.$process_method()["$[]"](at)},{$$s:v}).$compact()).$join(D("LF")):R(S)?S.$join(D("LF")):""},-1),we(x,"$docinfo_processors?",function(l){var t,a=this;return l==null&&(l="head"),R(a.docinfo_processor_extensions["$key?"](l))?a.docinfo_processor_extensions["$[]"](l)["$!="](!1):R(a.extensions)&&R(a.document.$extensions()["$docinfo_processors?"](l))?(t=[l,a.document.$extensions().$docinfo_processors(l)],G(a.docinfo_processor_extensions,"[]=",t),t[t.length-1])["$!"]()["$!"]():(t=[l,!1],G(a.docinfo_processor_extensions,"[]=",t),t[t.length-1])},-1),we(x,"$to_s",function(){var l=this,t=T;return"#<"+l.$class()+"@"+l.$object_id()+" {doctype: "+l.$doctype().$inspect()+", doctitle: "+(R(t=l.header)?l.header.$title():t).$inspect()+", blocks: "+l.blocks.$size()+"}>"}),x.$private(),we(x,"$apply_attribute_value_subs",function(l){var t,a=this;return R(D("AttributeEntryPassMacroRx")["$=~"](l))?(l=(t=h["~"])===T?T:t["$[]"](2),R((t=h["~"])===T?T:t["$[]"](1))&&(l=a.$apply_subs(l,a.$resolve_pass_subs((t=h["~"])===T?T:t["$[]"](1))))):l=a.$apply_header_subs(l),R(a.max_attribute_value_size)?a.$limit_bytesize(l,a.max_attribute_value_size):l}),we(x,"$limit_bytesize",function(l,t){if(R(b(l.$bytesize(),t)))for(;!R((l=l.$byteslice(0,t))["$valid_encoding?"]());)t=fe(t,1);return l}),we(x,"$resolve_docinfo_subs",function(){var l=this;return R(l.attributes["$key?"]("docinfosubs"))?l.$resolve_subs(l.attributes["$[]"]("docinfosubs"),"block",T,"docinfo"):["attributes"]}),we(x,"$create_converter",function(l,t){var a=this,v=T,_=T,c=T,A=T,S=T;return v=z(["document","htmlsyntax"],{document:a,htmlsyntax:a.attributes["$[]"]("htmlsyntax")}),R(_=R(c=(A=a.options)["$[]"]("template_dirs"))?c:A["$[]"]("template_dir"))&&(v["$[]="]("template_dirs",[].concat(Ve(_))),v["$[]="]("template_cache",A.$fetch("template_cache",!0)),v["$[]="]("template_engine",A["$[]"]("template_engine")),v["$[]="]("template_engine_options",A["$[]"]("template_engine_options")),v["$[]="]("eruby",A["$[]"]("eruby")),v["$[]="]("safe",a.safe),R(t)&&v["$[]="]("delegate_backend",t)),R(S=A["$[]"]("converter"))?k(D("Converter"),"CustomFactory").$new(Se(l,S)).$create(l,v):A.$fetch("converter_factory",D("Converter")).$create(l,v)}),we(x,"$clear_playback_attributes",function(l){return l.$delete("attribute_entries")}),we(x,"$save_attributes",function(){var l=this,t=T,a=T,v=T,_=T,c=T,A=T,S=T,K=T,j=T,ee=T,he=T,Me=T,Ze=T,$t=T;if(R((a=l.attributes)["$key?"]("doctitle"))||ce(t=l.$doctitle())||a["$[]="]("doctitle",t),l.id=R(v=l.id)?v:a["$[]"]("css-signature"),R(_=R(a.$delete("toc2"))?"left":a["$[]"]("toc"))&&(c=R(A=a.$fetch("toc-placement","macro"))&&Ye(A,"auto")?A:a["$[]"]("toc-position"),!(R(_["$empty?"]())&&R(c["$nil_or_empty?"]())))){switch(S="left",K="toc2",j=R(c["$nil_or_empty?"]())?R(_["$empty?"]())?S:_:c,a["$[]="]("toc",""),a["$[]="]("toc-placement","auto"),j){case"left":case"<":case"&lt;":a["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":a["$[]="]("toc-position","right");break;case"top":case"^":a["$[]="]("toc-position","top");break;case"bottom":case"v":a["$[]="]("toc-position","bottom");break;case"preamble":case"macro":a["$[]="]("toc-position","content"),a["$[]="]("toc-placement",j),K=T;break;default:a.$delete("toc-position"),K=T}R(K)&&(R(v=a["$[]"]("toc-class"))||a["$[]="]("toc-class",K))}if(R(ee=a["$[]"]("icons"))&&ce(a["$key?"]("icontype")))switch(ee){case"":case"font":break;default:a["$[]="]("icons",""),ve(ee,"image")||a["$[]="]("icontype",ee)}return R(l.compat_mode=a["$key?"]("compat-mode"))&&R(a["$key?"]("language"))&&a["$[]="]("source-language",a["$[]"]("language")),R(l.parent_document)||(ve(he=a["$[]"]("basebackend"),"html")?R(Me=a["$[]"]("source-highlighter"))&&ce(a["$[]"](""+Me+"-unavailable"))&&(R(Ze=l.options["$[]"]("syntax_highlighter_factory"))?l.syntax_highlighter=Ze.$create(Me,l.backend,z(["document"],{document:l})):R($t=l.options["$[]"]("syntax_highlighters"))?l.syntax_highlighter=k(D("SyntaxHighlighter"),"DefaultFactoryProxy").$new($t).$create(Me,l.backend,z(["document"],{document:l})):l.syntax_highlighter=D("SyntaxHighlighter").$create(Me,l.backend,z(["document"],{document:l}))):ve(he,"docbook")&&(R(l["$attribute_locked?"]("toc"))||R(l.attributes_modified["$include?"]("toc"))||a["$[]="]("toc",""),R(l["$attribute_locked?"]("sectnums"))||R(l.attributes_modified["$include?"]("sectnums"))||a["$[]="]("sectnums","")),l.outfilesuffix=a["$[]"]("outfilesuffix"),G(D("FLEXIBLE_ATTRIBUTES"),"each",[],function et(at){var ct=et.$$s==null?this:et.$$s;return ct.attribute_overrides==null&&(ct.attribute_overrides=T),at==null&&(at=T),R(ct.attribute_overrides["$key?"](at))&&R(ct.attribute_overrides["$[]"](at))?ct.attribute_overrides.$delete(at):T},{$$s:l})),l.header_attributes=a.$merge()}),we(x,"$fill_datetime_attributes",function(l,t){var a,v=this,_=T,c=T,A=T,S=T,K=T,j=T,ee=T,he=T;return _=R(k("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?c=k("Time").$at(v.$Integer(k("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():k("Time").$now(),R(A=l["$[]"]("localdate"))?R(S=l["$[]"]("localyear"))||l["$[]="]("localyear",ve(A.$index("-"),4)?A.$slice(0,4):T):(A=(a=["localdate",_.$strftime("%F")],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("localyear"))||l["$[]="]("localyear",_.$year().$to_s())),K=R(S=l["$[]"]("localtime"))?S:(a=["localtime",_.$strftime("%T "+(ve(_.$utc_offset(),0)?"UTC":"%z"))],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("localdatetime"))||l["$[]="]("localdatetime",""+A+" "+K),t=R(S=R(j=c)?j:t)?S:_,R(ee=l["$[]"]("docdate"))?R(S=l["$[]"]("docyear"))||l["$[]="]("docyear",ve(ee.$index("-"),4)?ee.$slice(0,4):T):(ee=(a=["docdate",t.$strftime("%F")],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("docyear"))||l["$[]="]("docyear",t.$year().$to_s())),he=R(S=l["$[]"]("doctime"))?S:(a=["doctime",t.$strftime("%T "+(ve(t.$utc_offset(),0)?"UTC":"%z"))],G(l,"[]=",a),a[a.length-1]),R(S=l["$[]"]("docdatetime"))||l["$[]="]("docdatetime",""+ee+" "+he),T}),we(x,"$update_backend_attributes",function(l,t){var a,v,_=this,c=T,A=T,S=T,K=T,j=T,ee=T,he=T,Me=T,Ze=T,$t=T,et=T,at=T,ct=T,ft=T;return t==null&&(t=T),R(t)||Ye(l,_.backend)?(c=_.backend,A=(S=_.attributes)["$[]"]("basebackend"),K=_.doctype,R(l["$include?"](":"))&&(v=l.$partition(":"),a=m(v),j=a[0]==null?T:a[0],a[1]==null||a[1],l=a[2]==null?T:a[2]),R(l["$start_with?"]("xhtml"))?(S["$[]="]("htmlsyntax","xml"),l=l.$slice(1,l.$length())):R(l["$start_with?"]("html"))&&(R(ee=S["$[]"]("htmlsyntax"))||S["$[]="]("htmlsyntax","html")),l=R(ee=D("BACKEND_ALIASES")["$[]"](l))?ee:l,R(j)&&(a=[j,l],l=a[0],he=a[1]),R(K)?(R(c)&&(S.$delete("backend-"+c),S.$delete("backend-"+c+"-doctype-"+K)),S["$[]="]("backend-"+l+"-doctype-"+K,""),S["$[]="]("doctype-"+K,"")):R(c)&&S.$delete("backend-"+c),S["$[]="]("backend-"+l,""),_.backend=(a=["backend",l],G(S,"[]=",a),a[a.length-1]),st(k(D("Converter"),"BackendTraits"),Me=_.$create_converter(l,he))?(Ze=Me.$basebackend(),$t=Me.$filetype(),R(et=Me.$htmlsyntax())&&S["$[]="]("htmlsyntax",et),R(t)?R(ee=S["$[]"]("outfilesuffix"))||S["$[]="]("outfilesuffix",Me.$outfilesuffix()):R(_["$attribute_locked?"]("outfilesuffix"))||S["$[]="]("outfilesuffix",Me.$outfilesuffix())):R(Me)?(at=D("Converter").$derive_backend_traits(l),Ze=at["$[]"]("basebackend"),$t=at["$[]"]("filetype"),R(t)?R(ee=S["$[]"]("outfilesuffix"))||S["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix")):R(_["$attribute_locked?"]("outfilesuffix"))||S["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix"))):_.$raise(k("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+l+"'. Processing aborted."),_.converter=Me,R(ct=S["$[]"]("filetype"))&&S.$delete("filetype-"+ct),S["$[]="]("filetype",$t),S["$[]="]("filetype-"+$t,""),R(ft=D("DEFAULT_PAGE_WIDTHS")["$[]"](Ze))?S["$[]="]("pagewidth",ft):S.$delete("pagewidth"),Ye(Ze,A)&&(R(K)?(R(A)&&(S.$delete("basebackend-"+A),S.$delete("basebackend-"+A+"-doctype-"+K)),S["$[]="]("basebackend-"+Ze+"-doctype-"+K,"")):R(A)&&S.$delete("basebackend-"+A),S["$[]="]("basebackend-"+Ze,""),S["$[]="]("basebackend",Ze)),l):T},-2),we(x,"$update_doctype_attributes",function(l){var t,a=this,v=T,_=T,c=T,A=T;return R(l)&&Ye(l,a.doctype)?(t=[a.backend,(v=a.attributes)["$[]"]("basebackend"),a.doctype],_=t[0],c=t[1],A=t[2],R(A)?(v.$delete("doctype-"+A),R(_)&&(v.$delete("backend-"+_+"-doctype-"+A),v["$[]="]("backend-"+_+"-doctype-"+l,"")),R(c)&&(v.$delete("basebackend-"+c+"-doctype-"+A),v["$[]="]("basebackend-"+c+"-doctype-"+l,""))):(R(_)&&v["$[]="]("backend-"+_+"-doctype-"+l,""),R(c)&&v["$[]="]("basebackend-"+c+"-doctype-"+l,"")),v["$[]="]("doctype-"+l,""),a.doctype=(t=["doctype",l],G(v,"[]=",t),t[t.length-1])):T})}(ie[0],H("AbstractBlock"),ie)}(rt[0],rt)},Opal.modules["asciidoctor/inline"]=function(e){var U=e.module,B=e.klass,C=e.hash2,G=e.send2,u=e.find_super,R=e.def,we=e.return_val,z=e.alias,ce=e.truthy,m=[],Ke=e.nil;return e.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(se,Fe){var fe=U(se,"Asciidoctor"),ve=[fe].concat(Fe),st=e.$r(ve);return function(Se,Oe){var Ce=B(Se,Oe,"Inline"),Ye=Ce.$$prototype;return Ye.text=Ye.type=Ke,Ce.$attr_accessor("text"),Ce.$attr_reader("type"),Ce.$attr_accessor("target"),R(Ce,"$initialize",function it(b,We,h,Ve){it.$$p;var rt=this;return it.$$p=null,h==null&&(h=Ke),Ve==null&&(Ve=C([],{})),G(rt,u(rt,"initialize",it,!1,!0),"initialize",[b,We,Ve],null),rt.node_name="inline_"+We,rt.text=h,rt.id=Ve["$[]"]("id"),rt.type=Ve["$[]"]("type"),rt.target=Ve["$[]"]("target")},-3),R(Ce,"$block?",we(!1)),R(Ce,"$inline?",we(!0)),R(Ce,"$convert",function(){var b=this;return b.$converter().$convert(b)}),z(Ce,"render","convert"),R(Ce,"$alt",function(){var b=this,We=Ke;return ce(We=b.$attr("alt"))?We:""}),R(Ce,"$reftext?",function(){var b=this,We=Ke,h=Ke;return ce(We=b.text)?ce(h=b.type["$=="]("ref"))?h:b.type["$=="]("bibref"):We}),R(Ce,"$reftext",function(){var b=this,We=Ke;return ce(We=b.text)?b.$apply_reftext_subs(We):Ke}),R(Ce,"$xreftext",function(b){var We=this;return We.$reftext()},-1)}(ve[0],st("AbstractNode"))}(m[0],m)},Opal.modules["asciidoctor/list"]=function(e){var U=e.module,B=e.klass,C=e.alias,G=e.hash2,u=e.send2,R=e.find_super,we=e.def,z=e.truthy,ce=e.eqeq,m=[],Ke=e.nil;return e.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(se,Fe){var fe=U(se,"Asciidoctor"),ve=[fe].concat(Fe),st=e.$r(ve);return function(Se,Oe){var Ce=B(Se,Oe,"List"),Ye=Ce.$$prototype;return Ye.context=Ye.document=Ye.style=Ke,C(Ce,"items","blocks"),C(Ce,"content","blocks"),C(Ce,"items?","blocks?"),we(Ce,"$initialize",function it(b,We,h){var Ve=it.$$p||Ke,rt=this;return it.$$p=null,h==null&&(h=G([],{})),u(rt,R(rt,"initialize",it,!1,!0),"initialize",[b,We,h],Ve)},-3),we(Ce,"$outline?",function(){var b=this,We=Ke;return z(We=b.context["$=="]("ulist"))?We:b.context["$=="]("olist")}),we(Ce,"$convert",function it(){var b=it.$$p||Ke,We=this,h=Ke;return it.$$p=null,ce(We.context,"colist")?(h=u(We,R(We,"convert",it,!1,!0),"convert",[],b),We.document.$callouts().$next_list(),h):u(We,R(We,"convert",it,!1,!0),"convert",[],b)}),C(Ce,"render","convert"),we(Ce,"$to_s",function(){var b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {context: "+b.context.$inspect()+", style: "+b.style.$inspect()+", items: "+b.$items().$size()+"}>"})}(ve[0],st("AbstractBlock")),function(Se,Oe,Ce){var Ye=B(Se,Oe,"ListItem"),it=[Ye].concat(Ce),b=e.$r(it),We=Ye.$$prototype;return We.text=We.subs=We.blocks=Ke,C(Ye,"list","parent"),Ye.$attr_accessor("marker"),we(Ye,"$initialize",function h(Ve,rt){h.$$p;var T=this;return h.$$p=null,rt==null&&(rt=Ke),u(T,R(T,"initialize",h,!1,!0),"initialize",[Ve,"list_item"],null),T.text=rt,T.level=Ve.$level(),T.subs=b("NORMAL_SUBS").$drop(0)},-2),we(Ye,"$text?",function(){var Ve=this;return!z(Ve.text["$nil_or_empty?"]())}),we(Ye,"$text",function(){var Ve=this,rt=Ke;return z(rt=Ve.text)?Ve.$apply_subs(Ve.text,Ve.subs):rt}),Ye.$attr_writer("text"),we(Ye,"$simple?",function(){var Ve=this,rt=Ke,T=Ke,k=Ke,ke=Ke;return z(rt=Ve.blocks["$empty?"]())?rt:z(T=z(k=Ve.blocks.$size()["$=="](1))?b("List")["$==="](ke=Ve.blocks["$[]"](0)):k)?ke["$outline?"]():T}),we(Ye,"$compound?",function(){var Ve=this;return Ve["$simple?"]()["$!"]()}),we(Ye,"$fold_first",function(){var Ve=this;return Ve.text=z(Ve.text["$nil_or_empty?"]())?Ve.blocks.$shift().$source():""+Ve.text+b("LF")+Ve.blocks.$shift().$source(),Ke}),we(Ye,"$to_s",function(){var Ve=this,rt=Ke;return"#<"+Ve.$class()+"@"+Ve.$object_id()+" {list_context: "+Ve.$parent().$context().$inspect()+", text: "+Ve.text.$inspect()+", blocks: "+(z(rt=Ve.blocks)?rt:[]).$size()+"}>"})}(ve[0],st("AbstractBlock"),ve)}(m[0],m)},Opal.modules["asciidoctor/parser"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.send,u=e.truthy,R=e.hash2,we=e.to_ary,z=e.defs,ce=e.eqeq,m=e.not,Ke=e.gvars,se=e.neqeq,Fe=e.rb_plus,fe=e.rb_lt,ve=e.rb_gt,st=e.to_a,Se=e.eqeqeq,Oe=e.rb_minus,Ce=e.rb_times,Ye=e.thrower,it=[],b=e.nil,We=e.$$$;return e.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(h,Ve){var rt=U(h,"Asciidoctor"),T=[rt].concat(Ve);return function(k,ke,O){var ue=B(k,ke,"Parser"),ie=[ue].concat(O),H=e.$r(ie);return ue.$include(H("Logging")),C(ie[0],"BlockMatchData",H("Struct").$new("context","masq","tip","terminator")),C(ie[0],"TAB","	"),C(ie[0],"TabIndentRx",/^\t+/),C(ie[0],"StartOfBlockProc",G(ue,"proc",[],function X(F){var E=X.$$s==null?this:X.$$s,x=b,M=b;return F==null&&(F=b),u(x=u(M=F["$start_with?"]("["))?H("BlockAttributeLineRx")["$match?"](F):M)?x:E["$is_delimited_block?"](F)},{$$s:ue})),C(ie[0],"StartOfListProc",G(ue,"proc",[],function(F){return F==null&&(F=b),H("AnyListRx")["$match?"](F)})),C(ie[0],"StartOfBlockOrListProc",G(ue,"proc",[],function X(F){var E=X.$$s==null?this:X.$$s,x=b,M=b,D=b;return F==null&&(F=b),u(x=u(M=E["$is_delimited_block?"](F))?M:u(D=F["$start_with?"]("["))?H("BlockAttributeLineRx")["$match?"](F):D)?x:H("AnyListRx")["$match?"](F)},{$$s:ue})),C(ie[0],"NoOp",b),C(ie[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),C(ie[0],"TableCellHorzAlignments",R(["<",">","^"],{"<":"left",">":"right","^":"center"})),C(ie[0],"TableCellVertAlignments",R(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),C(ie[0],"TableCellStyles",R(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),ue.$private_class_method("new"),z(ue,"$parse",function(F,E,x){var M,D,Y=this,q=b,l=b,t=b;if(x==null&&(x=R([],{})),q=Y.$parse_document_header(F,E,l=x["$[]"]("header_only")),!u(l))for(;u(F["$has_more_lines?"]());)D=Y.$next_section(F,E,q),M=we(D),t=M[0]==null?b:M[0],q=M[1]==null?b:M[1],u(t)&&(E.$assign_numeral(t),E.$blocks()["$<<"](t));return E},-3),z(ue,"$parse_document_header",function(F,E,x){var M,D,Y,q=this,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b;return x==null&&(x=!1),l=u(F.$skip_blank_lines())?q.$parse_block_metadata_lines(F,E):R([],{}),t=E.$attributes(),u(a=q["$is_next_line_doctitle?"](F,l,t["$[]"]("leveloffset")))&&u(l["$[]"]("title"))?(t["$[]="]("authorcount",0),E.$finalize_header(l,!1)):(u((v=t["$[]"]("doctitle"))["$nil_or_empty?"]())||E["$title="](_=v),u(a)?(u(E.$sourcemap())&&(c=F.$cursor()),D=q.$parse_section_title(F,E),M=we(D),Y=[M[0]==null?b:M[0]],G(E,"id=",Y),Y[Y.length-1],M[1]==null||M[1],A=M[2]==null?b:M[2],M[3]==null||M[3],S=M[4]==null?b:M[4],u(_)?A=b:(E["$title="](A),u((M=["doctitle",_=E.$sub_specialchars(A)],G(t,"[]=",M),M[M.length-1])["$include?"](H("ATTR_REF_HEAD")))&&t["$[]="]("doctitle",_=E.$sub_attributes(_,R(["attribute_missing"],{attribute_missing:"skip"})))),u(c)&&E.$header()["$source_location="](c),u(S)||u(E["$attribute_locked?"]("compat-mode"))||t["$[]="]("compat-mode",""),u(K=l["$[]"]("separator"))&&(u(E["$attribute_locked?"]("title-separator"))||t["$[]="]("title-separator",K)),u(j=l["$[]"]("id"))?E["$id="](j):j=E.$id(),u(ee=l["$[]"]("role"))&&t["$[]="]("role",ee),u(he=l["$[]"]("reftext"))&&t["$[]="]("reftext",he),l.$clear(),(Me=E.$instance_variable_get("@attributes_modified")).$delete("doctitle"),q.$parse_header_metadata(F,E,b),u(Me["$include?"]("doctitle"))?u((v=t["$[]"]("doctitle"))["$nil_or_empty?"]())||ce(v,_)?t["$[]="]("doctitle",_):E["$title="](v):m(A)&&Me["$<<"]("doctitle"),u(j)&&E.$register("refs",[j,E])):u(Ze=t["$[]"]("author"))?($t=q.$process_authors(Ze,!0,!1),u(t["$[]"]("authorinitials"))&&$t.$delete("authorinitials"),t.$update($t)):u(Ze=t["$[]"]("authors"))?($t=q.$process_authors(Ze,!0),t.$update($t)):t["$[]="]("authorcount",0),ce(E.$doctype(),"manpage")&&q.$parse_manpage_header(F,E,l,x),E.$finalize_header(l))},-3),z(ue,"$parse_manpage_header",function(F,E,x,M){var D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b;return M==null&&(M=!1),u(H("ManpageTitleVolnumRx")["$=~"]((q=E.$attributes())["$[]"]("doctitle")))?(q["$[]="]("manvolnum",l=(D=Ke["~"])===b?b:D["$[]"](2)),q["$[]="]("mantitle",(u((t=(D=Ke["~"])===b?b:D["$[]"](1))["$include?"](H("ATTR_REF_HEAD")))?E.$sub_attributes(t):t).$downcase())):(Y.$logger().$error(Y.$message_with_context("non-conforming manpage title",R(["source_location"],{source_location:F.$cursor_at_line(1)}))),q["$[]="]("mantitle",u(a=u(v=q["$[]"]("doctitle"))?v:q["$[]"]("docname"))?a:"command"),q["$[]="]("manvolnum",l="1")),u(_=q["$[]"]("manname"))&&u(q["$[]"]("manpurpose"))?(u(a=q["$[]"]("manname-title"))||q["$[]="]("manname-title","Name"),q["$[]="]("mannames",[_]),ce(E.$backend(),"manpage")&&(q["$[]="]("docname",_),q["$[]="]("outfilesuffix","."+l))):u(M)||(F.$skip_blank_lines(),F.$save(),x.$update(Y.$parse_block_metadata_lines(F,E)),u(c=Y["$is_next_line_section?"](F,R([],{})))?ce(c,1)?(A=Y.$initialize_section(F,E,R([],{})),S=G(F.$read_lines_until(R(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],function(Me){return Me==null&&(Me=b),Me.$lstrip()}).$join(" "),u(H("ManpageNamePurposeRx")["$=~"](S))?(u((_=(D=Ke["~"])===b?b:D["$[]"](1))["$include?"](H("ATTR_REF_HEAD")))&&(_=E.$sub_attributes(_)),u(_["$include?"](","))?_=(K=G(_.$split(","),"map",[],function(Me){return Me==null&&(Me=b),Me.$lstrip()}))["$[]"](0):K=[_],u((j=(D=Ke["~"])===b?b:D["$[]"](2))["$include?"](H("ATTR_REF_HEAD")))&&(j=E.$sub_attributes(j)),u(a=q["$[]"]("manname-title"))||q["$[]="]("manname-title",A.$title()),u(A.$id())&&q["$[]="]("manname-id",A.$id()),q["$[]="]("manname",_),q["$[]="]("mannames",K),q["$[]="]("manpurpose",j),ce(E.$backend(),"manpage")&&(q["$[]="]("docname",_),q["$[]="]("outfilesuffix","."+l))):ee="non-conforming name section body"):ee="name section must be at level 1":ee="name section expected",u(ee)?(F.$restore_save(),Y.$logger().$error(Y.$message_with_context(ee,R(["source_location"],{source_location:F.$cursor()}))),q["$[]="]("manname",_=u(a=q["$[]"]("docname"))?a:"command"),q["$[]="]("mannames",[_]),ce(E.$backend(),"manpage")&&(q["$[]="]("docname",_),q["$[]="]("outfilesuffix","."+l))):F.$discard_save()),b},-4),z(ue,"$next_section",function(F,E,x){var M,D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b,et=b,at=b,ct=b,ft=b;for(x==null&&(x=R([],{})),q=l=t=!1,ce(E.$context(),"document")&&u(E.$blocks()["$empty?"]())&&(u(a=E["$header?"]())||u(x.$delete("invalid-header"))||m(Y["$is_next_line_section?"](F,x)))?(v=(_=E).$doctype()["$=="]("book"),(u(a)||u(v)&&se(x["$[]"](1),"abstract"))&&(q=l=H("Block").$new(E,"preamble",R(["content_model"],{content_model:"compound"})),u(v)&&u(E["$attr?"]("preface-title"))&&q["$title="](E.$attr("preface-title")),E.$blocks()["$<<"](q)),c=E,A=0,u(E.$attributes()["$key?"]("fragment"))?S=-1:u(v)?(M=[1,0],S=M[0],K=M[1]):S=1):(v=(_=E.$document()).$doctype()["$=="]("book"),c=Y.$initialize_section(F,E,x),x=u(j=x["$[]"]("title"))?R(["title"],{title:j}):R([],{}),S=Fe(A=c.$level(),1),ce(A,0)?t=v:ce(A,1)&&u(c.$special())&&(ce(ee=c.$sectname(),"appendix")||ce(ee,"preface")||ce(ee,"abstract")||(S=b))),F.$skip_blank_lines();u(F["$has_more_lines?"]());){if(Y.$parse_block_metadata_lines(F,_,x),u(he=Y["$is_next_line_section?"](F,x)))if(u(_["$attr?"]("leveloffset"))&&(he=Fe(he,_.$attr("leveloffset").$to_i()),u(fe(he,0))&&(he=0)),u(ve(he,A)))u(S)?ce(he,S)||u(K)&&ce(he,K)||u(fe(S,0))||(Me=u(K)?"expected levels "+K+" or "+S:"expected level "+S,Y.$logger().$warn(Y.$message_with_context("section title out of sequence: "+Me+", got level "+he,R(["source_location"],{source_location:F.$cursor()})))):Y.$logger().$error(Y.$message_with_context(""+ee+" sections do not support nested sections",R(["source_location"],{source_location:F.$cursor()}))),D=Y.$next_section(F,c,x),M=we(D),Ze=M[0]==null?b:M[0],x=M[1]==null?b:M[1],c.$assign_numeral(Ze),c.$blocks()["$<<"](Ze);else if(ce(he,0)&&ce(c,_))u(v)||Y.$logger().$error(Y.$message_with_context("level 0 sections can only be used when doctype is book",R(["source_location"],{source_location:F.$cursor()}))),D=Y.$next_section(F,c,x),M=we(D),Ze=M[0]==null?b:M[0],x=M[1]==null?b:M[1],c.$assign_numeral(Ze),c.$blocks()["$<<"](Ze);else break;else $t=F.$cursor(),u(et=Y.$next_block(F,u(at=l)?at:c,x,R(["parse_metadata"],{parse_metadata:!1})))&&(u(t)&&(m(c["$blocks?"]())?se(et.$style(),"partintro")?ce(et.$style(),"open")&&ce(et.$context(),"open")?et["$style="]("partintro"):(et["$parent="](l=H("Block").$new(c,"open",R(["content_model"],{content_model:"compound"}))),l["$style="]("partintro"),c.$blocks()["$<<"](l)):ce(et.$content_model(),"simple")&&(et["$content_model="]("compound"),et["$<<"](H("Block").$new(et,"paragraph",R(["source","subs"],{source:et.$lines(),subs:et.$subs()}))),et.$lines().$clear(),et.$subs().$clear()):ce(c.$blocks().$size(),1)&&(ct=c.$blocks()["$[]"](0),m(l)&&ce(ct.$content_model(),"compound")?Y.$logger().$error(Y.$message_with_context("illegal block content outside of partintro block",R(["source_location"],{source_location:$t}))):se(ct.$content_model(),"compound")&&(et["$parent="](l=H("Block").$new(c,"open",R(["content_model"],{content_model:"compound"}))),ce(ct.$style(),(M=["partintro"],G(l,"style=",M),M[M.length-1]))&&(ct["$context="]("paragraph"),ct["$style="](b)),c.$blocks().$shift(),l["$<<"](ct),c.$blocks()["$<<"](l)))),(u(at=l)?at:c).$blocks()["$<<"](et),x.$clear());if(!u(at=F.$skip_blank_lines()))break}if(u(t))u(c["$blocks?"]())&&ce(c.$blocks()["$[]"](-1).$context(),"section")||Y.$logger().$error(Y.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",R(["source_location"],{source_location:F.$cursor()})));else if(u(q))if(u(q["$blocks?"]()))if(u(v)||u(_.$blocks()["$[]"](1))||m(H("Compliance").$unwrap_standalone_preamble()))u(_.$sourcemap())&&q["$source_location="](q.$blocks()["$[]"](0).$source_location());else for(_.$blocks().$shift();u(ft=q.$blocks().$shift());)_["$<<"](ft);else _.$blocks().$shift();return[ce(c,E)?b:c,x.$merge()]},-3),z(ue,"$next_block",function(F,E,x,M){var D,Y,q=this,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b,et=b,at=b,ct=b,ft=b,ut=b,ht=b,dt=b,At=b,yt=b,It=b,St=b,wt=b,Et=b,qt=b,zt=b,Gt=b,Ut=b,Rt=b,xt=b,Ct=b,Nt=b,kt=b,Tt=b,Ht=b,Lt=b,Ft=b,Yt=b,Dt=b,Mt=b,Vt=b,Xt=b,er=b,Jt=b,tr=b;if(Ke["~"]==null&&(Ke["~"]=b),x==null&&(x=R([],{})),M==null&&(M=R([],{})),!u(l=F.$skip_blank_lines()))return b;if(u(t=M["$[]"]("text_only"))&&u(ve(l,0))&&(M.$delete("text_only"),t=b),a=E.$document(),u(M.$fetch("parse_metadata",!0))){for(;u(q.$parse_block_metadata_line(F,a,x,M));)if(F.$shift(),!u(v=F.$skip_blank_lines()))return b}if(u(_=a.$extensions())&&(D=[_["$blocks?"](),_["$block_macros?"]()],c=D[0],A=D[1]),F.$mark(),D=[F.$read_line(),a.$attributes(),x["$[]"](1)],S=D[0],K=D[1],j=D[2],ee=he=Me=Ze=b,u($t=q["$is_delimited_block?"](S,!0))&&(he=Me=$t.$context(),Ze=$t.$terminator(),u(j)?ce(j,he.$to_s())||(u($t.$masq()["$include?"](j))?he=j.$to_sym():u($t.$masq()["$include?"]("admonition"))&&u(H("ADMONITION_STYLES")["$include?"](j))?he="admonition":u(c)&&u(_["$registered_for_block?"](j,he))?he=j.$to_sym():(u(q.$logger()["$debug?"]())&&q.$logger().$debug(q.$message_with_context("unknown style for "+he+" block: "+j,R(["source_location"],{source_location:F.$cursor_at_mark()}))),j=he.$to_s())):j=(D=["style",he.$to_s()],G(x,"[]=",D),D[D.length-1])),!u($t))for(;u(!0);){if(u(j)&&u(H("Compliance").$strict_verbatim_paragraphs())&&u(H("VERBATIM_STYLES")["$include?"](j))){he=j.$to_sym(),F.$unshift_line(S);break}if(u(t))et=S["$start_with?"](" ",H("TAB"));else if(at=H("Compliance").$markdown_syntax(),u(S["$start_with?"](" "))){if(D=[!0," "],et=D[0],ct=D[1],u(at)&&u(G(S.$lstrip(),"start_with?",st(H("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&u(H("MarkdownThematicBreakRx")["$match?"](S))){ee=H("Block").$new(E,"thematic_break",R(["content_model"],{content_model:"empty"}));break}}else if(u(S["$start_with?"](H("TAB"))))D=[!0,H("TAB")],et=D[0],ct=D[1];else if(D=[!1,S.$chr()],et=D[0],ct=D[1],ft=u(at)?H("HYBRID_LAYOUT_BREAK_CHARS"):H("LAYOUT_BREAK_CHARS"),u(ft["$key?"](ct))&&u(u(at)?H("ExtLayoutBreakRx")["$match?"](S):u(v=q["$uniform?"](S,ct,ut=S.$length()))?ve(ut,2):v)){ee=H("Block").$new(E,ft["$[]"](ct),R(["content_model"],{content_model:"empty"}));break}else if(u(S["$end_with?"]("]"))&&u(S["$include?"]("::"))){if((ce(ct,"i")||u(S["$start_with?"]("video:","audio:")))&&u(H("BlockMediaMacroRx")["$=~"](S))){if(D=[((Y=Ke["~"])===b?b:Y["$[]"](1)).$to_sym(),(Y=Ke["~"])===b?b:Y["$[]"](2),(Y=Ke["~"])===b?b:Y["$[]"](3)],ht=D[0],dt=D[1],At=D[2],ee=H("Block").$new(E,ht,R(["content_model"],{content_model:"empty"})),u(At)){switch(ht){case"video":yt=["poster","width","height"];break;case"audio":yt=[];break;default:yt=["alt","width","height"]}ee.$parse_attributes(At,yt,R(["sub_input","into"],{sub_input:!0,into:x}))}if(u(x["$key?"]("style"))&&x.$delete("style"),u(dt["$include?"](H("ATTR_REF_HEAD")))){if(u((It=ee.$sub_attributes(dt))["$empty?"]())&&ce(u(v=K["$[]"]("attribute-missing"))?v:H("Compliance").$attribute_missing(),"drop-line")&&u(ee.$sub_attributes(Fe(dt," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return x.$clear(),b;dt=It}ce(ht,"image")&&(a.$register("images",dt),x["$[]="]("imagesdir",K["$[]"]("imagesdir")),u(v=x["$[]"]("alt"))||x["$[]="]("alt",u(St=j)?St:(D=["default-alt",H("Helpers").$basename(dt,!0).$tr("_-"," ")],G(x,"[]=",D),D[D.length-1])),u((wt=x.$delete("scaledwidth"))["$nil_or_empty?"]())||x["$[]="]("scaledwidth",u(H("TrailingDigitsRx")["$match?"](wt))?""+wt+"%":wt),u(x["$[]"]("title"))&&(ee["$title="](Et=x.$delete("title")),ee.$assign_caption(x.$delete("caption"),"figure"))),x["$[]="]("target",dt);break}else if(ce(ct,"t")&&u(S["$start_with?"]("toc:"))&&u(H("BlockTocMacroRx")["$=~"](S))){ee=H("Block").$new(E,"toc",R(["content_model"],{content_model:"empty"})),u((D=Ke["~"])===b?b:D["$[]"](1))&&ee.$parse_attributes((D=Ke["~"])===b?b:D["$[]"](1),[],R(["into"],{into:x}));break}else if(u(u(A)?u(v=u(St=H("CustomBlockMacroRx")["$=~"](S))?qt=_["$registered_for_block_macro?"]((D=Ke["~"])===b?b:D["$[]"](1)):St)?v:zt=q.$logger()["$debug?"]():u(v=q.$logger()["$debug?"]())?zt=H("CustomBlockMacroRx")["$=~"](S):v))if(u(zt))q.$logger().$debug(q.$message_with_context("unknown name for block macro: "+((D=Ke["~"])===b?b:D["$[]"](1)),R(["source_location"],{source_location:F.$cursor_at_mark()})));else{if(Gt=(D=Ke["~"])===b?b:D["$[]"](3),u((dt=(D=Ke["~"])===b?b:D["$[]"](2))["$include?"](H("ATTR_REF_HEAD")))){if(u((It=E.$sub_attributes(dt))["$empty?"]())&&ce(u(v=K["$[]"]("attribute-missing"))?v:H("Compliance").$attribute_missing(),"drop-line")&&u(E.$sub_attributes(Fe(dt," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return x.$clear(),b;dt=It}if(ce((Ut=qt.$config())["$[]"]("content_model"),"attributes")?u(Gt)&&a.$parse_attributes(Gt,u(v=u(St=Ut["$[]"]("positional_attrs"))?St:Ut["$[]"]("pos_attrs"))?v:[],R(["sub_input","into"],{sub_input:!0,into:x})):x["$[]="]("text",u(v=Gt)?v:""),u(Rt=Ut["$[]"]("default_attrs"))&&G(x,"update",[Rt],function(jt,Wt){return Wt==null&&(Wt=b),Wt}),u(ee=qt.$process_method()["$[]"](E,dt,x))&&se(ee,E)){x.$replace(ee.$attributes());break}else return x.$clear(),b}}if(m(et)&&ce(ct=u(v=ct)?v:S.$chr(),"<")&&u(H("CalloutListRx")["$=~"](S))){F.$unshift_line(S),ee=q.$parse_callout_list(F,Ke["~"],E,a.$callouts()),x["$[]="]("style","arabic");break}else if(u(H("UnorderedListRx")["$match?"](S))){F.$unshift_line(S),m(j)&&Se(H("Section"),E)&&ce(E.$sectname(),"bibliography")&&x["$[]="]("style",j="bibliography"),ee=q.$parse_list(F,"ulist",E,j);break}else if(u(H("OrderedListRx")["$match?"](S))){F.$unshift_line(S),ee=q.$parse_list(F,"olist",E,j),u(ee.$style())&&x["$[]="]("style",ee.$style());break}else if((u(S["$include?"]("::"))||u(S["$include?"](";;")))&&u(H("DescriptionListRx")["$=~"](S))){F.$unshift_line(S),ee=q.$parse_description_list(F,Ke["~"],E);break}else if((ce(j,"float")||ce(j,"discrete"))&&u(u(H("Compliance").$underline_style_section_titles())?q["$is_section_title?"](S,F.$peek_line()):u(v=et["$!"]())?q["$atx_section_title?"](S):v)){F.$unshift_line(S),Y=q.$parse_section_title(F,a,x["$[]"]("id")),D=we(Y),xt=D[0]==null?b:D[0],Ct=D[1]==null?b:D[1],Et=D[2]==null?b:D[2],Nt=D[3]==null?b:D[3],u(Ct)&&x["$[]="]("reftext",Ct),ee=H("Block").$new(E,"floating_title",R(["content_model"],{content_model:"empty"})),ee["$title="](Et),x.$delete("title"),ee["$id="](u(v=xt)?v:u(K["$key?"]("sectids"))?H("Section").$generate_id(ee.$title(),a):b),ee["$level="](Nt);break}else if(u(j)&&se(j,"normal"))if(u(H("PARAGRAPH_STYLES")["$include?"](j))){he=j.$to_sym(),Me="paragraph",F.$unshift_line(S);break}else if(u(H("ADMONITION_STYLES")["$include?"](j))){he="admonition",Me="paragraph",F.$unshift_line(S);break}else if(u(c)&&u(_["$registered_for_block?"](j,"paragraph"))){he=j.$to_sym(),Me="paragraph",F.$unshift_line(S);break}else u(q.$logger()["$debug?"]())&&q.$logger().$debug(q.$message_with_context("unknown style for paragraph: "+j,R(["source_location"],{source_location:F.$cursor_at_mark()}))),j=b;if(F.$unshift_line(S),u(et)&&m(j))kt=q.$read_paragraph_lines(F,Tt=ce(l,0)?M["$[]"]("list_type"):b,R(["skip_line_comments"],{skip_line_comments:t})),q["$adjust_indentation!"](kt),u(t)||ce(Tt,"dlist")?ee=H("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x})):ee=H("Block").$new(E,"literal",R(["content_model","source","attributes"],{content_model:"verbatim",source:kt,attributes:x}));else{if(kt=q.$read_paragraph_lines(F,u(v=l["$=="](0))?M["$[]"]("list_type"):v,R(["skip_line_comments"],{skip_line_comments:!0})),u(t))u(et)&&ce(j,"normal")&&q["$adjust_indentation!"](kt),ee=H("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x}));else if(u(H("ADMONITION_STYLE_HEADS")["$include?"](ct))&&u(S["$include?"](":"))&&u(H("AdmonitionParagraphRx")["$=~"](S)))kt["$[]="](0,(D=Ke["~"])===b?b:D.$post_match()),x["$[]="]("name",Ht=(D=["style",(Y=Ke["~"])===b?b:Y["$[]"](1)],G(x,"[]=",D),D[D.length-1]).$downcase()),x["$[]="]("textlabel",u(v=x.$delete("caption"))?v:K["$[]"](""+Ht+"-caption")),ee=H("Block").$new(E,"admonition",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x}));else if(u(at)&&ce(ct,">")&&u(S["$start_with?"]("> "))){if(G(kt,"map!",[],function(jt){return jt==null&&(jt=b),ce(jt,">")?jt.$slice(1,jt.$length()):u(jt["$start_with?"]("> "))?jt.$slice(2,jt.$length()):jt}),u(kt["$[]"](-1)["$start_with?"]("-- "))&&(Lt=(Lt=kt.$pop()).$slice(3,Lt.$length()),!u(kt["$empty?"]())))for(;u(kt["$[]"](-1)["$empty?"]());)kt.$pop();x["$[]="]("style","quote"),ee=q.$build_block("quote","compound",!1,E,H("Reader").$new(kt),x),u(Lt)&&(Y=ee.$apply_subs(Lt).$split(", ",2),D=we(Y),Ft=D[0]==null?b:D[0],Yt=D[1]==null?b:D[1],u(Ft)&&x["$[]="]("attribution",Ft),u(Yt)&&x["$[]="]("citetitle",Yt))}else if(ce(ct,'"')&&u(ve(kt.$size(),1))&&u(kt["$[]"](-1)["$start_with?"]("-- "))&&u(kt["$[]"](-2)["$end_with?"]('"'))){for(kt["$[]="](0,S.$slice(1,S.$length())),Lt=(Lt=kt.$pop()).$slice(3,Lt.$length());u(kt["$[]"](-1)["$empty?"]());)kt.$pop();kt["$<<"](kt.$pop().$chop()),x["$[]="]("style","quote"),ee=H("Block").$new(E,"quote",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x})),Y=ee.$apply_subs(Lt).$split(", ",2),D=we(Y),Ft=D[0]==null?b:D[0],Yt=D[1]==null?b:D[1],u(Ft)&&x["$[]="]("attribution",Ft),u(Yt)&&x["$[]="]("citetitle",Yt)}else u(et)&&ce(j,"normal")&&q["$adjust_indentation!"](kt),ee=H("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:x}));q.$catalog_inline_anchors(kt.$join(H("LF")),ee,a,F)}break}if(!u(ee))switch(he){case"listing":case"source":(ce(he,"source")||m(x["$[]"](1))&&u(Dt=u(St=x["$[]"](2))?St:K["$[]"]("source-language")))&&(u(Dt)?(x["$[]="]("style","source"),x["$[]="]("language",Dt),H("AttributeList").$rekey(x,[b,b,"linenums"])):(H("AttributeList").$rekey(x,[b,"language","linenums"]),u(x["$key?"]("language"))||u(K["$key?"]("source-language"))&&x["$[]="]("language",K["$[]"]("source-language"))),u(x["$key?"]("linenums"))||(u(x["$[]"]("linenums-option"))||u(K["$[]"]("source-linenums-option")))&&x["$[]="]("linenums",""),u(x["$key?"]("indent"))||u(K["$key?"]("source-indent"))&&x["$[]="]("indent",K["$[]"]("source-indent"))),ee=q.$build_block("listing","verbatim",Ze,E,F,x);break;case"fenced_code":x["$[]="]("style","source"),u(ve(ut=S.$length(),3))&&(u(Mt=(Dt=S.$slice(3,ut)).$index(","))?u(ve(Mt,0))?(Dt=Dt.$slice(0,Mt).$strip(),u(fe(Mt,Oe(ut,4)))&&x["$[]="]("linenums","")):u(ve(ut,4))&&x["$[]="]("linenums",""):Dt=Dt.$lstrip()),u(Dt["$nil_or_empty?"]())?u(K["$key?"]("source-language"))&&x["$[]="]("language",K["$[]"]("source-language")):x["$[]="]("language",Dt),u(x["$key?"]("linenums"))||(u(x["$[]"]("linenums-option"))||u(K["$[]"]("source-linenums-option")))&&x["$[]="]("linenums",""),u(x["$key?"]("indent"))||u(K["$key?"]("source-indent"))&&x["$[]="]("indent",K["$[]"]("source-indent")),Ze=Ze.$slice(0,3),ee=q.$build_block("listing","verbatim",Ze,E,F,x);break;case"table":Vt=F.$cursor(),Xt=H("Reader").$new(F.$read_lines_until(R(["terminator","skip_line_comments","context","cursor"],{terminator:Ze,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Vt),u(Ze["$start_with?"]("|","!"))||u(St=x["$[]"]("format"))||x["$[]="]("format",u(Ze["$start_with?"](","))?"csv":"dsv"),ee=q.$parse_table(Xt,E,x);break;case"sidebar":ee=q.$build_block(he,"compound",Ze,E,F,x);break;case"admonition":x["$[]="]("name",Ht=j.$downcase()),x["$[]="]("textlabel",u(St=x.$delete("caption"))?St:K["$[]"](""+Ht+"-caption")),ee=q.$build_block(he,"compound",Ze,E,F,x);break;case"open":case"abstract":case"partintro":ee=q.$build_block("open","compound",Ze,E,F,x);break;case"literal":ee=q.$build_block(he,"verbatim",Ze,E,F,x);break;case"example":u(x["$[]"]("collapsible-option"))&&x["$[]="]("caption",""),ee=q.$build_block(he,"compound",Ze,E,F,x);break;case"quote":case"verse":H("AttributeList").$rekey(x,[b,"attribution","citetitle"]),ee=q.$build_block(he,ce(he,"verse")?"verbatim":"compound",Ze,E,F,x);break;case"stem":case"latexmath":case"asciimath":ce(he,"stem")&&x["$[]="]("style",H("STEM_TYPE_ALIASES")["$[]"](u(St=x["$[]"](2))?St:K["$[]"]("stem"))),ee=q.$build_block("stem","raw",Ze,E,F,x);break;case"pass":ee=q.$build_block(he,"raw",Ze,E,F,x);break;case"comment":return q.$build_block(he,"skip",Ze,E,F,x),x.$clear(),b;default:if(u(c)&&u(qt=_["$registered_for_block?"](he,Me))){if(ce(er=(Ut=qt.$config())["$[]"]("content_model"),"skip")||(u((Jt=u(St=Ut["$[]"]("positional_attrs"))?St:Ut["$[]"]("pos_attrs"))["$nil_or_empty?"]())||H("AttributeList").$rekey(x,Fe([b],Jt)),u(Rt=Ut["$[]"]("default_attrs"))&&G(Rt,"each",[],function(jt,Wt){var Qt;return jt==null&&(jt=b),Wt==null&&(Wt=b),u(St=x["$[]"](jt))?St:(Qt=[jt,Wt],G(x,"[]=",Qt),Qt[Qt.length-1])}),x["$[]="]("cloaked-context",Me)),!u(ee=q.$build_block(he,er,Ze,E,F,x,R(["extension"],{extension:qt}))))return x.$clear(),b}else q.$raise("Unsupported block type "+he+" at "+F.$cursor())}return u(a.$sourcemap())&&ee["$source_location="](F.$cursor_at_mark()),u(x["$[]"]("title"))&&(ee["$title="](Et=x.$delete("title")),u(H("CAPTION_ATTRIBUTE_NAMES")["$[]"](ee.$context()))&&ee.$assign_caption(x.$delete("caption"))),ee["$style="](x["$[]"]("style")),u(tr=u(v=ee.$id())?v:(D=[x["$[]"]("id")],G(ee,"id=",D),D[D.length-1]))&&(u(u(Et)?Et["$include?"](H("ATTR_REF_HEAD")):ee["$title?"]())&&ee.$title(),u(a.$register("refs",[tr,ee]))||q.$logger().$warn(q.$message_with_context("id assigned to block already in use: "+tr,R(["source_location"],{source_location:F.$cursor_at_mark()})))),u(x["$empty?"]())||ee.$update_attributes(x),ee.$commit_subs(),u(ee["$sub?"]("callouts"))&&(u(q.$catalog_callouts(ee.$source(),a))||ee.$remove_sub("callouts")),ee},-3),z(ue,"$read_paragraph_lines",function(F,E,x){var M=b;return x==null&&(x=R([],{})),x["$[]="]("break_on_blank_lines",!0),x["$[]="]("break_on_list_continuation",!0),x["$[]="]("preserve_last_line",!0),M=u(E)?u(H("Compliance").$block_terminates_paragraph())?H("StartOfBlockOrListProc"):H("StartOfListProc"):u(H("Compliance").$block_terminates_paragraph())?H("StartOfBlockProc"):H("NoOp"),G(F,"read_lines_until",[x],M.$to_proc())},-3),z(ue,"$is_delimited_block?",function(F,E){var x,M,D=this,Y=b,q=b,l=b,t=b,a=b;if(E==null&&(E=b),!(u(ve(Y=F.$length(),1))&&u(H("DELIMITED_BLOCK_HEADS")["$[]"](F.$slice(0,2)))))return b;if(ce(Y,2))q=F,l=2;else if(u(fe(Y,5))?(q=F,l=Y):q=F.$slice(0,l=4),u(H("Compliance").$markdown_syntax())&&u(q["$start_with?"]("`"))){if(ce(l,4)){if(ce(q,"````")||se(q=q.$chop(),"```"))return b;F=q,Y=l=3}else if(se(q,"```"))return b}else if(ce(l,3))return b;return M=H("DELIMITED_BLOCKS")["$[]"](q),x=we(M),t=x[0]==null?b:x[0],a=x[1]==null?b:x[1],u(t)&&(ce(Y,l)||u(D["$uniform?"](F.$slice(1,Y),H("DELIMITED_BLOCK_TAILS")["$[]"](q),Oe(Y,1))))?u(E)?H("BlockMatchData").$new(t,a,q,F):!0:b},-2),z(ue,"$build_block",function(F,E,x,M,D,Y,q){var l,t=this,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b;switch(q==null&&(q=R([],{})),E){case"skip":l=[!0,"simple"],a=l[0],v=l[1];break;case"raw":l=[!1,"simple"],a=l[0],v=l[1];break;default:l=[!1,E],a=l[0],v=l[1]}switch(u(x["$nil?"]())?(ce(v,"verbatim")?_=D.$read_lines_until(R(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(ce(E,"compound")&&(E="simple"),_=t.$read_paragraph_lines(D,!1,R(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:a}))),c=b):se(v,"compound")?(_=D.$read_lines_until(R(["terminator","skip_processing","context","cursor"],{terminator:x,skip_processing:a,context:F,cursor:"at_mark"})),c=b):ce(x,!1)?(_=b,c=D):(_=b,A=D.$cursor(),c=H("Reader").$new(D.$read_lines_until(R(["terminator","skip_processing","context","cursor"],{terminator:x,skip_processing:a,context:F,cursor:"at_mark"})),A)),E){case"verbatim":S=(u(K=Y["$[]"]("tabsize"))?K:M.$document().$attributes()["$[]"]("tabsize")).$to_i(),u(j=Y["$[]"]("indent"))?t["$adjust_indentation!"](_,j.$to_i(),S):u(ve(S,0))&&t["$adjust_indentation!"](_,-1,S);break;case"skip":return b}if(u(ee=q["$[]"]("extension")))if(Y.$delete("style"),u(he=ee.$process_method()["$[]"](M,u(Me=c)?Me:H("Reader").$new(_),Y.$merge()))&&se(he,M))Y.$replace(he.$attributes()),ce(he.$content_model(),"compound")&&Se(H("Block"),he)&&m((_=he.$lines())["$empty?"]())&&(E="compound",c=H("Reader").$new(_));else return b;else he=H("Block").$new(M,F,R(["content_model","source","attributes"],{content_model:E,source:_,attributes:Y}));return ce(E,"compound")&&t.$parse_blocks(c,he),he},-7),z(ue,"$parse_blocks",function(F,E,x){var M=this,D=b,Y=b,q=b;if(x==null&&(x=b),u(x))for(;u(u(D=u(Y=q=M.$next_block(F,E,x.$merge()))?E.$blocks()["$<<"](q):Y)?D:F["$has_more_lines?"]()););else for(;u(u(D=u(Y=q=M.$next_block(F,E))?E.$blocks()["$<<"](q):Y)?D:F["$has_more_lines?"]()););return b},-3),z(ue,"$parse_list",function(F,E,x,M){var D,Y=this,q=b,l=b,t=b,a=b;for(Ke["~"]==null&&(Ke["~"]=b),q=H("List").$new(x,E),l=H("ListRxMap")["$[]"](E);u(u(t=F["$has_more_lines?"]())?l["$=~"](F.$peek_line()):t)&&(u(a=Y.$parse_list_item(F,q,Ke["~"],(D=Ke["~"])===b?b:D["$[]"](1),M))&&q.$items()["$<<"](a),!!u(t=F.$skip_blank_lines())););return q}),z(ue,"$catalog_callouts",function(F,E){var x=b,M=b;return x=!1,M=0,u(F["$include?"]("<"))&&G(F,"scan",[H("CalloutScanRx")],function(){var Y;return u(((Y=Ke["~"])===b?b:Y["$[]"](0))["$start_with?"]("\\"))||E.$callouts().$register(ce((Y=Ke["~"])===b?b:Y["$[]"](2),".")?(M=Fe(M,1)).$to_s():(Y=Ke["~"])===b?b:Y["$[]"](2)),x=!0}),x}),z(ue,"$catalog_inline_anchor",function(F,E,x,M,D){var Y=this;return D==null&&(D=x.$document()),u(E)&&u(E["$include?"](H("ATTR_REF_HEAD")))&&(E=D.$sub_attributes(E)),u(D.$register("refs",[F,H("Inline").$new(x,"anchor",E,R(["type","id"],{type:"ref",id:F}))]))||(Se(H("Reader"),M)&&(M=M.$cursor()),Y.$logger().$warn(Y.$message_with_context("id assigned to anchor already in use: "+F,R(["source_location"],{source_location:M})))),b},-5),z(ue,"$catalog_inline_anchors",function(F,E,x,M){var D=this;return(u(F["$include?"]("[["))||u(F["$include?"]("or:")))&&G(F,"scan",[H("InlineAnchorScanRx")],function Y(){var q,l=Y.$$s==null?this:Y.$$s,t=b,a=b,v=b,_=b;if(u(t=(q=Ke["~"])===b?b:q["$[]"](1))){if(u(a=(q=Ke["~"])===b?b:q["$[]"](2))&&u(a["$include?"](H("ATTR_REF_HEAD")))&&u((a=x.$sub_attributes(a))["$empty?"]()))return b}else t=(q=Ke["~"])===b?b:q["$[]"](3),u(a=(q=Ke["~"])===b?b:q["$[]"](4))&&(u(a["$include?"]("]"))?(a=a.$gsub("\\]","]"),u(a["$include?"](H("ATTR_REF_HEAD")))&&(a=x.$sub_attributes(a))):u(a["$include?"](H("ATTR_REF_HEAD")))&&u((a=x.$sub_attributes(a))["$empty?"]())&&(a=b));return u(x.$register("refs",[t,H("Inline").$new(E,"anchor",a,R(["type","id"],{type:"ref",id:t}))]))?b:(v=M.$cursor_at_mark(),u(ve(_=Fe(((q=Ke["~"])===b?b:q.$pre_match()).$count(H("LF")),u(((q=Ke["~"])===b?b:q["$[]"](0))["$start_with?"](H("LF")))?1:0),0))&&(v=v.$dup()).$advance(_),l.$logger().$warn(l.$message_with_context("id assigned to anchor already in use: "+t,R(["source_location"],{source_location:v}))))},{$$s:D}),b}),z(ue,"$catalog_inline_biblio_anchor",function(F,E,x,M){var D=this,Y=b;return u(x.$document().$register("refs",[F,H("Inline").$new(x,"anchor",u(Y=E)?"["+E+"]":Y,R(["type","id"],{type:"bibref",id:F}))]))||D.$logger().$warn(D.$message_with_context("id assigned to bibliography anchor already in use: "+F,R(["source_location"],{source_location:M.$cursor()}))),b}),z(ue,"$parse_description_list",function(F,E,x){var M=this,D=b,Y=b,q=b,l=b,t=b;for(Ke["~"]==null&&(Ke["~"]=b),D=H("List").$new(x,"dlist"),Y=H("DescriptionListSiblingRx")["$[]"](E["$[]"](2)),D.$items()["$<<"](q=M.$parse_list_item(F,D,E,Y));u(u(l=F["$has_more_lines?"]())?Y["$=~"](F.$peek_line()):l);)t=M.$parse_list_item(F,D,Ke["~"],Y),u(q["$[]"](1))?D.$items()["$<<"](q=t):(q["$[]"](0)["$<<"](t["$[]"](0)["$[]"](0)),q["$[]="](1,t["$[]"](1)));return D}),z(ue,"$parse_callout_list",function(F,E,x,M){var D=this,Y=b,q=b,l=b,t=b,a=b,v=b,_=b,c=b;for(Y=H("List").$new(x,"colist"),q=1,l=0;u(u(t=E)?t:u(a=E=H("CalloutListRx").$match(F.$peek_line()))?F.$mark():a);)ce(v=E["$[]"](1),".")&&(v=(l=Fe(l,1)).$to_s()),ce(v,q.$to_s())||D.$logger().$warn(D.$message_with_context("callout list item index: expected "+q+", got "+v,R(["source_location"],{source_location:F.$cursor_at_mark()}))),u(_=D.$parse_list_item(F,Y,E,"<1>"))&&(Y.$items()["$<<"](_),u((c=M.$callout_ids(Y.$items().$size()))["$empty?"]())?D.$logger().$warn(D.$message_with_context("no callout found for <"+Y.$items().$size()+">",R(["source_location"],{source_location:F.$cursor_at_mark()}))):_.$attributes()["$[]="]("coids",c)),q=Fe(q,1),E=b;return M.$next_list(),Y}),z(ue,"$parse_list_item",function(F,E,x,M,D){var Y,q,l=this,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b,et=b,at=b,ct=b,ft=b,ut=b,ht=b;if(D==null&&(D=b),ce(t=E.$context(),"dlist"))a=!0,v=H("ListItem").$new(E,_=x["$[]"](1)),u(_["$start_with?"]("[["))&&u(H("LeadingInlineAnchorRx")["$=~"](_))&&l.$catalog_inline_anchor((Y=Ke["~"])===b?b:Y["$[]"](1),u(c=(Y=Ke["~"])===b?b:Y["$[]"](2))?c:((Y=Ke["~"])===b?b:Y.$post_match()).$lstrip(),v,F),u(A=x["$[]"](3))&&(S=!0),K=H("ListItem").$new(E,A),u(E.$document().$sourcemap())&&(v["$source_location="](F.$cursor()),u(S)?K["$source_location="](v.$source_location()):j=!0);else switch(S=!0,K=H("ListItem").$new(E,A=x["$[]"](2)),u(E.$document().$sourcemap())&&K["$source_location="](F.$cursor()),t){case"ulist":K["$marker="](M),u(A["$start_with?"]("["))&&(u(D)&&ce(D,"bibliography")?u(H("InlineBiblioAnchorRx")["$=~"](A))&&l.$catalog_inline_biblio_anchor((Y=Ke["~"])===b?b:Y["$[]"](1),(Y=Ke["~"])===b?b:Y["$[]"](2),K,F):u(A["$start_with?"]("[["))?u(H("LeadingInlineAnchorRx")["$=~"](A))&&l.$catalog_inline_anchor((Y=Ke["~"])===b?b:Y["$[]"](1),(Y=Ke["~"])===b?b:Y["$[]"](2),K,F):u(A["$start_with?"]("[ ] ","[x] ","[*] "))&&(E.$set_option("checklist"),K.$attributes()["$[]="]("checkbox",""),u(A["$start_with?"]("[ "))||K.$attributes()["$[]="]("checked",""),K["$text="](A.$slice(4,A.$length()))));break;case"olist":q=l.$resolve_ordered_list_marker(M,ee=E.$items().$size(),!0,F),Y=we(q),M=Y[0]==null?b:Y[0],he=Y[1]==null?b:Y[1],K["$marker="](M),ce(ee,0)&&m(D)&&E["$style="](u(Me=he)?Me:(u(Ze=H("ORDERED_LIST_STYLES")["$[]"](Oe(M.$length(),1)))?Ze:"arabic").$to_s()),u(A["$start_with?"]("[["))&&u(H("LeadingInlineAnchorRx")["$=~"](A))&&l.$catalog_inline_anchor((Y=Ke["~"])===b?b:Y["$[]"](1),(Y=Ke["~"])===b?b:Y["$[]"](2),K,F);break;default:K["$marker="](M),u(A["$start_with?"]("[["))&&u(H("LeadingInlineAnchorRx")["$=~"](A))&&l.$catalog_inline_anchor((Y=Ke["~"])===b?b:Y["$[]"](1),(Y=Ke["~"])===b?b:Y["$[]"](2),K,F)}if(F.$shift(),$t=F.$cursor(),et=H("Reader").$new(l.$read_lines_for_list_item(F,t,M,S),$t),u(et["$has_more_lines?"]())){for(u(j)&&K["$source_location="]($t),at=et.$skip_line_comments(),u(ct=et.$peek_line())&&(u(at["$empty?"]())||et.$unshift_lines(at),u(ct["$empty?"]())||(ft=!0,u(a)||(S=b))),u(ut=l.$next_block(et,K,R([],{}),R(["text_only","list_type"],{text_only:u(S)?b:!0,list_type:t})))&&K.$blocks()["$<<"](ut);u(et["$has_more_lines?"]());)u(ut=l.$next_block(et,K,R([],{}),R(["list_type"],{list_type:t})))&&K.$blocks()["$<<"](ut);u(ft)&&u(ht=K.$blocks()["$[]"](0))&&ce(ht.$context(),"paragraph")&&K.$fold_first()}return u(a)?[[v],u(K["$text?"]())||u(K["$blocks?"]())?K:b]:K},-5),z(ue,"$read_lines_for_list_item",function(F,E,x,M){var D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b;for(x==null&&(x=b),M==null&&(M=!0),q=[],l="inactive",t=!1,a=b,v=E["$=="]("dlist");u(F["$has_more_lines?"]())&&(_=F.$read_line(),!u(Y["$is_sibling_list_item?"](_,E,x)));){if(c=u(q["$empty?"]())?b:q["$[]"](-1),ce(c,H("LIST_CONTINUATION"))&&(ce(l,"inactive")&&(l="active",M=!0,u(t)||q["$[]="](-1,"")),ce(_,H("LIST_CONTINUATION")))){se(l,"frozen")&&(l="frozen",q["$<<"](_)),_=b;continue}if(u(A=Y["$is_delimited_block?"](_,!0))){if(!ce(l,"active"))break;q["$<<"](_),q.$concat(F.$read_lines_until(R(["terminator","read_last_line","context"],{terminator:A.$terminator(),read_last_line:!0,context:b}))),l="inactive"}else if(u(v)&&se(l,"active")&&u(_["$start_with?"]("["))&&u(H("BlockAttributeLineRx")["$match?"](_))){for(S=[_];u(K=F.$peek_line());){if(u(Y["$is_delimited_block?"](K)))j=!0;else if(u(K["$empty?"]())||u(K["$start_with?"]("["))&&u(H("BlockAttributeLineRx")["$match?"](K))){S["$<<"](F.$read_line());continue}else u(H("AnyListRx")["$match?"](K))&&m(Y["$is_sibling_list_item?"](K,E,x))?q.$concat(S):j=!0;break}if(u(j)){F.$unshift_lines(S);break}}else if(ce(l,"active")&&m(_["$empty?"]()))u(H("LiteralParagraphRx")["$match?"](_))?(F.$unshift_line(_),u(v)?q.$concat(G(F,"read_lines_until",[R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=b),at["$is_sibling_list_item?"](et,E,x)},{$$s:Y})):q.$concat(F.$read_lines_until(R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),l="inactive"):ce(ee=_.$chr(),".")&&u(H("BlockTitleRx")["$match?"](_))||ce(ee,"[")&&u(H("BlockAttributeLineRx")["$match?"](_))||ce(ee,":")&&u(H("AttributeEntryRx")["$match?"](_))?q["$<<"](_):(u(he=G(u(t)?["dlist"]:H("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=b),H("ListRxMap")["$[]"](et)["$match?"](_)}))&&(t=!0,ce(he,"dlist")&&u(((D=Ke["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]())&&(M=!1)),q["$<<"](_),l="inactive");else if(u(c)&&u(c["$empty?"]())){if(u(_["$empty?"]())&&(!u(_=u(Me=F.$skip_blank_lines())?F.$read_line():Me)||u(Y["$is_sibling_list_item?"](_,E,x))))break;if(ce(_,H("LIST_CONTINUATION")))a=q.$size(),q["$<<"](_);else if(u(M)){if(u(Y["$is_sibling_list_item?"](_,E,x)))break;if(u(he=G(H("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=b),H("ListRxMap")["$[]"](et)["$=~"](_)})))q["$<<"](_),t=!0,ce(he,"dlist")&&u(((D=Ke["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]())&&(M=!1);else if(u(H("LiteralParagraphRx")["$match?"](_)))F.$unshift_line(_),u(v)?q.$concat(G(F,"read_lines_until",[R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=b),at["$is_sibling_list_item?"](et,E,x)},{$$s:Y})):q.$concat(F.$read_lines_until(R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else u(t)||q.$pop(),q["$<<"](_),M=!0}else u(_["$empty?"]())||(M=!0),u(he=G(u(t)?["dlist"]:H("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=b),H("ListRxMap")["$[]"](et)["$=~"](_)}))&&(t=!0,ce(he,"dlist")&&u(((D=Ke["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]())&&(M=!1)),q["$<<"](_);_=b}for(u(_)&&F.$unshift_line(_),u(a)&&q["$[]="](a,"");!u(q["$empty?"]());)if(u((Ze=q["$[]"](-1))["$empty?"]()))q.$pop();else{ce(Ze,H("LIST_CONTINUATION"))&&q.$pop();break}return q},-3),z(ue,"$initialize_section",function(F,E,x){var M,D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b,et=b;return x==null&&(x=R([],{})),q=E.$document(),l=(t=q.$doctype())["$=="]("book"),u(q.$sourcemap())&&(a=F.$cursor()),v=x["$[]"](1),D=Y.$parse_section_title(F,q,x["$[]"]("id")),M=we(D),_=M[0]==null?b:M[0],c=M[1]==null?b:M[1],A=M[2]==null?b:M[2],S=M[3]==null?b:M[3],K=M[4]==null?b:M[4],u(v)?u(l)&&ce(v,"abstract")?(M=["chapter",1],j=M[0],S=M[1]):u(v["$start_with?"]("sect"))&&u(H("SectionLevelStyleRx")["$match?"](v))?j="section":(M=[v,!0],j=M[0],ee=M[1],ce(S,0)&&(S=1),he=j["$=="]("appendix")):u(l)?j=ce(S,0)?"part":u(ve(S,1))?"section":"chapter":ce(t,"manpage")&&ce(A.$casecmp("synopsis"),0)?(M=["synopsis",!0],j=M[0],ee=M[1]):j="section",u(c)&&x["$[]="]("reftext",c),Me=H("Section").$new(E,S),M=[_,A,j,a],D=[M[0]],G(Me,"id=",D),D[D.length-1],D=[M[1]],G(Me,"title=",D),D[D.length-1],D=[M[2]],G(Me,"sectname=",D),D[D.length-1],D=[M[3]],G(Me,"source_location=",D),D[D.length-1],u(ee)?(Me["$special="](!0),u(he)?Me["$numbered="](!0):ce(q.$attributes()["$[]"]("sectnums"),"all")&&Me["$numbered="](u(l)&&ce(S,1)?"chapter":!0)):u(q.$attributes()["$[]"]("sectnums"))&&u(ve(S,0))?Me["$numbered="](u(Me.$special())?u(Ze=E.$numbered())||Ze:!0):u(l)&&ce(S,0)&&u(q.$attributes()["$[]"]("partnums"))&&Me["$numbered="](!0),u($t=u(Ze=Me.$id())?Ze:(M=[u(q.$attributes()["$key?"]("sectids"))?et=H("Section").$generate_id(Me.$title(),q):b],G(Me,"id=",M),M[M.length-1]))&&(u(et)||m(A["$include?"](H("ATTR_REF_HEAD")))||Me.$title(),u(q.$register("refs",[$t,Me]))||Y.$logger().$warn(Y.$message_with_context("id assigned to section already in use: "+$t,R(["source_location"],{source_location:F.$cursor_at_line(Oe(F.$lineno(),u(K)?1:2))})))),Me.$update_attributes(x),F.$skip_blank_lines(),Me},-3),z(ue,"$is_next_line_section?",function(F,E){var x=this,M=b,D=b,Y=b;return u(M=E["$[]"](1))&&(ce(M,"discrete")||ce(M,"float"))?b:u(H("Compliance").$underline_style_section_titles())?(D=F.$peek_lines(2,u(Y=M)?M["$=="]("comment"):Y),x["$is_section_title?"](u(Y=D["$[]"](0))?Y:"",D["$[]"](1))):x["$atx_section_title?"](u(Y=F.$peek_line())?Y:"")}),z(ue,"$is_next_line_doctitle?",function(F,E,x){var M=this,D=b,Y=b;return u(x)?u(D=Y=M["$is_next_line_section?"](F,E))?Fe(Y,x.$to_i())["$=="](0):D:M["$is_next_line_section?"](F,E)["$=="](0)}),z(ue,"$is_section_title?",function(F,E){var x=this,M=b;return E==null&&(E=b),u(M=x["$atx_section_title?"](F))?M:u(E["$nil_or_empty?"]())?b:x["$setext_section_title?"](F,E)},-2),z(ue,"$atx_section_title?",function(F){var E,x=b;return u(u(H("Compliance").$markdown_syntax())?u(x=F["$start_with?"]("=","#"))?H("ExtAtxSectionTitleRx")["$=~"](F):x:u(x=F["$start_with?"]("="))?H("AtxSectionTitleRx")["$=~"](F):x)?Oe(((E=Ke["~"])===b?b:E["$[]"](1)).$length(),1):b}),z(ue,"$setext_section_title?",function(F,E){var x=this,M=b,D=b,Y=b;return u(D=H("SETEXT_SECTION_LEVELS")["$[]"](Y=E.$chr()))&&u(x["$uniform?"](E,Y,M=E.$length()))&&u(H("SetextSectionTitleRx")["$match?"](F))&&u(fe(Oe(F.$length(),M).$abs(),2))?D:b}),z(ue,"$parse_section_title",function(F,E,x){var M,D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b;return x==null&&(x=b),q=b,l=F.$read_line(),u(u(H("Compliance").$markdown_syntax())?u(t=l["$start_with?"]("=","#"))?H("ExtAtxSectionTitleRx")["$=~"](l):t:u(t=l["$start_with?"]("="))?H("AtxSectionTitleRx")["$=~"](l):t)?(M=[Oe(((D=Ke["~"])===b?b:D["$[]"](1)).$length(),1),(D=Ke["~"])===b?b:D["$[]"](2),!0],a=M[0],v=M[1],_=M[2],u(x)||u(v["$end_with?"]("]]"))&&u(H("InlineSectionAnchorRx")["$=~"](v))&&m((M=Ke["~"])===b?b:M["$[]"](1))&&(M=[v.$slice(0,Oe(v.$length(),((D=Ke["~"])===b?b:D["$[]"](0)).$length())),(D=Ke["~"])===b?b:D["$[]"](2),(D=Ke["~"])===b?b:D["$[]"](3)],v=M[0],x=M[1],q=M[2])):u(H("Compliance").$underline_style_section_titles())&&u(S=F.$peek_line(!0))&&u(a=H("SETEXT_SECTION_LEVELS")["$[]"](A=S.$chr()))&&u(Y["$uniform?"](S,A,c=S.$length()))&&u(v=u(t=H("SetextSectionTitleRx")["$=~"](l))?(M=Ke["~"])===b?b:M["$[]"](1):t)&&u(fe(Oe(l.$length(),c).$abs(),2))?(_=!1,u(x)||u(v["$end_with?"]("]]"))&&u(H("InlineSectionAnchorRx")["$=~"](v))&&m((M=Ke["~"])===b?b:M["$[]"](1))&&(M=[v.$slice(0,Oe(v.$length(),((D=Ke["~"])===b?b:D["$[]"](0)).$length())),(D=Ke["~"])===b?b:D["$[]"](2),(D=Ke["~"])===b?b:D["$[]"](3)],v=M[0],x=M[1],q=M[2]),F.$shift()):Y.$raise("Unrecognized section at "+F.$cursor_at_prev_line()),u(E["$attr?"]("leveloffset"))&&(a=Fe(a,E.$attr("leveloffset").$to_i()),u(fe(a,0))&&(a=0)),[x,q,v,a,_]},-3),z(ue,"$parse_header_metadata",function(F,E,x){var M,D=this,Y=b,q=b,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b,et=b,at=b;if(E==null&&(E=b),x==null&&(x=!0),Y=u(q=E)?E.$attributes():q,D.$process_attribute_entries(F,E),u(F["$has_more_lines?"]())&&m(F["$next_line_empty?"]())?(l=(t=D.$process_authors(F.$read_line())).$delete("authorcount"),u(E)&&u(ve((M=["authorcount",l],G(Y,"[]=",M),M[M.length-1]),0))&&(G(t,"each",[],function(ft,ut){var ht;return ft==null&&(ft=b),ut==null&&(ut=b),u(Y["$key?"](ft))?b:(ht=[ft,E.$apply_header_subs(ut)],G(Y,"[]=",ht),ht[ht.length-1])}),a=Y["$[]"]("author"),v=Y["$[]"]("authorinitials"),_=Y["$[]"]("authors")),t["$[]="]("authorcount",l),D.$process_attribute_entries(F,E),u(F["$has_more_lines?"]())&&m(F["$next_line_empty?"]())&&(c=F.$read_line(),u(A=H("RevisionInfoLineRx").$match(c))?(S=R([],{}),u(A["$[]"](1))&&S["$[]="]("revnumber",A["$[]"](1).$rstrip()),u((K=A["$[]"](2).$strip())["$empty?"]())||(m(A["$[]"](1))&&u(K["$start_with?"]("v"))?S["$[]="]("revnumber",K.$slice(1,K.$length())):S["$[]="]("revdate",K)),u(A["$[]"](3))&&S["$[]="]("revremark",A["$[]"](3).$rstrip()),u(E)&&m(S["$empty?"]())&&G(S,"each",[],function(ft,ut){var ht;return ft==null&&(ft=b),ut==null&&(ut=b),u(Y["$key?"](ft))?b:(ht=[ft,E.$apply_header_subs(ut)],G(Y,"[]=",ht),ht[ht.length-1])})):F.$unshift_line(c)),D.$process_attribute_entries(F,E),F.$skip_blank_lines()):t=R([],{}),u(E)){if(u(Y["$key?"]("author"))&&se(j=Y["$[]"]("author"),a))ee=D.$process_authors(j,!0,!1),se(Y["$[]"]("authorinitials"),v)&&ee.$delete("authorinitials");else if(u(Y["$key?"]("authors"))&&se(j=Y["$[]"]("authors"),_))ee=D.$process_authors(j,!0);else{for(M=[[],1,"author_1",!1,!1],he=M[0],Me=M[1],Ze=M[2],$t=M[3],et=M[4];u(Y["$key?"](Ze));)ce(at=Y["$[]"](Ze),t["$[]"](Ze))?(he["$<<"](b),et=!0):(he["$<<"](at),$t=!0),Ze="author_"+(Me=Fe(Me,1));u($t)?(u(et)&&G(he,"each_with_index",[],function(ft,ut){var ht,dt=b;return ft==null&&(ft=b),ut==null&&(ut=b),u(ft)?b:(ht=[ut,G([t["$[]"]("firstname_"+(dt=Fe(ut,1))),t["$[]"]("middlename_"+dt),t["$[]"]("lastname_"+dt)].$compact(),"map",[],function(yt){return yt==null&&(yt=b),yt.$tr(" ","_")}).$join(" ")],G(he,"[]=",ht),ht[ht.length-1])}),ee=D.$process_authors(he,!0,!1)):ee=R(["authorcount"],{authorcount:0})}ce(ee["$[]"]("authorcount"),0)?u(l)?ee=b:Y["$[]="]("authorcount",0):(Y.$update(ee),m(Y["$key?"]("email"))&&u(Y["$key?"]("email_1"))&&Y["$[]="]("email",Y["$[]"]("email_1")))}return u(x)?t.$merge(S.$to_h(),ee.$to_h()):b},-2),z(ue,"$process_authors",function(F,E,x){var M=b,D=b;return E==null&&(E=!1),x==null&&(x=!0),M=R([],{}),D=0,G(u(x)&&u(F["$include?"](";"))?F.$split(H("AuthorDelimiterRx")):[].concat(st(F)),"each",[],function(q){var l,t=b,a=b,v=b,_=b,c=b,A=b,S=b;return q==null&&(q=b),u(q["$empty?"]())?b:(t=R([],{}),ce(D=Fe(D,1),1)?G(H("AuthorKeys"),"each",[],function(j){var ee;return j==null&&(j=b),ee=[j.$to_sym(),j],G(t,"[]=",ee),ee[ee.length-1]}):G(H("AuthorKeys"),"each",[],function(j){var ee;return j==null&&(j=b),ee=[j.$to_sym(),""+j+"_"+D],G(t,"[]=",ee),ee[ee.length-1]}),u(E)?(u(q["$include?"]("<"))&&(M["$[]="](t["$[]"]("author"),q.$tr("_"," ")),q=q.$gsub(H("XmlSanitizeRx"),"")),ce((a=q.$split(b,3)).$size(),3)&&a["$<<"](a.$pop().$squeeze(" "))):u(v=H("AuthorInfoLineRx").$match(q))&&(a=v.$to_a()).$shift(),u(a)?(_=(l=[t["$[]"]("firstname"),c=a["$[]"](0).$tr("_"," ")],G(M,"[]=",l),l[l.length-1]),M["$[]="](t["$[]"]("authorinitials"),c.$chr()),u(a["$[]"](1))&&(u(a["$[]"](2))?(M["$[]="](t["$[]"]("middlename"),A=a["$[]"](1).$tr("_"," ")),M["$[]="](t["$[]"]("lastname"),S=a["$[]"](2).$tr("_"," ")),_=Fe(Fe(Fe(Fe(c," "),A)," "),S),M["$[]="](t["$[]"]("authorinitials"),""+c.$chr()+A.$chr()+S.$chr())):(M["$[]="](t["$[]"]("lastname"),S=a["$[]"](1).$tr("_"," ")),_=Fe(Fe(c," "),S),M["$[]="](t["$[]"]("authorinitials"),""+c.$chr()+S.$chr()))),u(M["$[]"](t["$[]"]("author")))||M["$[]="](t["$[]"]("author"),_),u(E)||m(a["$[]"](3))||M["$[]="](t["$[]"]("email"),a["$[]"](3))):(M["$[]="](t["$[]"]("author"),(l=[t["$[]"]("firstname"),c=q.$squeeze(" ").$strip()],G(M,"[]=",l),l[l.length-1])),M["$[]="](t["$[]"]("authorinitials"),c.$chr())),ce(D,1)?(l=["authors",M["$[]"](t["$[]"]("author"))],G(M,"[]=",l),l[l.length-1]):(ce(D,2)&&G(H("AuthorKeys"),"each",[],function(j){var ee;return j==null&&(j=b),u(M["$key?"](j))?(ee=[""+j+"_1",M["$[]"](j)],G(M,"[]=",ee),ee[ee.length-1]):b}),l=["authors",""+M["$[]"]("authors")+", "+M["$[]"](t["$[]"]("author"))],G(M,"[]=",l),l[l.length-1]))}),M["$[]="]("authorcount",D),M},-2),z(ue,"$parse_block_metadata_lines",function(F,E,x,M){var D=this;for(x==null&&(x=R([],{})),M==null&&(M=R([],{}));u(D.$parse_block_metadata_line(F,E,x,M))&&(F.$shift(),!!u(F.$skip_blank_lines())););return x},-3),z(ue,"$parse_block_metadata_line",function(F,E,x,M){var D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b;if(Ke["~"]==null&&(Ke["~"]=b),M==null&&(M=R([],{})),u(l=F.$peek_line())&&u(u(M["$[]"]("text_only"))?l["$start_with?"]("[","/"):q=l["$start_with?"]("[",".","/",":"))){if(u(l["$start_with?"]("["))){if(u(l["$start_with?"]("[["))){if(u(l["$end_with?"]("]]"))&&u(H("BlockAnchorRx")["$=~"](l)))return x["$[]="]("id",(D=Ke["~"])===b?b:D["$[]"](1)),u(t=(D=Ke["~"])===b?b:D["$[]"](2))&&x["$[]="]("reftext",u(t["$include?"](H("ATTR_REF_HEAD")))?E.$sub_attributes(t):t),!0}else if(u(l["$end_with?"]("]"))&&u(H("BlockAttributeListRx")["$=~"](l)))return a=x["$[]"](1),u(E.$parse_attributes((D=Ke["~"])===b?b:D["$[]"](1),[],R(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:x}))["$[]"](1))&&x["$[]="](1,u(v=Y.$parse_style_attribute(x,F))?v:a),!0}else if(u(q)&&u(l["$start_with?"]("."))){if(u(H("BlockTitleRx")["$=~"](l)))return x["$[]="]("title",(D=Ke["~"])===b?b:D["$[]"](1)),!0}else if(m(q)||u(l["$start_with?"]("/"))){if(u(l["$start_with?"]("//"))){if(ce(l,"//"))return!0;if(u(q)&&u(Y["$uniform?"](l,"/",_=l.$length()))){if(!ce(_,3))return F.$read_lines_until(R(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:l,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!u(l["$start_with?"]("///")))return!0}}else if(u(q)&&u(l["$start_with?"](":"))&&u(H("AttributeEntryRx")["$=~"](l)))return Y.$process_attribute_entry(F,E,x,Ke["~"]),!0}return b},-4),z(ue,"$process_attribute_entries",function(F,E,x){var M=this;for(x==null&&(x=b),F.$skip_comment_lines();u(M.$process_attribute_entry(F,E,x));)F.$shift(),F.$skip_comment_lines()},-3),z(ue,"$process_attribute_entry",function(F,E,x,M){var D,Y=this,q=b,l=b,t=b,a=b,v=b,_=b;if(x==null&&(x=b),M==null&&(M=b),u(M)||u(M=u(F["$has_more_lines?"]())?H("AttributeEntryRx").$match(F.$peek_line()):b)){if(u((q=M["$[]"](2))["$nil_or_empty?"]()))q="";else if(u(q["$end_with?"](H("LINE_CONTINUATION"),H("LINE_CONTINUATION_LEGACY"))))for(D=[q.$slice(Oe(q.$length(),2),2),q.$slice(0,Oe(q.$length(),2)).$rstrip()],l=D[0],q=D[1];u(u(t=F.$advance())?(a=u(v=F.$peek_line())?v:"")["$empty?"]()["$!"]():t)&&(a=a.$lstrip(),u(_=a["$end_with?"](l))&&(a=a.$slice(0,Oe(a.$length(),2)).$rstrip()),q=""+q+(u(q["$end_with?"](H("HARD_LINE_BREAK")))?H("LF"):" ")+a,!!u(_)););return Y.$store_attribute(M["$[]"](1),q,E,x),!0}else return b},-3),z(ue,"$store_attribute",function(F,E,x,M){var D=this,Y=b;return x==null&&(x=b),M==null&&(M=b),u(F["$end_with?"]("!"))?(F=F.$chop(),E=b):u(F["$start_with?"]("!"))&&(F=F.$slice(1,F.$length()),E=b),ce(F=D.$sanitize_attribute_name(F),"numbered")?F="sectnums":ce(F,"hardbreaks")?F="hardbreaks-option":ce(F,"showtitle")&&D.$store_attribute("notitle",u(E)?b:"",x,M),u(x)?u(E)?(ce(F,"leveloffset")&&(u(E["$start_with?"]("+"))?E=Fe(x.$attr("leveloffset",0).$to_i(),E.$slice(1,E.$length()).$to_i()).$to_s():u(E["$start_with?"]("-"))&&(E=Oe(x.$attr("leveloffset",0).$to_i(),E.$slice(1,E.$length()).$to_i()).$to_s())),u(Y=x.$set_attribute(F,E))&&(E=Y,u(M)&&We(H("Document"),"AttributeEntry").$new(F,E).$save_to(M))):u(x.$delete_attribute(F))&&u(M)&&We(H("Document"),"AttributeEntry").$new(F,E).$save_to(M):u(M)&&We(H("Document"),"AttributeEntry").$new(F,E).$save_to(M),[F,E]},-3),z(ue,"$resolve_list_marker",function(F,E,x,M,D){var Y=this;switch(x==null&&(x=0),M==null&&(M=!1),D==null&&(D=b),F){case"ulist":return E;case"olist":return Y.$resolve_ordered_list_marker(E,x,M,D)["$[]"](0);default:return"<1>"}},-3),z(ue,"$resolve_ordered_list_marker",function(F,E,x,M){var D=this,Y=b,q=b,l=b;if(E==null&&(E=0),x==null&&(x=!1),M==null&&(M=b),u(F["$start_with?"](".")))return[F];switch(Y=G(H("ORDERED_LIST_STYLES"),"find",[],function(a){return a==null&&(a=b),H("OrderedListMarkerRxMap")["$[]"](a)["$match?"](F)})){case"arabic":u(x)&&(q=Fe(E,1),l=F.$to_i()),F="1.";break;case"loweralpha":u(x)&&(q=Fe("a"["$[]"](0).$ord(),E).$chr(),l=F.$chop()),F="a.";break;case"upperalpha":u(x)&&(q=Fe("A"["$[]"](0).$ord(),E).$chr(),l=F.$chop()),F="A.";break;case"lowerroman":u(x)&&(q=H("Helpers").$int_to_roman(Fe(E,1)).$downcase(),l=F.$chop()),F="i)";break;case"upperroman":u(x)&&(q=H("Helpers").$int_to_roman(Fe(E,1)),l=F.$chop()),F="I)";break}return u(x)&&se(q,l)&&D.$logger().$warn(D.$message_with_context("list item index: expected "+q+", got "+l,R(["source_location"],{source_location:M.$cursor()}))),[F,Y]},-2),z(ue,"$is_sibling_list_item?",function(F,E,x){var M,D=this,Y=b;return Se(We("Regexp"),x)?x["$match?"](F):u(Y=H("ListRxMap")["$[]"](E)["$=~"](F))?x["$=="](D.$resolve_list_marker(E,(M=Ke["~"])===b?b:M["$[]"](1))):Y}),z(ue,"$parse_table",function(F,E,x){var M,D,Y,q=this,l=b,t=b,a=b,v=b,_=b,c=b,A=b,S=b,K=b,j=b,ee=b,he=b,Me=b,Ze=b,$t=b,et=b,at=b,ct=b;for(l=H("Table").$new(E,x),u(x["$key?"]("cols"))&&m((t=q.$parse_colspecs(x["$[]"]("cols")))["$empty?"]())&&(l.$create_columns(t),a=!0),v=u(_=F.$skip_blank_lines())?_:0,u(x["$[]"]("header-option"))?l["$has_header_option="](!0):ce(v,0)&&m(x["$[]"]("noheader-option"))&&(l["$has_header_option="]("implicit"),c=!0),A=We(H("Table"),"ParserContext").$new(F,l,x),M=[A.$format(),-1,b],S=M[0],K=M[1],j=M[2];u(ee=F.$read_line());){for(u(he=ve(K=Fe(K,1),0))&&u(ee["$empty?"]())?(ee=b,u(j)&&(j=Fe(j,1))):ce(S,"psv")&&(u(A["$starts_with_delimiter?"](ee))?(ee=ee.$slice(1,ee.$length()),A.$close_open_cell(),u(j)&&(j=b)):(D=q.$parse_cellspec(ee,"start",A.$delimiter()),M=we(D),Me=M[0]==null?b:M[0],ee=M[1]==null?b:M[1],u(Me)?(A.$close_open_cell(Me),u(j)&&(j=b)):u(j)&&ce(j,K)&&l["$has_header_option="](c=j=b))),u(he)||(F.$mark(),u(c)&&(u(F["$has_more_lines?"]())&&u(F.$peek_line()["$empty?"]())?j=1:l["$has_header_option="](c=b))),M=!1;M||u(!0);)if(M=!1,u(ee)&&u(Ze=A.$match_delimiter(ee))){if(D=[Ze.$pre_match(),Ze.$post_match()],$t=D[0],et=D[1],Se("csv",_=S)){if(u(A["$buffer_has_unclosed_quotes?"]($t))){if(A.$skip_past_delimiter($t),u((ee=et)["$empty?"]()))break;M=!0;continue}A["$buffer="](""+A.$buffer()+$t)}else if(Se("dsv",_)){if(u($t["$end_with?"]("\\"))){if(A.$skip_past_escaped_delimiter($t),u((ee=et)["$empty?"]())){A["$buffer="](""+A.$buffer()+H("LF")),A.$keep_cell_open();break}M=!0;continue}A["$buffer="](""+A.$buffer()+$t)}else{if(u($t["$end_with?"]("\\"))){if(A.$skip_past_escaped_delimiter($t),u((ee=et)["$empty?"]())){A["$buffer="](""+A.$buffer()+H("LF")),A.$keep_cell_open();break}M=!0;continue}Y=q.$parse_cellspec($t),D=we(Y),Me=D[0]==null?b:D[0],at=D[1]==null?b:D[1],A.$push_cellspec(Me),A["$buffer="](""+A.$buffer()+at)}u((ee=et)["$empty?"]())&&(ee=b),A.$close_cell()}else{switch(A["$buffer="](""+A.$buffer()+ee+H("LF")),S){case"csv":u(A["$buffer_has_unclosed_quotes?"]())?(u(j)&&ce(K,0)&&l["$has_header_option="](c=j=b),A.$keep_cell_open()):A.$close_cell(!0);break;case"dsv":A.$close_cell(!0);break;default:A.$keep_cell_open()}break}if(u(A["$cell_open?"]()))u(F["$has_more_lines?"]())||A.$close_cell(!0);else if(!u(_=F.$skip_blank_lines()))break}return ce((ct=l.$attributes(),u(_=ct["$[]"]("colcount"))?_:(M=["colcount",l.$columns().$size()],G(ct,"[]=",M),M[M.length-1])),0)||u(a)||l.$assign_column_widths(),u(c)&&l["$has_header_option="](!0),l.$partition_header_footer(x),l}),z(ue,"$parse_colspecs",function(F){var E=b;return u(F["$include?"](" "))&&(F=F.$delete(" ")),ce(F,F.$to_i().$to_s())?G(We("Array"),"new",[F.$to_i()],function(){return R(["width"],{width:1})}):(E=[],G(u(F["$include?"](","))?F.$split(",",-1):F.$split(";",-1),"each",[],function(M){var D,Y,q=b,l=b,t=b,a=b,v=b;return M==null&&(M=b),u(M["$empty?"]())?E["$<<"](R(["width"],{width:1})):u(q=H("ColumnSpecRx").$match(M))?(l=R([],{}),u(q["$[]"](2))&&(Y=q["$[]"](2).$split("."),D=we(Y),t=D[0]==null?b:D[0],a=D[1]==null?b:D[1],m(t["$nil_or_empty?"]())&&u(H("TableCellHorzAlignments")["$key?"](t))&&l["$[]="]("halign",H("TableCellHorzAlignments")["$[]"](t)),m(a["$nil_or_empty?"]())&&u(H("TableCellVertAlignments")["$key?"](a))&&l["$[]="]("valign",H("TableCellVertAlignments")["$[]"](a))),u(v=q["$[]"](3))?l["$[]="]("width",ce(v,"~")?-1:v.$to_i()):l["$[]="]("width",1),u(q["$[]"](4))&&u(H("TableCellStyles")["$key?"](q["$[]"](4)))&&l["$[]="]("style",H("TableCellStyles")["$[]"](q["$[]"](4))),u(q["$[]"](1))?G(1,"upto",[q["$[]"](1).$to_i()],function(){return E["$<<"](l.$merge())}):E["$<<"](l)):b}),E)}),z(ue,"$parse_cellspec",function(F,E,x){var M,D,Y=b,q=b,l=b,t=b,a=b,v=b;if(E==null&&(E="end"),x==null&&(x=b),M=[b,""],Y=M[0],q=M[1],ce(E,"start"))if(u(F["$include?"](x)))if(D=F.$partition(x),M=we(D),l=M[0]==null?b:M[0],M[1]==null||M[1],q=M[2]==null?b:M[2],u(Y=H("CellSpecStartRx").$match(l))){if(u(Y["$[]"](0)["$empty?"]()))return[R([],{}),q]}else return[b,F];else return[b,F];else if(u(Y=H("CellSpecEndRx").$match(F))){if(u(Y["$[]"](0).$lstrip()["$empty?"]()))return[R([],{}),F.$rstrip()];q=Y.$pre_match()}else return[R([],{}),F];if(t=R([],{}),u(Y["$[]"](1)))switch(D=Y["$[]"](1).$split("."),M=we(D),a=M[0]==null?b:M[0],v=M[1]==null?b:M[1],a=u(a["$nil_or_empty?"]())?1:a.$to_i(),v=u(v["$nil_or_empty?"]())?1:v.$to_i(),Y["$[]"](2)){case"+":ce(a,1)||t["$[]="]("colspan",a),ce(v,1)||t["$[]="]("rowspan",v);break;case"*":ce(a,1)||t["$[]="]("repeatcol",a);break}return u(Y["$[]"](3))&&(D=Y["$[]"](3).$split("."),M=we(D),a=M[0]==null?b:M[0],v=M[1]==null?b:M[1],m(a["$nil_or_empty?"]())&&u(H("TableCellHorzAlignments")["$key?"](a))&&t["$[]="]("halign",H("TableCellHorzAlignments")["$[]"](a)),m(v["$nil_or_empty?"]())&&u(H("TableCellVertAlignments")["$key?"](v))&&t["$[]="]("valign",H("TableCellVertAlignments")["$[]"](v))),u(Y["$[]"](4))&&u(H("TableCellStyles")["$key?"](Y["$[]"](4)))&&t["$[]="]("style",H("TableCellStyles")["$[]"](Y["$[]"](4))),[t,q]},-2),z(ue,"$parse_style_attribute",function(F,E){var x,M=this,D=b,Y=b,q=b,l=b,t=b,a=b;return E==null&&(E=b),u(D=F["$[]"](1))&&m(D["$include?"](" "))&&u(H("Compliance").$shorthand_property_syntax())?(Y=b,q="",l=R([],{}),G(D,"each_char",[],function v(_){var c=v.$$s==null?this:v.$$s;switch(_==null&&(_=b),_){case".":return c.$yield_buffered_attribute(l,Y,q,E),q="",Y="role";case"#":return c.$yield_buffered_attribute(l,Y,q,E),q="",Y="id";case"%":return c.$yield_buffered_attribute(l,Y,q,E),q="",Y="option";default:return q=Fe(q,_)}},{$$s:M}),u(Y)?(M.$yield_buffered_attribute(l,Y,q,E),u(t=l["$[]"]("style"))&&F["$[]="]("style",t),u(l["$key?"]("id"))&&F["$[]="]("id",l["$[]"]("id")),u(l["$key?"]("role"))&&F["$[]="]("role",u((a=F["$[]"]("role"))["$nil_or_empty?"]())?l["$[]"]("role").$join(" "):""+a+" "+l["$[]"]("role").$join(" ")),u(l["$key?"]("option"))&&G(l["$[]"]("option"),"each",[],function(_){var c;return _==null&&(_=b),c=[""+_+"-option",""],G(F,"[]=",c),c[c.length-1]}),t):(x=["style",D],G(F,"[]=",x),x[x.length-1])):(x=["style",D],G(F,"[]=",x),x[x.length-1])},-2),z(ue,"$yield_buffered_attribute",function(F,E,x,M){var D,Y=this,q=b;return u(E)?u(x["$empty?"]())?u(M)?Y.$logger().$warn(Y.$message_with_context("invalid empty "+E+" detected in style attribute",R(["source_location"],{source_location:M.$cursor_at_prev_line()}))):Y.$logger().$warn("invalid empty "+E+" detected in style attribute"):ce(E,"id")?(u(F["$key?"]("id"))&&(u(M)?Y.$logger().$warn(Y.$message_with_context("multiple ids detected in style attribute",R(["source_location"],{source_location:M.$cursor_at_prev_line()}))):Y.$logger().$warn("multiple ids detected in style attribute")),F["$[]="](E,x)):(u(q=F["$[]"](E))?q:(D=[E,[]],G(F,"[]=",D),D[D.length-1]))["$<<"](x):u(x["$empty?"]())||F["$[]="]("style",x),b}),z(ue,"$adjust_indentation!",function(F,E,x){var M=b,D=b,Y=b;return E==null&&(E=0),x==null&&(x=0),u(F["$empty?"]())||(u(ve(x,0))&&u(G(F,"any?",[],function(l){return l==null&&(l=b),l["$include?"](H("TAB"))}))&&(M=Ce(" ",x),G(F,"map!",[],function(l){var t=b,a=b,v=b,_=b,c=b;return l==null&&(l=b),u(l["$empty?"]())||u((t=l.$index(H("TAB")))["$nil?"]())||ce(t,0)&&(a=0,function(){try{var A=Ye("break");return G(l,"each_byte",[],function(K){return K==null&&(K=b),ce(K,9)||A.$throw(),a=Fe(a,1)})}catch(S){if(S===A)return S.$v;throw S}}(),l=""+Ce(M,a)+l.$slice(a,l.$length()),!u(l["$include?"](H("TAB"))))?l:(v=0,_=0,c="",G(l,"each_char",[],function(S){var K=b,j=b;return S==null&&(S=b),ce(S,H("TAB"))?ce((K=Fe(_,v))["$%"](x),0)?(v=Fe(v,Oe(x,1)),c=Fe(c,M)):(ce(j=Oe(x,K["$%"](x)),1)||(v=Fe(v,Oe(j,1))),c=Fe(c,Ce(" ",j))):c=Fe(c,S),_=Fe(_,1)}),c)})),u(fe(E,0)))||(D=b,function(){try{var q=Ye("break");return G(F,"each",[],function(t){var a=b;return t==null&&(t=b),u(t["$empty?"]())||(ce(a=Oe(t.$length(),t.$lstrip().$length()),0)&&(D=b,q.$throw()),u(D)&&u(fe(D,a)))?b:D=a})}catch(l){if(l===q)return l.$v;throw l}}(),ce(E,0)?u(D)&&G(F,"map!",[],function(l){return l==null&&(l=b),u(l["$empty?"]())?l:l.$slice(D,l.$length())}):(Y=Ce(" ",E),u(D)?G(F,"map!",[],function(l){return l==null&&(l=b),u(l["$empty?"]())?l:Fe(Y,l.$slice(D,l.$length()))}):G(F,"map!",[],function(l){return l==null&&(l=b),u(l["$empty?"]())?l:Fe(Y,l)}))),b},-2),z(ue,"$uniform?",function(F,E,x){return F.$count(E)["$=="](x)}),z(ue,"$sanitize_attribute_name",function(F){return F.$gsub(H("InvalidAttributeNameCharsRx"),"").$downcase()})}(T[0],null,T)}(it[0],it)},Opal.modules["asciidoctor/path_resolver"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.truthy,u=e.hash2,R=e.def,we=e.eqeq,z=e.alias,ce=e.rb_plus,m=e.to_ary,Ke=e.send,se=e.not,Fe=e.neqeq,fe=e.rb_gt,ve=e.gvars,st=[],Se=e.nil,Oe=e.$$$;return e.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(Ce,Ye){var it=U(Ce,"Asciidoctor"),b=[it].concat(Ye);return function(We,h,Ve){var rt=B(We,h,"PathResolver"),T=[rt].concat(Ve),k=e.$r(T),ke=rt.$$prototype;return ke.file_separator=ke._partition_path_web=ke._partition_path_sys=ke.working_dir=Se,rt.$include(k("Logging")),C(T[0],"DOT","."),C(T[0],"DOT_DOT",".."),C(T[0],"DOT_SLASH","./"),C(T[0],"SLASH","/"),C(T[0],"BACKSLASH","\\"),C(T[0],"DOUBLE_SLASH","//"),C(T[0],"URI_CLASSLOADER","uri:classloader:"),C(T[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),rt.$attr_accessor("file_separator"),rt.$attr_accessor("working_dir"),R(rt,"$initialize",function(ue,ie){var H=this,X=Se,F=Se;return ue==null&&(ue=Se),ie==null&&(ie=Se),H.file_separator=G(X=G(F=ue)?F:Oe(Oe("File"),"ALT_SEPARATOR"))?X:Oe(Oe("File"),"SEPARATOR"),H.working_dir=G(ie)?G(H["$root?"](ie))?H.$posixify(ie):Oe("File").$expand_path(ie):Oe("Dir").$pwd(),H._partition_path_sys=u([],{}),H._partition_path_web=u([],{})},-1),R(rt,"$absolute_path?",function(ue){var ie=this,H=Se,X=Se;return G(H=ue["$start_with?"](k("SLASH")))?H:G(X=ie.file_separator["$=="](k("BACKSLASH")))?k("WindowsRootRx")["$match?"](ue):X}),we(k("RUBY_ENGINE"),"opal")&&we(Oe("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?R(rt,"$root?",function(ue){var ie=this,H=Se;return G(H=ie["$absolute_path?"](ue))?H:ue["$start_with?"]("file://","http://","https://")}):we(Oe("RUBY_ENGINE"),"jruby")?R(rt,"$root?",function(ue){var ie=this,H=Se;return G(H=ie["$absolute_path?"](ue))?H:ue["$start_with?"](k("URI_CLASSLOADER"))}):z(rt,"root?","absolute_path?"),R(rt,"$unc?",function(ue){return ue["$start_with?"](k("DOUBLE_SLASH"))}),R(rt,"$web_root?",function(ue){return ue["$start_with?"](k("SLASH"))}),R(rt,"$descends_from?",function(ue,ie){var H=Se;return we(ie,ue)?0:we(ie,k("SLASH"))?G(H=ue["$start_with?"](k("SLASH")))?1:H:G(H=ue["$start_with?"](ce(ie,k("SLASH"))))?ce(ie.$length(),1):H}),R(rt,"$relative_path",function(ue,ie){var H=this,X=Se;if(G(H["$root?"](ue))){if(G(X=H["$descends_from?"](ue,ie)))return ue.$slice(X,ue.$length());try{return k("Pathname").$new(ue).$relative_path_from(k("Pathname").$new(ie)).$to_s()}catch(F){if(e.rescue(F,[k("StandardError")]))try{return ue}finally{e.pop_exception()}else throw F}}else return ue}),R(rt,"$posixify",function(ue){var ie=this;return G(ue)?we(ie.file_separator,k("BACKSLASH"))&&G(ue["$include?"](k("BACKSLASH")))?ue.$tr(k("BACKSLASH"),k("SLASH")):ue:""}),z(rt,"posixfy","posixify"),R(rt,"$expand_path",function(ue){var ie,H,X=this,F=Se,E=Se,x=Se;return H=X.$partition_path(ue),ie=m(H),F=ie[0]==null?Se:ie[0],E=ie[1]==null?Se:ie[1],G(ue["$include?"](k("DOT_DOT")))?(x=[],Ke(F,"each",[],function(D){return D==null&&(D=Se),we(D,k("DOT_DOT"))?x.$pop():x["$<<"](D)}),X.$join_path(x,E)):X.$join_path(F,E)}),R(rt,"$partition_path",function(ue,ie){var H,X=this,F=Se,E=Se,x=Se,M=Se,D=Se;return ie==null&&(ie=Se),G(F=(E=G(ie)?X._partition_path_web:X._partition_path_sys)["$[]"](ue))?F:(x=X.$posixify(ue),G(ie)?G(X["$web_root?"](x))?M=k("SLASH"):G(x["$start_with?"](k("DOT_SLASH")))&&(M=k("DOT_SLASH")):G(X["$root?"](x))?G(X["$unc?"](x))?M=k("DOUBLE_SLASH"):G(x["$start_with?"](k("SLASH")))?M=k("SLASH"):G(x["$start_with?"](k("URI_CLASSLOADER")))?M=x.$slice(0,k("URI_CLASSLOADER").$length()):M=x.$slice(0,ce(x.$index(k("SLASH")),1)):G(x["$start_with?"](k("DOT_SLASH")))&&(M=k("DOT_SLASH")),D=(G(M)?x.$slice(M.$length(),x.$length()):x).$split(k("SLASH")),D.$delete(k("DOT")),H=[ue,[D,M]],Ke(E,"[]=",H),H[H.length-1])},-2),R(rt,"$join_path",function(ue,ie){return ie==null&&(ie=Se),G(ie)?""+ie+ue.$join(k("SLASH")):ue.$join(k("SLASH"))},-2),R(rt,"$system_path",function(ue,ie,H,X){var F,E,x=this,M=Se,D=Se,Y=Se,q=Se,l=Se,t=Se,a=Se,v=Se,_=Se,c=Se,A=Se;if(ie==null&&(ie=Se),H==null&&(H=Se),X==null&&(X=u([],{})),G(H)&&(G(x["$root?"](H))||x.$raise(Oe("SecurityError"),"Jail is not an absolute path: "+H),H=x.$posixify(H)),G(ue))if(G(x["$root?"](ue))){if(M=x.$expand_path(ue),G(H)&&se(x["$descends_from?"](M,H))){if(G(X.$fetch("recover",!0)))return x.$logger().$warn(""+(G(D=X["$[]"]("target_name"))?D:"path")+" is outside of jail; recovering automatically"),E=x.$partition_path(M),F=m(E),Y=F[0]==null?Se:F[0],E=x.$partition_path(H),F=m(E),q=F[0]==null?Se:F[0],l=F[1]==null?Se:F[1],x.$join_path(ce(q,Y),l);x.$raise(Oe("SecurityError"),""+(G(D=X["$[]"]("target_name"))?D:"path")+" "+ue+" is outside of jail: "+H+" (disallowed in safe mode)")}return M}else E=x.$partition_path(ue),F=m(E),Y=F[0]==null?Se:F[0];else Y=[];if(G(Y["$empty?"]())){if(G(ie["$nil_or_empty?"]()))return G(D=H)?D:x.working_dir;if(G(x["$root?"](ie)))if(G(H))ie=x.$posixify(ie);else return x.$expand_path(ie);else E=x.$partition_path(ie),F=m(E),Y=F[0]==null?Se:F[0],ie=G(D=H)?D:x.working_dir}else G(ie["$nil_or_empty?"]())?ie=G(D=H)?D:x.working_dir:G(x["$root?"](ie))?G(H)&&(ie=x.$posixify(ie)):ie=""+(G(D=H)?D:x.working_dir).$chomp("/")+"/"+ie;return G(H)&&G(t=x["$descends_from?"](ie,H)["$!"]())&&we(x.file_separator,k("BACKSLASH"))?(E=x.$partition_path(ie),F=m(E),a=F[0]==null?Se:F[0],v=F[1]==null?Se:F[1],E=x.$partition_path(H),F=m(E),q=F[0]==null?Se:F[0],l=F[1]==null?Se:F[1],Fe(v,l)&&(G(X.$fetch("recover",!0))?(x.$logger().$warn("start path for "+(G(D=X["$[]"]("target_name"))?D:"path")+" is outside of jail root; recovering automatically"),a=q,t=!1):x.$raise(Oe("SecurityError"),"start path for "+(G(D=X["$[]"]("target_name"))?D:"path")+" "+ie+" refers to location outside jail root: "+H+" (disallowed in safe mode)"))):(E=x.$partition_path(ie),F=m(E),a=F[0]==null?Se:F[0],l=F[1]==null?Se:F[1]),G((_=ce(a,Y))["$include?"](k("DOT_DOT")))&&(F=[_,[]],c=F[0],_=F[1],G(H)?(G(q)||(E=x.$partition_path(H),F=m(E),q=F[0]==null?Se:F[0]),A=!1,Ke(c,"each",[],function S(K){var j=S.$$s==null?this:S.$$s;return K==null&&(K=Se),we(K,k("DOT_DOT"))?G(fe(_.$size(),q.$size()))?_.$pop():G(X.$fetch("recover",!0))?G(A)?Se:(j.$logger().$warn(""+(G(D=X["$[]"]("target_name"))?D:"path")+" has illegal reference to ancestor of jail; recovering automatically"),A=!0):j.$raise(Oe("SecurityError"),""+(G(D=X["$[]"]("target_name"))?D:"path")+" "+ue+" refers to location outside jail: "+H+" (disallowed in safe mode)"):_["$<<"](K)},{$$s:x})):Ke(c,"each",[],function(K){return K==null&&(K=Se),we(K,k("DOT_DOT"))?_.$pop():_["$<<"](K)})),G(t)?(M=x.$join_path(_,l),G(x["$descends_from?"](M,H))?M:G(X.$fetch("recover",!0))?(x.$logger().$warn(""+(G(D=X["$[]"]("target_name"))?D:"path")+" is outside of jail; recovering automatically"),G(q)||(E=x.$partition_path(H),F=m(E),q=F[0]==null?Se:F[0]),x.$join_path(ce(q,Y),l)):x.$raise(Oe("SecurityError"),""+(G(D=X["$[]"]("target_name"))?D:"path")+" "+ue+" is outside of jail: "+H+" (disallowed in safe mode)")):x.$join_path(_,l)},-2),R(rt,"$web_path",function(ue,ie){var H,X,F=this,E=Se,x=Se,M=Se,D=Se,Y=Se;return ie==null&&(ie=Se),ue=F.$posixify(ue),ie=F.$posixify(ie),G(ie["$nil_or_empty?"]())||G(F["$web_root?"](ue))||(X=F.$extract_uri_prefix(""+ie+(G(ie["$end_with?"](k("SLASH")))?"":k("SLASH"))+ue),H=m(X),ue=H[0]==null?Se:H[0],E=H[1]==null?Se:H[1]),X=F.$partition_path(ue,!0),H=m(X),x=H[0]==null?Se:H[0],M=H[1]==null?Se:H[1],D=[],Ke(x,"each",[],function(l){return l==null&&(l=Se),we(l,k("DOT_DOT"))?G(D["$empty?"]())?G(M)&&Fe(M,k("DOT_SLASH"))?Se:D["$<<"](l):we(D["$[]"](-1),k("DOT_DOT"))?D["$<<"](l):D.$pop():D["$<<"](l)}),G((Y=F.$join_path(D,M))["$include?"](" "))&&(Y=Y.$gsub(" ","%20")),G(E)?""+E+Y:Y},-2),rt.$private(),R(rt,"$extract_uri_prefix",function(ue){var ie;return G(ue["$include?"](":"))&&G(k("UriSniffRx")["$=~"](ue))?[ue.$slice(((ie=ve["~"])===Se?Se:ie["$[]"](0)).$length(),ue.$length()),(ie=ve["~"])===Se?Se:ie["$[]"](0)]:ue})}(b[0],null,b)}(st[0],st)},Opal.modules["asciidoctor/reader"]=function(e){var U=e.module,B=e.klass,C=e.def,G=e.rb_plus,u=e.alias,R=e.hash2,we=e.not,z=e.eqeqeq,ce=e.to_ary,m=e.truthy,Ke=e.rb_gt,se=e.send,Fe=e.rb_minus,fe=e.thrower,ve=e.eqeq,st=e.rb_times,Se=e.neqeq,Oe=e.to_a,Ce=e.assign_ivar_val,Ye=e.send2,it=e.find_super,b=e.rb_ge,We=e.gvars,h=e.rb_lt,Ve=e.hash,rt=[],T=e.nil,k=e.$$$;return e.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(ke,O){var ue=U(ke,"Asciidoctor"),ie=[ue].concat(O),H=e.$r(ie);return function(X,F,E){var x=B(X,F,"Reader"),M=[x].concat(E),D=e.$r(M),Y=x.$$prototype;return Y.file=Y.lines=Y.look_ahead=Y.unescape_next_line=Y.lineno=Y.process_lines=Y.dir=Y.path=Y.mark=Y.source_lines=Y.saved=T,x.$include(D("Logging")),function(q,l){var t=B(q,l,"Cursor"),a=t.$$prototype;return a.lineno=a.path=T,t.$attr_reader("file","dir","path","lineno"),C(t,"$initialize",function(_,c,A,S){var K,j=this;return c==null&&(c=T),A==null&&(A=T),S==null&&(S=1),K=[_,c,A,S],j.file=K[0],j.dir=K[1],j.path=K[2],j.lineno=K[3],K},-2),C(t,"$advance",function(_){var c=this;return c.lineno=G(c.lineno,_)}),C(t,"$line_info",function(){var _=this;return""+_.path+": line "+_.lineno}),u(t,"to_s","line_info")}(M[0],null),x.$attr_reader("file"),x.$attr_reader("dir"),x.$attr_reader("path"),x.$attr_reader("lineno"),x.$attr_reader("source_lines"),x.$attr_accessor("process_lines"),x.$attr_accessor("unterminated"),C(x,"$initialize",function(l,t,a){var v,_,c=this,A=T;return l==null&&(l=T),t==null&&(t=T),a==null&&(a=R([],{})),we(t)?(c.file=T,c.dir=".",c.path="<stdin>",c.lineno=1):z(k("String"),t)?(c.file=t,_=k("File").$split(c.file),v=ce(_),c.dir=v[0]==null?T:v[0],c.path=v[1]==null?T:v[1],c.lineno=1):(m(c.file=t.$file())?(c.dir=m(A=t.$dir())?A:k("File").$dirname(c.file),c.path=m(A=t.$path())?A:k("File").$basename(c.file)):(c.dir=m(A=t.$dir())?A:".",c.path=m(A=t.$path())?A:"<stdin>"),c.lineno=m(A=t.$lineno())?A:1),c.lines=(c.source_lines=c.$prepare_lines(l,a)).$reverse(),c.mark=T,c.look_ahead=0,c.process_lines=!0,c.unescape_next_line=!1,c.unterminated=T,c.saved=T},-1),C(x,"$has_more_lines?",function(){var l=this;return m(l.lines["$empty?"]())?(l.look_ahead=0,!1):!0}),C(x,"$empty?",function(){var l=this;return m(l.lines["$empty?"]())?(l.look_ahead=0,!0):!1}),u(x,"eof?","empty?"),C(x,"$next_line_empty?",function(){var l=this;return l.$peek_line()["$nil_or_empty?"]()}),C(x,"$peek_line",function(l){var t=this,a=T,v=T;for(l==null&&(l=!1);m(!0);){if(a=t.lines["$[]"](-1),m(l)||m(Ke(t.look_ahead,0)))return m(t.unescape_next_line)?a.$slice(1,a.$length()):a;if(m(a)){if(m(v=t.$process_line(a)))return v}else return t.look_ahead=0,T}},-1),C(x,"$peek_lines",function(l,t){var a=this,v=T,_=T,c=T;return l==null&&(l=T),t==null&&(t=!1),v=a.look_ahead,_=[],function(){try{var A=fe("break");return se(m(c=l)?c:D("MAX_INT"),"times",[],function S(){var K=S.$$s==null?this:S.$$s,j=T;if(K.lineno==null&&(K.lineno=T),m(j=m(t)?K.$shift():K.$read_line()))return _["$<<"](j);m(t)&&(K.lineno=Fe(K.lineno,1)),A.$throw()},{$$s:a})}catch(S){if(S===A)return S.$v;throw S}}(),m(_["$empty?"]())||(a.$unshift_all(_),m(t)&&(a.look_ahead=v)),_},-1),C(x,"$read_line",function(){var l=this;return m(Ke(l.look_ahead,0))||m(l["$has_more_lines?"]())?l.$shift():T}),C(x,"$read_lines",function(){var l=this,t=T;for(t=[];m(l["$has_more_lines?"]());)t["$<<"](l.$shift());return t}),u(x,"readlines","read_lines"),C(x,"$read",function(){var l=this;return l.$read_lines().$join(D("LF"))}),C(x,"$advance",function(){var l=this;return!!m(l.$shift())}),C(x,"$unshift_line",function(l){var t=this;return t.$unshift(l),T}),u(x,"restore_line","unshift_line"),C(x,"$unshift_lines",function(l){var t=this;return t.$unshift_all(l)}),u(x,"restore_lines","unshift_lines"),C(x,"$replace_next_line",function(l){var t=this;return t.$shift(),t.$unshift(l),!0}),u(x,"replace_line","replace_next_line"),C(x,"$skip_blank_lines",function(){var l=this,t=T,a=T;if(m(l["$empty?"]()))return T;for(t=0;m(a=l.$peek_line());)if(m(a["$empty?"]()))l.$shift(),t=G(t,1);else return t}),C(x,"$skip_comment_lines",function(){var l=this,t=T,a=T,v=T;if(m(l["$empty?"]()))return T;for(;m(m(t=a=l.$peek_line())?a["$empty?"]()["$!"]():t)&&m(a["$start_with?"]("//"));)if(m(a["$start_with?"]("///")))if(m(Ke(v=a.$length(),3))&&ve(a,st("/",v)))l.$read_lines_until(R(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:a,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else l.$shift();return T}),C(x,"$skip_line_comments",function(){var l=this,t=T,a=T,v=T;if(m(l["$empty?"]()))return[];for(t=[];m(m(a=v=l.$peek_line())?v["$empty?"]()["$!"]():a)&&m(v["$start_with?"]("//"));)t["$<<"](l.$shift());return t}),C(x,"$terminate",function(){var l=this;return l.lineno=G(l.lineno,l.lines.$size()),l.lines.$clear(),l.look_ahead=0,T}),C(x,"$read_lines_until",function q(l){var t,a=q.$$p||T,v=this,_=T,c=T,A=T,S=T,K=T,j=T,ee=T,he=T,Me=T,Ze=T,$t=T,et=T,at=T,ct=T,ft=T,ut=T;for(q.$$p=null,l==null&&(l=R([],{})),_=[],m(v.process_lines)&&m(l["$[]"]("skip_processing"))&&(v.process_lines=!1,c=!0),m(A=l["$[]"]("terminator"))?(S=m(K=l["$[]"]("cursor"))?K:v.$cursor(),j=!1,ee=!1):(j=l["$[]"]("break_on_blank_lines"),ee=l["$[]"]("break_on_list_continuation")),he=l["$[]"]("skip_line_comments"),Me=Ze=T,m(l["$[]"]("skip_first_line"))&&v.$shift();m($t=v.$read_line());){if(m(m(A)?$t["$=="](A):m(K=m(et=m(at=j)?$t["$empty?"]():at)?et:m(at=m(ct=m(ft=ee)?Me:ft)?$t["$=="](D("LIST_CONTINUATION")):ct)?(t=["preserve_last_line",!0],se(l,"[]=",t),t[t.length-1]):at)?K:m(et=a!==T)?e.yield1(a,$t):et)){m(l["$[]"]("read_last_line"))&&_["$<<"]($t),m(l["$[]"]("preserve_last_line"))&&(v.$unshift($t),Ze=!0);break}m(he)&&m($t["$start_with?"]("//"))&&we($t["$start_with?"]("///"))||(_["$<<"]($t),Me=!0)}return m(c)&&(v.process_lines=!0,m(Ze)&&we(A)&&(v.look_ahead=Fe(v.look_ahead,1))),m(A)&&Se(A,$t)&&m(ut=l.$fetch("context",A))&&(ve(S,"at_mark")&&(S=v.$cursor_at_mark()),v.$logger().$warn(v.$message_with_context("unterminated "+ut+" block",R(["source_location"],{source_location:S}))),v.unterminated=!0),_},-1),C(x,"$shift",function(){var l=this;return l.lineno=G(l.lineno,1),ve(l.look_ahead,0)||(l.look_ahead=Fe(l.look_ahead,1)),l.lines.$pop()}),C(x,"$unshift",function(l){var t=this;return t.lineno=Fe(t.lineno,1),t.look_ahead=G(t.look_ahead,1),t.lines.$push(l),T}),ve(k("RUBY_ENGINE"),"jruby")?C(x,"$unshift_all",function(l){var t=this;return t.lineno=Fe(t.lineno,l.$size()),t.look_ahead=G(t.look_ahead,l.$size()),m(l["$respond_to?"]("reverse"))?se(t.lines,"push",Oe(l.$reverse())):se(l,"reverse_each",[],function a(v){var _=a.$$s==null?this:a.$$s;return _.lines==null&&(_.lines=T),v==null&&(v=T),_.lines.$push(v)},{$$s:t}),T}):C(x,"$unshift_all",function(l){var t=this;return t.lineno=Fe(t.lineno,l.$size()),t.look_ahead=G(t.look_ahead,l.$size()),se(t.lines,"push",Oe(l.$reverse())),T}),C(x,"$cursor",function(){var l=this;return D("Cursor").$new(l.file,l.dir,l.path,l.lineno)}),C(x,"$cursor_at_line",function(l){var t=this;return D("Cursor").$new(t.file,t.dir,t.path,l)}),C(x,"$cursor_at_mark",function(){var l=this;return m(l.mark)?se(D("Cursor"),"new",Oe(l.mark)):l.$cursor()}),C(x,"$cursor_before_mark",function(){var l,t,a=this,v=T,_=T,c=T,A=T;return m(a.mark)?(t=a.mark,l=ce(t),v=l[0]==null?T:l[0],_=l[1]==null?T:l[1],c=l[2]==null?T:l[2],A=l[3]==null?T:l[3],D("Cursor").$new(v,_,c,Fe(A,1))):D("Cursor").$new(a.file,a.dir,a.path,Fe(a.lineno,1))}),C(x,"$cursor_at_prev_line",function(){var l=this;return D("Cursor").$new(l.file,l.dir,l.path,Fe(l.lineno,1))}),C(x,"$mark",function(){var l=this;return l.mark=[l.file,l.dir,l.path,l.lineno]}),C(x,"$line_info",function(){var l=this;return""+l.path+": line "+l.lineno}),C(x,"$lines",function(){var l=this;return l.lines.$reverse()}),C(x,"$string",function(){var l=this;return l.lines.$reverse().$join(D("LF"))}),C(x,"$source",function(){var l=this;return l.source_lines.$join(D("LF"))}),C(x,"$save",function(){var l=this;return l.saved=se(R([],{}),"tap",[],function t(a){var v=t.$$s==null?this:t.$$s;return a==null&&(a=T),se(v.$instance_variables(),"each",[],function _(c){var A,S=_.$$s==null?this:_.$$s,K=T;return c==null&&(c=T),ve(c,"@saved")||ve(c,"@source_lines")?T:(A=[c,z(k("Array"),K=S.$instance_variable_get(c))?K.$drop(0):K],se(a,"[]=",A),A[A.length-1])},{$$s:v})},{$$s:l}),T}),C(x,"$restore_save",function(){var l=this;return m(l.saved)?(se(l.saved,"each",[],function t(a,v){var _=t.$$s==null?this:t.$$s;return a==null&&(a=T),v==null&&(v=T),_.$instance_variable_set(a,v)},{$$s:l}),l.saved=T):T}),C(x,"$discard_save",Ce("saved",T)),C(x,"$to_s",function(){var l=this;return"#<"+l.$class()+"@"+l.$object_id()+" {path: "+l.path.$inspect()+", line: "+l.lineno+"}>"}),x.$private(),C(x,"$prepare_lines",function(l,t){var a=this,v=T;t==null&&(t=R([],{}));try{return m(v=t["$[]"]("normalize"))?z(k("Array"),l)?D("Helpers").$prepare_source_array(l,v["$!="]("chomp")):D("Helpers").$prepare_source_string(l,v["$!="]("chomp")):z(k("Array"),l)?l.$drop(0):m(l)?l.$chomp().$split(D("LF"),-1):[]}catch(_){if(e.rescue(_,[D("StandardError")]))try{return m((z(k("Array"),l)?l.$join():l.$to_s())["$valid_encoding?"]())?a.$raise():a.$raise(k("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}else throw _}},-2),C(x,"$process_line",function(l){var t=this;return m(t.process_lines)&&(t.look_ahead=G(t.look_ahead,1)),l})}(ie[0],null,ie),function(X,F,E){var x=B(X,F,"PreprocessorReader"),M=[x].concat(E),D=e.$r(M),Y=x.$$prototype;return Y.include_stack=Y.lines=Y.file=Y.dir=Y.path=Y.lineno=Y.maxdepth=Y.process_lines=Y.includes=Y.document=Y.unescape_next_line=Y.include_processor_extensions=Y.look_ahead=Y.skipping=Y.conditional_stack=T,x.$attr_reader("include_stack"),C(x,"$initialize",function q(l,t,a,v){q.$$p;var _=this,c=T,A=T;return q.$$p=null,t==null&&(t=T),a==null&&(a=T),v==null&&(v=R([],{})),_.document=l,Ye(_,it(_,"initialize",q,!1,!0),"initialize",[t,a,v],null),m(Ke(c=(m(A=l.$attributes()["$[]"]("max-include-depth"))?A:64).$to_i(),0))?_.maxdepth=R(["abs","curr","rel"],{abs:c,curr:c,rel:c}):_.maxdepth=T,_.include_stack=[],_.includes=l.$catalog()["$[]"]("includes"),_.skipping=!1,_.conditional_stack=[],_.include_processor_extensions=T},-2),C(x,"$has_more_lines?",function(){var l=this;return!!m(l.$peek_line())}),C(x,"$empty?",function(){var l=this;return!m(l.$peek_line())}),u(x,"eof?","empty?"),C(x,"$peek_line",function q(l){var t=q.$$p||T,a=this,v=T;return q.$$p=null,l==null&&(l=!1),m(v=Ye(a,it(a,"peek_line",q,!1,!0),"peek_line",[l],t))?v:m(a.include_stack["$empty?"]())?T:(a.$pop_include(),a.$peek_line(l))},-1),C(x,"$push_include",function(l,t,a,v,_){var c=this,A=T,S=T,K=T,j=T,ee=T,he=T;return t==null&&(t=T),a==null&&(a=T),v==null&&(v=1),_==null&&(_=R([],{})),c.include_stack["$<<"]([c.lines,c.file,c.dir,c.path,c.lineno,c.maxdepth,c.process_lines]),m(c.file=t)?(z(k("String"),t)?c.dir=k("File").$dirname(t):m(D("RUBY_ENGINE_OPAL"))?c.dir=k("URI").$parse(k("File").$dirname(t=t.$to_s())):((c.dir=t.$dup())["$path="](ve(A=k("File").$dirname(t.$path()),"/")?"":A),t=t.$to_s()),c.path=a=m(S=a)?S:k("File").$basename(t),m(c.process_lines=se(t,"end_with?",Oe(D("ASCIIDOC_EXTENSIONS").$keys())))&&(m(S=c.includes["$[]"](a.$slice(0,a.$rindex("."))))||c.includes["$[]="](a.$slice(0,a.$rindex(".")),m(_["$[]"]("partial-option"))?T:!0))):(c.dir=".",c.process_lines=!0,m(c.path=a)?m(S=c.includes["$[]"](D("Helpers").$rootname(a)))||c.includes["$[]="](D("Helpers").$rootname(a),m(_["$[]"]("partial-option"))?T:!0):c.path="<stdin>"),c.lineno=v,m(c.maxdepth)&&m(_["$key?"]("depth"))&&(m(Ke(K=_["$[]"]("depth").$to_i(),0))?(m(Ke(j=G(c.include_stack.$size(),K),ee=c.maxdepth["$[]"]("abs")))&&(j=K=ee),c.maxdepth=R(["abs","curr","rel"],{abs:ee,curr:j,rel:K})):c.maxdepth=R(["abs","curr","rel"],{abs:c.maxdepth["$[]"]("abs"),curr:c.include_stack.$size(),rel:0})),m((c.lines=c.$prepare_lines(l,R(["normalize","condense","indent"],{normalize:m(S=c.process_lines)?S:"chomp",condense:!1,indent:_["$[]"]("indent")})))["$empty?"]())?c.$pop_include():(m(_["$key?"]("leveloffset"))?(c.lines=G(G([m(he=c.document.$attr("leveloffset"))?":leveloffset: "+he:":leveloffset!:",""],c.lines.$reverse()),["",":leveloffset: "+_["$[]"]("leveloffset")]),c.lineno=Fe(c.lineno,2)):c.lines["$reverse!"](),c.look_ahead=0),c},-2),C(x,"$include_depth",function(){var l=this;return l.include_stack.$size()}),C(x,"$exceeds_max_depth?",function(){var l=this,t=T,a=T;return m(t=m(a=l.maxdepth)?b(l.include_stack.$size(),l.maxdepth["$[]"]("curr")):a)?l.maxdepth["$[]"]("rel"):t}),u(x,"exceeded_max_depth?","exceeds_max_depth?"),C(x,"$shift",function q(){var l=q.$$p||T,t=this,a=T;return q.$$p=null,m(t.unescape_next_line)?(t.unescape_next_line=!1,(a=Ye(t,it(t,"shift",q,!1,!0),"shift",[],l)).$slice(1,a.$length())):Ye(t,it(t,"shift",q,!1,!0),"shift",[],l)}),C(x,"$include_processors?",function(){var l=this;return m(l.include_processor_extensions["$nil?"]())?m(l.document["$extensions?"]())&&m(l.document.$extensions()["$include_processors?"]())?(l.include_processor_extensions=l.document.$extensions().$include_processors())["$!"]()["$!"]():l.include_processor_extensions=!1:l.include_processor_extensions["$!="](!1)}),C(x,"$create_include_cursor",function(l,t,a){var v=T;return z(k("String"),l)?v=k("File").$dirname(l):m(D("RUBY_ENGINE_OPAL"))?v=k("File").$dirname(l=l.$to_s()):(v=ve(v=k("File").$dirname(l.$path()),"")?"/":v,l=l.$to_s()),D("Cursor").$new(l,v,t,a)}),C(x,"$to_s",function(){var l=this;return"#<"+l.$class()+"@"+l.$object_id()+" {path: "+l.path.$inspect()+", line: "+l.lineno+", include depth: "+l.include_stack.$size()+", include stack: ["+se(l.include_stack,"map",[],function(a){return a==null&&(a=T),a.$to_s()}).$join(", ")+"]}>"}),x.$private(),C(x,"$prepare_lines",function q(l,t){var a=q.$$p||T,v=this,_=T,c=T,A=T,S=T;if(q.$$p=null,t==null&&(t=R([],{})),_=Ye(v,it(v,"prepare_lines",q,!1,!0),"prepare_lines",[l,t],a),m(v.document)&&m(v.document.$attributes()["$[]"]("skip-front-matter"))&&m(c=v["$skip_front_matter!"](_))&&v.document.$attributes()["$[]="]("front-matter",c.$join(D("LF"))),m(t.$fetch("condense",!0)))for(;m(m(A=S=_["$[]"](-1))?S["$empty?"]():A);)_.$pop();return m(t["$[]"]("indent"))&&D("Parser")["$adjust_indentation!"](_,t["$[]"]("indent").$to_i(),v.document.$attr("tabsize").$to_i()),_},-2),C(x,"$process_line",function(l){var t,a=this;return m(a.process_lines)?m(l["$empty?"]())?(a.look_ahead=G(a.look_ahead,1),l):m(l["$end_with?"]("]"))&&we(l["$start_with?"]("["))&&m(l["$include?"]("::"))?m(l["$include?"]("if"))&&m(D("ConditionalDirectiveRx")["$=~"](l))?ve((t=We["~"])===T?T:t["$[]"](1),"\\")?(a.unescape_next_line=!0,a.look_ahead=G(a.look_ahead,1),l.$slice(1,l.$length())):m(a.$preprocess_conditional_directive((t=We["~"])===T?T:t["$[]"](2),(t=We["~"])===T?T:t["$[]"](3),(t=We["~"])===T?T:t["$[]"](4),(t=We["~"])===T?T:t["$[]"](5)))?(a.$shift(),T):(a.look_ahead=G(a.look_ahead,1),l):m(a.skipping)?(a.$shift(),T):m(l["$start_with?"]("inc","\\inc"))&&m(D("IncludeDirectiveRx")["$=~"](l))?ve((t=We["~"])===T?T:t["$[]"](1),"\\")?(a.unescape_next_line=!0,a.look_ahead=G(a.look_ahead,1),l.$slice(1,l.$length())):m(a.$preprocess_include_directive((t=We["~"])===T?T:t["$[]"](2),(t=We["~"])===T?T:t["$[]"](3)))?T:(a.look_ahead=G(a.look_ahead,1),l):(a.look_ahead=G(a.look_ahead,1),l):m(a.skipping)?(a.$shift(),T):(a.look_ahead=G(a.look_ahead,1),l):l}),C(x,"$preprocess_conditional_directive",function(l,t,a,v){var _,c=this,A=T,S=T,K=T,j=T,ee=T,he=T;if(m(A=t["$empty?"]())||(t=t.$downcase()),ve(l,"endif"))return m(v)?c.$logger().$error(c.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+t+"["+v+"]",R(["source_location"],{source_location:c.$cursor()}))):m(c.conditional_stack["$empty?"]())?c.$logger().$error(c.$message_with_context("unmatched preprocessor directive: endif::"+t+"[]",R(["source_location"],{source_location:c.$cursor()}))):m(A)||ve(t,(S=c.conditional_stack["$[]"](-1))["$[]"]("target"))?(c.conditional_stack.$pop(),c.skipping=m(c.conditional_stack["$empty?"]())?!1:c.conditional_stack["$[]"](-1)["$[]"]("skipping")):c.$logger().$error(c.$message_with_context("mismatched preprocessor directive: endif::"+t+"[], expected endif::"+S["$[]"]("target")+"[]",R(["source_location"],{source_location:c.$cursor()}))),!0;if(m(c.skipping))K=!1;else switch(l){case"ifdef":if(m(A))return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;switch(a){case",":K=se(t.$split(",",-1),"none?",[],function Me(Ze){var $t=Me.$$s==null?this:Me.$$s;return $t.document==null&&($t.document=T),Ze==null&&(Ze=T),$t.document.$attributes()["$key?"](Ze)},{$$s:c});break;case"+":K=se(t.$split("+",-1),"any?",[],function Me(Ze){var $t=Me.$$s==null?this:Me.$$s;return $t.document==null&&($t.document=T),Ze==null&&(Ze=T),$t.document.$attributes()["$key?"](Ze)["$!"]()},{$$s:c});break;default:K=c.document.$attributes()["$key?"](t)["$!"]()}break;case"ifndef":if(m(A))return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;switch(a){case",":K=se(t.$split(",",-1),"any?",[],function Me(Ze){var $t=Me.$$s==null?this:Me.$$s;return $t.document==null&&($t.document=T),Ze==null&&(Ze=T),$t.document.$attributes()["$key?"](Ze)},{$$s:c});break;case"+":K=se(t.$split("+",-1),"all?",[],function Me(Ze){var $t=Me.$$s==null?this:Me.$$s;return $t.document==null&&($t.document=T),Ze==null&&(Ze=T),$t.document.$attributes()["$key?"](Ze)},{$$s:c});break;default:K=c.document.$attributes()["$key?"](t)}break;case"ifeval":if(m(A))if(m(v)&&m(D("EvalExpressionRx")["$=~"](v.$strip())))j=(_=We["~"])===T?T:_["$[]"](1),ee=(_=We["~"])===T?T:_["$[]"](2),he=(_=We["~"])===T?T:_["$[]"](3),K=function(){try{return!m(c.$resolve_expr_val(j).$send(ee,c.$resolve_expr_val(he)))}catch(Me){if(e.rescue(Me,[D("StandardError")]))try{return!0}finally{e.pop_exception()}else throw Me}}();else return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - "+(m(v)?"invalid expression":"missing expression")+": ifeval::["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;else return c.$logger().$error(c.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+t+"["+v+"]",R(["source_location"],{source_location:c.$cursor()}))),!0;break}return ve(l,"ifeval")||we(v)?(m(K)&&(c.skipping=!0),c.conditional_stack["$<<"](R(["target","skip","skipping"],{target:t,skip:K,skipping:c.skipping}))):m(c.skipping)||m(K)||(c.$replace_next_line(v.$rstrip()),c.$unshift(""),m(v["$start_with?"]("include::"))&&(c.look_ahead=Fe(c.look_ahead,1))),!0}),C(x,"$preprocess_include_directive",function(l,t){var a,v,_=this,c=T,A=T,S=T,K=T,j=T,ee=T,he=T,Me=T,Ze=T,$t=T,et=T,at=T,ct=T,ft=T,ut=T,ht=T,dt=T,At=T,yt=T,It=T,St=T,wt=T,Et=T,qt=T,zt=T,Gt=T,Ut=T;if(c=_.document,m((A=l)["$include?"](D("ATTR_REF_HEAD")))&&m((A=c.$sub_attributes(l,R(["attribute_missing"],{attribute_missing:ve(S=m(K=c.$attributes()["$[]"]("attribute-missing"))?K:D("Compliance").$attribute_missing(),"warn")?"drop-line":S})))["$empty?"]()))return ve(S,"drop-line")&&m(c.$sub_attributes(G(l," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(se(_.$logger(),"info",[],function Rt(){var xt=Rt.$$s==null?this:Rt.$$s;return xt.$message_with_context("include dropped due to missing attribute: include::"+l+"["+t+"]",R(["source_location"],{source_location:xt.$cursor()}))},{$$s:_}),_.$shift(),!0):m(c.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(se(_.$logger(),"info",[],function Rt(){var xt=Rt.$$s==null?this:Rt.$$s;return xt.$message_with_context("optional include dropped "+(ve(S,"warn")&&m(c.$sub_attributes(G(l," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+l+"["+t+"]",R(["source_location"],{source_location:xt.$cursor()}))},{$$s:_}),_.$shift(),!0):(_.$logger().$warn(_.$message_with_context("include dropped "+(ve(S,"warn")&&m(c.$sub_attributes(G(l," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+l+"["+t+"]",R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+l+"["+t+"]"));if(m(_["$include_processors?"]())&&m(j=se(_.include_processor_extensions,"find",[],function(xt){return xt==null&&(xt=T),xt.$instance()["$handles?"](A)})))return _.$shift(),j.$process_method()["$[]"](c,_,A,c.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0}))),!0;if(m(b(c.$safe(),k(D("SafeMode"),"SECURE"))))return _.$replace_next_line("link:"+A+"[role=include]");if(m(_.maxdepth)){if(m(b(_.include_stack.$size(),_.maxdepth["$[]"]("curr"))))return _.$logger().$error(_.$message_with_context("maximum include depth of "+_.maxdepth["$[]"]("rel")+" exceeded",R(["source_location"],{source_location:_.$cursor()}))),T;switch(ee=c.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0})),v=_.$resolve_include_path(A,t,ee),a=ce(v),he=a[0]==null?T:a[0],Me=a[1]==null?T:a[1],Ze=a[2]==null?T:a[2],Me){case"file":$t=k("File").$method("open"),et=D("FILE_READ_MODE");break;case"uri":$t=k("OpenURI").$method("open_uri"),et=D("URI_READ_MODE");break;default:return he}if(m(D("RUBY_ENGINE_OPAL"))||m(at=ee["$[]"]("encoding"))&&m(function(){try{return k("Encoding").$find(at)}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return T}finally{e.pop_exception()}else throw Rt}}())&&((ct=et.$split(":"))["$[]="](1,at),et=ct.$join(":")),ft=ut=T,m(t)&&(m(ee["$key?"]("lines"))?(ft=[],se(_.$split_delimited_value(ee["$[]"]("lines")),"each",[],function(xt){var Ct,Nt,kt=T,Tt=T;return xt==null&&(xt=T),m(xt["$include?"](".."))?(Nt=xt.$partition(".."),Ct=ce(Nt),kt=Ct[0]==null?T:Ct[0],Ct[1]==null||Ct[1],Tt=Ct[2]==null?T:Ct[2],ft=G(ft,m(Tt["$empty?"]())||m(h(Tt=Tt.$to_i(),0))?[kt.$to_i(),k(k("Float"),"INFINITY")]:e.Range.$new(kt.$to_i(),Tt,!1).$to_a())):ft["$<<"](xt.$to_i())}),ft=m(ft["$empty?"]())?T:ft.$sort().$uniq()):m(ee["$key?"]("tag"))?m((ht=ee["$[]"]("tag"))["$empty?"]())||ve(ht,"!")||(ut=m(ht["$start_with?"]("!"))?Ve(ht.$slice(1,ht.$length()),!1):Ve(ht,!0)):m(ee["$key?"]("tags"))&&(ut=R([],{}),se(_.$split_delimited_value(ee["$[]"]("tags")),"each",[],function(xt){var Ct;return xt==null&&(xt=T),m(xt["$empty?"]())||ve(xt,"!")?T:m(xt["$start_with?"]("!"))?(Ct=[xt.$slice(1,xt.$length()),!1],se(ut,"[]=",Ct),Ct[Ct.length-1]):(Ct=[xt,!0],se(ut,"[]=",Ct),Ct[Ct.length-1])}),m(ut["$empty?"]())&&(ut=T))),m(ft)){a=[[],T,0],dt=a[0],At=a[1],yt=a[2];try{se($t,"call",[he,et],function(xt){var Ct=T;return xt==null&&(xt=T),Ct=T,function(){try{var Nt=fe("break");return se(xt,"each_line",[],function(Tt){var Ht=T;if(Tt==null&&(Tt=T),yt=G(yt,1),m(Ct)||z(k("Float"),Ht=ft["$[]"](0))&&m(Ct=Ht["$infinite?"]()))return At=m(K=At)?K:yt,dt["$<<"](Tt);if(ve(Ht,yt)&&(At=m(K=At)?K:yt,dt["$<<"](Tt),ft.$shift()),m(ft["$empty?"]()))Nt.$throw();else return T})}catch(kt){if(kt===Nt)return kt.$v;throw kt}}()})}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+Me+" not readable: "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+A+"["+t+"]")}finally{e.pop_exception()}else throw Rt}_.$shift(),m(At)&&(ee["$[]="]("partial-option",""),_.$push_include(dt,he,Ze,At,ee))}else if(m(ut)){a=[[],T,0,[],k("Set").$new(),T],dt=a[0],At=a[1],yt=a[2],It=a[3],St=a[4],wt=a[5],m(ut["$key?"]("**"))?(Et=qt=ut.$delete("**"),m(ut["$key?"]("*"))?zt=ut.$delete("*"):we(Et)&&ve(ut.$values().$first(),!1)&&(zt=!0)):m(ut["$key?"]("*"))?ve(ut.$keys().$first(),"*")?Et=qt=(zt=ut.$delete("*"))["$!"]():(Et=qt=!1,zt=ut.$delete("*")):Et=qt=ut["$value?"](!0)["$!"]();try{se($t,"call",[he,et],function Rt(xt){var Ct,Nt=Rt.$$s==null?this:Rt.$$s,kt=T,Tt=T;return xt==null&&(xt=T),Ct=["::","[]"],kt=Ct[0],Tt=Ct[1],se(xt,"each_line",[],function Ht(Lt){var Ft,Yt,Dt=Ht.$$s==null?this:Ht.$$s,Mt=T,Vt=T,Xt=T;return Lt==null&&(Lt=T),yt=G(yt,1),m(Lt["$include?"](kt))&&m(Lt["$include?"](Tt))&&m(D("TagDirectiveRx")["$=~"](Lt))?(Mt=(Ft=We["~"])===T?T:Ft["$[]"](2),m((Ft=We["~"])===T?T:Ft["$[]"](1))?ve(Mt,wt)?(It.$pop(),Yt=m(It["$empty?"]())?[T,qt]:It["$[]"](-1),Ft=ce(Yt),wt=Ft[0]==null?T:Ft[0],Et=Ft[1]==null?T:Ft[1],Yt):m(ut["$key?"](Mt))?(Vt=Dt.$create_include_cursor(he,A,yt),m(Xt=se(It,"rindex",[],function(Jt){return Jt==null&&(Jt=T),Jt["$=="](Mt)},{$$has_trailing_comma_in_args:!0}))?(ve(Xt,0)?It.$shift():It.$delete_at(Xt),Dt.$logger().$warn(Dt.$message_with_context("mismatched end tag (expected '"+wt+"' but found '"+Mt+"') at line "+yt+" of include "+Me+": "+he,R(["source_location","include_location"],{source_location:Dt.$cursor(),include_location:Vt})))):Dt.$logger().$warn(Dt.$message_with_context("unexpected end tag '"+Mt+"' at line "+yt+" of include "+Me+": "+he,R(["source_location","include_location"],{source_location:Dt.$cursor(),include_location:Vt})))):T:m(ut["$key?"](Mt))?(m(Et=ut["$[]"](Mt))&&St["$<<"](Mt),It["$<<"]([wt=Mt,Et,yt])):we(zt["$nil?"]())?(Et=m(wt)&&we(Et)?!1:zt,It["$<<"]([wt=Mt,Et,yt])):T):m(Et)?(At=m(K=At)?K:yt,dt["$<<"](Lt)):T},{$$s:Nt})},{$$s:_})}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+Me+" not readable: "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+A+"["+t+"]")}finally{e.pop_exception()}else throw Rt}m(It["$empty?"]())||se(It,"each",[],function Rt(xt,Ct,Nt){var kt=Rt.$$s==null?this:Rt.$$s;return xt==null&&(xt=T),Nt==null&&(Nt=T),kt.$logger().$warn(kt.$message_with_context("detected unclosed tag '"+xt+"' starting at line "+Nt+" of include "+Me+": "+he,R(["source_location","include_location"],{source_location:kt.$cursor(),include_location:kt.$create_include_cursor(he,A,Nt)})))},{$$s:_}),m((Gt=Fe(se(ut,"keep_if",[],function(xt,Ct){return Ct==null&&(Ct=T),Ct}).$keys(),St.$to_a()))["$empty?"]())||_.$logger().$warn(_.$message_with_context("tag"+(m(Ke(Gt.$size(),1))?"s":"")+" '"+Gt.$join(", ")+"' not found in include "+Me+": "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$shift(),m(At)&&(m(qt)&&Se(zt,!1)&&m(ut["$empty?"]())||ee["$[]="]("partial-option",""),_.$push_include(dt,he,Ze,At,ee))}else{Ut=T;try{Ut=se($t,"call",[he,et],function(xt){return xt==null&&(xt=T),xt.$read()}),_.$shift()}catch(Rt){if(e.rescue(Rt,[D("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+Me+" not readable: "+he,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+A+"["+t+"]")}finally{e.pop_exception()}else throw Rt}_.$push_include(Ut,he,Ze,1,ee)}return!0}else return T}),C(x,"$resolve_include_path",function(l,t,a){var v,_=this,c=T,A=T,S=T;return c=_.document,m(D("Helpers")["$uriish?"](l))||m(z(k("String"),_.dir)?T:l=""+_.dir+"/"+l)?m(c["$attr?"]("allow-uri-read"))?(m(c["$attr?"]("cache-uri"))?m((v=k("::","OpenURI","skip_raise"))&&k(v,"Cache","skip_raise")?"constant":T)||D("Helpers").$require_library("open-uri/cached","open-uri-cached"):we(D("RUBY_ENGINE_OPAL"))&&k("OpenURI"),[k("URI").$parse(l),"uri",l]):_.$replace_next_line("link:"+l+"[role=include]"):(A=c.$normalize_system_path(l,_.dir,T,R(["target_name"],{target_name:"include file"})),m(k("File")["$file?"](A))?(S=c.$path_resolver().$relative_path(A,c.$base_dir()),[A,"file",S]):m(a["$[]"]("optional-option"))?(se(_.$logger(),"info",[],function K(){var j=K.$$s==null?this:K.$$s;return j.$message_with_context("optional include dropped because include file not found: "+A,R(["source_location"],{source_location:j.$cursor()}))},{$$s:_}),_.$shift(),!0):(_.$logger().$error(_.$message_with_context("include file not found: "+A,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+l+"["+t+"]")))}),C(x,"$pop_include",function(){var l,t,a=this;return m(a.include_stack["$empty?"]())||(t=a.include_stack.$pop(),l=ce(t),a.lines=l[0]==null?T:l[0],a.file=l[1]==null?T:l[1],a.dir=l[2]==null?T:l[2],a.path=l[3]==null?T:l[3],a.lineno=l[4]==null?T:l[4],a.maxdepth=l[5]==null?T:l[5],a.process_lines=l[6]==null?T:l[6],a.look_ahead=0),T}),C(x,"$split_delimited_value",function(l){return m(l["$include?"](","))?l.$split(","):l.$split(";")}),C(x,"$skip_front_matter!",function(l,t){var a=this,v=T,_=T,c=T,A=T,S=T;if(t==null&&(t=!0),!ve(v=l["$[]"](0),"---"))return T;for(_=l.$drop(0),l.$shift(),c=[],m(t)&&(a.lineno=G(a.lineno,1));!m(m(A=S=l["$empty?"]())?A:l["$[]"](0)["$=="](v));)c["$<<"](l.$shift()),m(t)&&(a.lineno=G(a.lineno,1));return m(S)?(se(l,"unshift",Oe(_)),m(t)&&(a.lineno=Fe(a.lineno,_.$size())),T):(l.$shift(),m(t)&&(a.lineno=G(a.lineno,1)),c)},-2),C(x,"$resolve_expr_val",function(l){var t=this,a=T;return m(l["$start_with?"]('"'))&&m(l["$end_with?"]('"'))||m(l["$start_with?"]("'"))&&m(l["$end_with?"]("'"))?(a=!0,l=l.$slice(1,Fe(l.$length(),1))):a=!1,m(l["$include?"](D("ATTR_REF_HEAD")))&&(l=t.document.$sub_attributes(l,R(["attribute_missing"],{attribute_missing:"drop"}))),m(a)?l:m(l["$empty?"]())?T:ve(l,"true")?!0:ve(l,"false")?!1:m(l.$rstrip()["$empty?"]())?" ":m(l["$include?"]("."))?l.$to_f():l.$to_i()})}(ie[0],H("Reader"),ie)}(rt[0],rt)},Opal.modules["asciidoctor/section"]=function(e){var U=e.module,B=e.klass,C=e.hash2,G=e.send2,u=e.find_super,R=e.eqeqeq,we=e.truthy,z=e.rb_plus,ce=e.def,m=e.alias,Ke=e.rb_gt,se=e.eqeq,Fe=e.not,fe=e.send,ve=e.defs,st=[],Se=e.nil;return e.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(Oe,Ce){var Ye=U(Oe,"Asciidoctor"),it=[Ye].concat(Ce),b=e.$r(it);return function(We,h,Ve){var rt=B(We,h,"Section"),T=[rt].concat(Ve),k=e.$r(T),ke=rt.$$prototype;return ke.document=ke.next_section_index=ke.parent=ke.level=ke.numeral=ke.numbered=ke.sectname=ke.title=ke.blocks=Se,rt.$attr_accessor("index"),rt.$attr_accessor("sectname"),rt.$attr_accessor("special"),rt.$attr_accessor("numbered"),rt.$attr_reader("caption"),ce(rt,"$initialize",function O(ue,ie,H,X){var F;O.$$p;var E=this,x=Se;return O.$$p=null,ue==null&&(ue=Se),ie==null&&(ie=Se),H==null&&(H=!1),X==null&&(X=C([],{})),G(E,u(E,"initialize",O,!1,!0),"initialize",[ue,"section",X],null),R(k("Section"),ue)?(F=[we(x=ie)?x:z(ue.$level(),1),ue.$special()],E.level=F[0],E.special=F[1]):(F=[we(x=ie)?x:1,!1],E.level=F[0],E.special=F[1]),E.numbered=H,E.index=0},-1),m(rt,"name","title"),ce(rt,"$generate_id",function(){var ue=this;return k("Section").$generate_id(ue.$title(),ue.document)}),ce(rt,"$sections?",function(){var ue=this;return Ke(ue.next_section_index,0)}),ce(rt,"$sectnum",function(ue,ie){var H=this,X=Se;return ue==null&&(ue="."),ie==null&&(ie=Se),ie=we(X=ie)?X:se(ie,!1)?"":ue,we(Ke(H.level,1))&&R(k("Section"),H.parent)?""+H.parent.$sectnum(ue,ue)+H.numeral+ie:""+H.numeral+ie},-1),ce(rt,"$xreftext",function(ue){var ie=this,H=Se,X=Se,F=Se,E=Se;if(ue==null&&(ue=Se),we(H=ie.$reftext())&&Fe(H["$empty?"]()))return H;if(we(ue))if(we(ie.numbered))switch(ue){case"full":return se(X=ie.sectname,"chapter")||se(X,"appendix")?F=ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):F=ie.$sub_placeholder(ie.$sub_quotes(we(ie.document.$compat_mode())?"``%s''":'"`%s`"'),ie.$title()),we(E=ie.document.$attributes()["$[]"](""+X+"-refsig"))?""+E+" "+ie.$sectnum(".",",")+" "+F:""+ie.$sectnum(".",",")+" "+F;case"short":return we(E=ie.document.$attributes()["$[]"](""+ie.sectname+"-refsig"))?""+E+" "+ie.$sectnum(".",""):ie.$sectnum(".","");default:return se(X=ie.sectname,"chapter")||se(X,"appendix")?ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):ie.$title()}else return se(X=ie.sectname,"chapter")||se(X,"appendix")?ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):ie.$title();else return ie.$title()},-1),ce(rt,"$<<",function O(ue){var ie=O.$$p||Se,H=this;return O.$$p=null,se(ue.$context(),"section")&&H.$assign_numeral(ue),G(H,u(H,"<<",O,!1,!0),"<<",[ue],ie)}),ce(rt,"$to_s",function O(){var ue=O.$$p||Se,ie=this,H=Se;return O.$$p=null,we(ie.title)?(H=we(ie.numbered)?""+ie.$sectnum()+" "+ie.title:ie.title,"#<"+ie.$class()+"@"+ie.$object_id()+" {level: "+ie.level+", title: "+H.$inspect()+", blocks: "+ie.blocks.$size()+"}>"):G(ie,u(ie,"to_s",O,!1,!0),"to_s",[],ue)}),ve(rt,"$generate_id",function(ue,ie){var H,X=Se,F=Se,E=Se,x=Se,M=Se,D=Se,Y=Se,q=Se,l=Se,t=Se;if(X=ie.$attributes(),F=we(E=X["$[]"]("idprefix"))?E:"_",we(x=X["$[]"]("idseparator"))?(se(x.$length(),1)||Fe(M=x["$empty?"]())&&we(x=(H=["idseparator",x.$chr()],fe(X,"[]=",H),H[H.length-1])))&&(D=se(x,"-")||se(x,".")?" .-":" "+x+".-"):(H=["_"," _.-"],x=H[0],D=H[1]),Y=""+F+ue.$downcase().$gsub(k("InvalidSectionIdCharsRx"),""),we(M)?Y=Y.$delete(" "):(Y=Y.$tr_s(D,x),we(Y["$end_with?"](x))&&(Y=Y.$chop()),we(F["$empty?"]())&&we(Y["$start_with?"](x))&&(Y=Y.$slice(1,Y.$length()))),we(ie.$catalog()["$[]"]("refs")["$key?"](Y))){for(q=ie.$catalog()["$[]"]("refs"),l=k("Compliance").$unique_id_start_index();we(q["$[]"](t=""+Y+x+l));)l=z(l,1);return t}else return Y})}(it[0],b("AbstractBlock"),it)}(st[0],st)},Opal.modules["asciidoctor/stylesheets"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.return_ivar,u=e.defs,R=e.def,we=e.truthy,z=e.hash2,ce=[],m=e.nil,Ke=e.$$$;return e.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(se,Fe){var fe=U(se,"Asciidoctor"),ve=[fe].concat(Fe);return function(st,Se,Oe){var Ce=B(st,Se,"Stylesheets"),Ye=[Ce].concat(Oe),it=e.$r(Ye),b=Ce.$$prototype;return b.primary_stylesheet_data=m,C(Ye[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),C(Ye[0],"STYLESHEETS_DIR",Ke("File").$join(it("DATA_DIR"),"stylesheets")),Ce.__instance__=Ce.$new(),u(Ce,"$instance",G("__instance__")),R(Ce,"$primary_stylesheet_name",function(){return it("DEFAULT_STYLESHEET_NAME")}),R(Ce,"$primary_stylesheet_data",function(){var h=this,Ve=m;return h.primary_stylesheet_data=we(Ve=h.primary_stylesheet_data)?Ve:Ke("File").$read(Ke("File").$join(it("STYLESHEETS_DIR"),"asciidoctor-default.css"),z(["mode"],{mode:it("FILE_READ_MODE")})).$rstrip()}),R(Ce,"$embed_primary_stylesheet",function(){var h=this;return`<style>
`+h.$primary_stylesheet_data()+`
</style>`}),R(Ce,"$write_primary_stylesheet",function(h){var Ve=this;return h==null&&(h="."),Ke("File").$write(Ke("File").$join(h,Ve.$primary_stylesheet_name()),Ve.$primary_stylesheet_data(),z(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),R(Ce,"$coderay_stylesheet_name",function(){return it("SyntaxHighlighter").$for("coderay").$stylesheet_basename()}),R(Ce,"$coderay_stylesheet_data",function(){return it("SyntaxHighlighter").$for("coderay").$read_stylesheet()}),R(Ce,"$embed_coderay_stylesheet",function(){var h=this;return`<style>
`+h.$coderay_stylesheet_data()+`
</style>`}),R(Ce,"$write_coderay_stylesheet",function(h){var Ve=this;return h==null&&(h="."),Ke("File").$write(Ke("File").$join(h,Ve.$coderay_stylesheet_name()),Ve.$coderay_stylesheet_data(),z(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),R(Ce,"$pygments_stylesheet_name",function(h){return h==null&&(h=m),it("SyntaxHighlighter").$for("pygments").$stylesheet_basename(h)},-1),R(Ce,"$pygments_stylesheet_data",function(h){return h==null&&(h=m),it("SyntaxHighlighter").$for("pygments").$read_stylesheet(h)},-1),R(Ce,"$embed_pygments_stylesheet",function(h){var Ve=this;return h==null&&(h=m),`<style>
`+Ve.$pygments_stylesheet_data(h)+`
</style>`},-1),R(Ce,"$write_pygments_stylesheet",function(h,Ve){var rt=this;return h==null&&(h="."),Ve==null&&(Ve=m),Ke("File").$write(Ke("File").$join(h,rt.$pygments_stylesheet_name(Ve)),rt.$pygments_stylesheet_data(Ve),z(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1)}(ve[0],null,ve)}(ce[0],ce)},Opal.modules["asciidoctor/table"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.def,u=e.alias,R=e.hash2,we=e.send2,z=e.find_super,ce=e.truthy,m=e.rb_lt,Ke=e.rb_gt,se=e.eqeq,Fe=e.rb_times,fe=e.rb_divide,ve=e.send,st=e.rb_plus,Se=e.rb_minus,Oe=e.return_val,Ce=e.to_a,Ye=e.gvars,it=e.neqeq,b=e.return_ivar,We=e.to_ary,h=e.regexp,Ve=e.not,rt=e.thrower,T=[],k=e.nil,ke=e.$$$;return e.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(O,ue){var ie=U(O,"Asciidoctor"),H=[ie].concat(ue),X=e.$r(H);return function(F,E,x){var M=B(F,E,"Table"),D=[M].concat(x),Y=e.$r(D),q=M.$$prototype;return q.attributes=q.document=q.rows=q.has_header_option=q.columns=k,C(D[0],"DEFAULT_PRECISION",4),function(l,t){var a=B(l,t,"Rows"),v=a.$$prototype;return v.head=v.body=v.foot=k,a.$attr_accessor("head","foot","body"),G(a,"$initialize",function(c,A,S){var K=this;return c==null&&(c=[]),A==null&&(A=[]),S==null&&(S=[]),K.head=c,K.foot=A,K.body=S},-1),u(a,"[]","send"),G(a,"$by_section",function(){var c=this;return[["head",c.head],["body",c.body],["foot",c.foot]]}),G(a,"$to_h",function(){var c=this;return R(["head","body","foot"],{head:c.head,body:c.body,foot:c.foot})})}(D[0],null),M.$attr_accessor("columns"),M.$attr_accessor("rows"),M.$attr_accessor("has_header_option"),M.$attr_reader("caption"),G(M,"$initialize",function l(t,a){var v;l.$$p;var _=this,c=k,A=k,S=k;return l.$$p=null,we(_,z(_,"initialize",l,!1,!0),"initialize",[t,"table"],null),_.rows=Y("Rows").$new(),_.columns=[],_.has_header_option=!1,ce(c=a["$[]"]("width"))?(ce(Ke(A=c.$to_i(),100))||ce(m(A,1)))&&(se(A,0)&&(se(c,"0")||se(c,"0%"))||(A=100)):A=100,_.attributes["$[]="]("tablepcwidth",A),ce(_.document.$attributes()["$[]"]("pagewidth"))&&_.attributes["$[]="]("tableabswidth",se(S=Fe(fe(A,100),_.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(Y("DEFAULT_PRECISION")),S.$to_i())?S.$to_i():S),ce(a["$[]"]("rotate-option"))?(v=["orientation","landscape"],ve(_.attributes,"[]=",v),v[v.length-1]):k}),G(M,"$header_row?",function(){var t=this,a=k;return ce(a=t.has_header_option)&&ce(t.rows.$body()["$empty?"]())?a:k}),G(M,"$create_columns",function(t){var a=this,v=k,_=k,c=k,A=k;return v=[],_=k,c=0,ve(t,"each",[],function S(K){var j=S.$$s==null?this:S.$$s,ee=k,he=k;return K==null&&(K=k),ee=K["$[]"]("width"),v["$<<"](Y("Column").$new(j,v.$size(),K)),ce(m(ee,0))?(_=ce(he=_)?he:[])["$<<"](v["$[]"](-1)):c=st(c,ee)},{$$s:a}),ce(Ke(A=(a.columns=v).$size(),0))&&(a.attributes["$[]="]("colcount",A),ce(Ke(c,0))||ce(_)||(c=k),a.$assign_column_widths(c,_)),k}),G(M,"$assign_column_widths",function(t,a){var v=this,_=k,c=k,A=k,S=k,K=k;return t==null&&(t=k),a==null&&(a=k),_=Y("DEFAULT_PRECISION"),c=A=0,ce(t)?(ce(a)&&(ce(Ke(t,100))?(S=0,v.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):(S=fe(Se(100,t),a.$size()).$truncate(_),se(S.$to_i(),S)&&(S=S.$to_i()),t=100),K=R(["width","autowidth-option"],{width:S,"autowidth-option":""}),ve(a,"each",[],function(ee){return ee==null&&(ee=k),ee.$update_attributes(K)})),ve(v.columns,"each",[],function(ee){return ee==null&&(ee=k),c=st(c,A=ee.$assign_width(k,t,_))})):(A=fe(100,v.columns.$size()).$truncate(_),se(A.$to_i(),A)&&(A=A.$to_i()),ve(v.columns,"each",[],function(ee){return ee==null&&(ee=k),c=st(c,ee.$assign_width(A,k,_))})),se(c,100)||v.columns["$[]"](-1).$assign_width(st(Se(100,c),A).$round(_),k,_),k},-1),G(M,"$partition_header_footer",function(t){var a,v=this,_=k,c=k;return _=(a=["rowcount",(c=v.rows.$body()).$size()],ve(v.attributes,"[]=",a),a[a.length-1]),ce(Ke(_,0))&&(ce(v.has_header_option)?(v.rows["$head="]([ve(c.$shift(),"map",[],function(S){return S==null&&(S=k),S.$reinitialize(!0)})]),_=Se(_,1)):ce(v.has_header_option["$nil?"]())&&(v.has_header_option=!1,c.$unshift(ve(c.$shift(),"map",[],function(S){return S==null&&(S=k),S.$reinitialize(!1)})))),ce(Ke(_,0))&&ce(t["$[]"]("footer-option"))&&v.rows["$foot="]([c.$pop()]),k})}(H[0],X("AbstractBlock"),H),function(F,E){var x=B(F,E,"Column"),M=x.$$prototype;return M.attributes=k,x.$attr_accessor("style"),G(x,"$initialize",function D(Y,q,l){D.$$p;var t=this;return D.$$p=null,l==null&&(l=R([],{})),we(t,z(t,"initialize",D,!1,!0),"initialize",[Y,"table_column"],null),t.style=l["$[]"]("style"),l["$[]="]("colnumber",st(q,1)),ce(l["$[]"]("width"))||l["$[]="]("width",1),ce(l["$[]"]("halign"))||l["$[]="]("halign","left"),ce(l["$[]"]("valign"))||l["$[]="]("valign","top"),t.$update_attributes(l)},-3),u(x,"table","parent"),G(x,"$assign_width",function(Y,q,l){var t,a=this,v=k;return ce(q)&&(Y=fe(Fe(a.attributes["$[]"]("width").$to_f(),100),q).$truncate(l),se(Y.$to_i(),Y)&&(Y=Y.$to_i())),ce(a.$parent().$attributes()["$[]"]("tableabswidth"))&&a.attributes["$[]="]("colabswidth",se(v=Fe(fe(Y,100),a.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(l),v.$to_i())?v.$to_i():v),t=["colpcwidth",Y],ve(a.attributes,"[]=",t),t[t.length-1]}),G(x,"$block?",Oe(!1)),G(x,"$inline?",Oe(!1))}(X("Table"),X("AbstractNode")),function(F,E,x){var M=B(F,E,"Cell"),D=[M].concat(x),Y=e.$r(D),q=M.$$prototype;return q.document=q.reinitialize_args=q.attributes=q.cursor=q.text=q.subs=q.style=q.inner_document=q.source_location=q.colspan=q.rowspan=k,C(D[0],"DOUBLE_LF",Fe(Y("LF"),2)),M.$attr_accessor("colspan"),M.$attr_accessor("rowspan"),u(M,"column","parent"),M.$attr_reader("inner_document"),G(M,"$initialize",function l(t,a,v,_){var c;l.$$p;var A=this,S=k,K=k,j=k,ee=k,he=k,Me=k,Ze=k,$t=k,et=k,at=k,ct=k,ft=k,ut=k;if(l.$$p=null,v==null&&(v=R([],{})),_==null&&(_=R([],{})),we(A,z(A,"initialize",l,!1,!0),"initialize",[t,"table_cell"],null),A.cursor=A.reinitialize_args=k,ce(A.document.$sourcemap())&&(A.source_location=_["$[]"]("cursor").$dup()),ce(t)&&(ce(S=t.$table()["$header_row?"]())?se(S,"implicit")&&ce(K=ce(j=t.$style())?j:ce(ee=v)?v["$[]"]("style"):ee)&&((se(K,"asciidoc")||se(K,"literal"))&&(A.reinitialize_args=[t,a,ce(j=v)?v.$merge():j,_]),K=k):K=t.$style(),A.$update_attributes(t.$attributes())),ce(v))switch(ce(v["$empty?"]())?A.colspan=A.rowspan=k:(c=[v.$delete("colspan"),v.$delete("rowspan")],A.colspan=c[0],A.rowspan=c[1],ce(S)||(K=ce(j=v["$[]"]("style"))?j:K),A.$update_attributes(v)),K){case"asciidoc":if(he=!0,Me=_["$[]"]("cursor"),ce((a=a.$rstrip())["$start_with?"](Y("LF")))){for(Ze=1;ce((a=a.$slice(1,a.$length()))["$start_with?"](Y("LF")));)Ze=st(Ze,1);Me.$advance(Ze)}else a=a.$lstrip();break;case"literal":for($t=!0,a=a.$rstrip();ce(a["$start_with?"](Y("LF")));)a=a.$slice(1,a.$length());break;default:et=!0,a=ce(a)?a.$strip():""}else A.colspan=A.rowspan=k,se(K,"asciidoc")&&(he=!0,Me=_["$[]"]("cursor"));return ce(he)?(at=A.document.$attributes().$delete("doctitle"),ct=a.$split(Y("LF"),-1),ce(ct["$empty?"]())||ce((ft=ct["$[]"](0))["$include?"]("::"))&&(ut=Y("PreprocessorReader").$new(A.document,[ft]).$readlines(),se(ft,ut["$[]"](0))&&ce(m(ut.$size(),2))||(ct.$shift(),ce(ut["$empty?"]())||ve(ct,"unshift",Ce(ut)))),A.inner_document=Y("Document").$new(ct,R(["standalone","parent","cursor"],{standalone:!1,parent:A.document,cursor:Me})),ce(at["$nil?"]())||A.document.$attributes()["$[]="]("doctitle",at),A.subs=k):ce($t)?(A.content_model="verbatim",A.subs=Y("BASIC_SUBS")):(ce(et)&&(ce(S)?A.cursor=_["$[]"]("cursor"):A.$catalog_inline_anchor(a,_["$[]"]("cursor"))),A.content_model="simple",A.subs=Y("NORMAL_SUBS")),A.text=a,A.style=K},-3),G(M,"$reinitialize",function(t){var a=this;if(ce(t))a.reinitialize_args=k;else{if(ce(a.reinitialize_args))return ve(ke(Y("Table"),"Cell"),"new",Ce(a.reinitialize_args));a.style=a.attributes["$[]"]("style")}return ce(a.cursor)&&a.$catalog_inline_anchor(),a}),G(M,"$catalog_inline_anchor",function(t,a){var v,_=this;return t==null&&(t=_.text),a==null&&(a=k),ce(a)||(v=[_.cursor,k],a=v[0],_.cursor=v[1]),ce(t["$start_with?"]("[["))&&ce(Y("LeadingInlineAnchorRx")["$=~"](t))?Y("Parser").$catalog_inline_anchor((v=Ye["~"])===k?k:v["$[]"](1),(v=Ye["~"])===k?k:v["$[]"](2),_,a,_.document):k},-1),G(M,"$text",function(){var t=this;return t.$apply_subs(t.text,t.subs)}),M.$attr_writer("text"),G(M,"$content",function(){var t=this,a=k,v=k;return se(a=t.style,"asciidoc")?t.inner_document.$convert():ce(t.text["$include?"](Y("DOUBLE_LF")))?ve(t.$text().$split(Y("BlankLineRx")),"map",[],function _(c){var A=_.$$s==null?this:_.$$s;return c==null&&(c=k),ce(a)&&it(a,"header")?Y("Inline").$new(A.$parent(),"quoted",c,R(["type"],{type:a})).$convert():c},{$$s:t}):ce((v=t.$text())["$empty?"]())?[]:ce(a)&&it(a,"header")?[Y("Inline").$new(t.$parent(),"quoted",v,R(["type"],{type:a})).$convert()]:[v]}),G(M,"$lines",function(){var t=this;return t.text.$split(Y("LF"))}),G(M,"$source",b("text")),G(M,"$file",function(){var t=this,a=k;return ce(a=t.source_location)?t.source_location.$file():a}),G(M,"$lineno",function(){var t=this,a=k;return ce(a=t.source_location)?t.source_location.$lineno():a}),G(M,"$to_s",function l(){var t=l.$$p||k,a=this,v=k;return l.$$p=null,""+we(a,z(a,"to_s",l,!1,!0),"to_s",[],t)+" - [text: "+a.text+", colspan: "+(ce(v=a.colspan)?v:1)+", rowspan: "+(ce(v=a.rowspan)?v:1)+", attributes: "+a.attributes+"]"})}(X("Table"),X("AbstractBlock"),H),function(F,E,x){var M=B(F,E,"ParserContext"),D=[M].concat(x),Y=e.$r(D),q=M.$$prototype;return q.delimiter=q.delimiter_rx=q.buffer=q.cellspecs=q.cell_open=q.format=q.start_cursor_data=q.reader=q.table=q.current_row=q.colcount=q.column_visits=q.active_rowspans=q.linenum=k,M.$include(Y("Logging")),C(D[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),C(D[0],"DELIMITERS",R(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),M.$attr_accessor("table"),M.$attr_accessor("format"),M.$attr_reader("colcount"),M.$attr_accessor("buffer"),M.$attr_reader("delimiter"),M.$attr_reader("delimiter_re"),G(M,"$initialize",function(t,a,v){var _,c,A=this,S=k,K=k;return v==null&&(v=R([],{})),A.start_cursor_data=(A.reader=t).$mark(),A.table=a,ce(v["$key?"]("format"))?ce(Y("FORMATS")["$include?"](S=v["$[]"]("format")))?se(S,"tsv")?A.format="csv":se(A.format=S,"psv")&&ce(a.$document()["$nested?"]())&&(S="!sv"):(A.$logger().$error(A.$message_with_context("illegal table format: "+S,R(["source_location"],{source_location:t.$cursor_at_prev_line()}))),_=["psv",ce(a.$document()["$nested?"]())?"!sv":"psv"],A.format=_[0],S=_[1]):(_=["psv",ce(a.$document()["$nested?"]())?"!sv":"psv"],A.format=_[0],S=_[1]),ce(v["$key?"]("separator"))?ce((K=v["$[]"]("separator"))["$nil_or_empty?"]())?(c=Y("DELIMITERS")["$[]"](S),_=We(c),A.delimiter=_[0]==null?k:_[0],A.delimiter_rx=_[1]==null?k:_[1]):se(K,"\\t")?(c=Y("DELIMITERS")["$[]"]("tsv"),_=We(c),A.delimiter=_[0]==null?k:_[0],A.delimiter_rx=_[1]==null?k:_[1]):(_=[K,h([ke("Regexp").$escape(K)])],A.delimiter=_[0],A.delimiter_rx=_[1]):(c=Y("DELIMITERS")["$[]"](S),_=We(c),A.delimiter=_[0]==null?k:_[0],A.delimiter_rx=_[1]==null?k:_[1]),A.colcount=ce(a.$columns()["$empty?"]())?-1:a.$columns().$size(),A.buffer="",A.cellspecs=[],A.cell_open=!1,A.active_rowspans=[0],A.column_visits=0,A.current_row=[],A.linenum=-1},-3),G(M,"$starts_with_delimiter?",function(t){var a=this;return t["$start_with?"](a.delimiter)}),G(M,"$match_delimiter",function(t){var a=this;return a.delimiter_rx.$match(t)}),G(M,"$skip_past_delimiter",function(t){var a=this;return a.buffer=""+a.buffer+t+a.delimiter,k}),G(M,"$skip_past_escaped_delimiter",function(t){var a=this;return a.buffer=""+a.buffer+t.$chop()+a.delimiter,k}),G(M,"$buffer_has_unclosed_quotes?",function(t,a){var v=this,_=k,c=k,A=k,S=k;return t==null&&(t=k),a==null&&(a='"'),se(_=ce(t)?st(v.buffer,t).$strip():v.buffer.$strip(),a)?!0:ce(_["$start_with?"](a))?(c=st(a,a),ce(A=_["$end_with?"](a))&&ce(_["$end_with?"](c))||ce(_["$start_with?"](c))?ce(S=(_=_.$gsub(c,""))["$start_with?"](a))?_["$end_with?"](a)["$!"]():S:A["$!"]()):!1},-1),G(M,"$take_cellspec",function(){var t=this;return t.cellspecs.$shift()}),G(M,"$push_cellspec",function(t){var a=this,v=k;return t==null&&(t=R([],{})),a.cellspecs["$<<"](ce(v=t)?v:R([],{})),k},-1),G(M,"$keep_cell_open",function(){var t=this;return t.cell_open=!0,k}),G(M,"$mark_cell_closed",function(){var t=this;return t.cell_open=!1,k}),G(M,"$cell_open?",b("cell_open")),G(M,"$cell_closed?",function(){var t=this;return t.cell_open["$!"]()}),G(M,"$close_open_cell",function(t){var a=this;return t==null&&(t=R([],{})),a.$push_cellspec(t),ce(a["$cell_open?"]())&&a.$close_cell(!0),a.$advance(),k},-1),G(M,"$close_cell",function(t){try{var a=rt("return"),v=this,_=k,c=k,A=k,S=k,K=k;return t==null&&(t=!1),se(v.format,"psv")?(_=v.buffer,v.buffer="",ce(c=v.$take_cellspec())?A=ce(S=c.$delete("repeatcol"))?S:1:(v.$logger().$error(v.$message_with_context("table missing leading separator; recovering automatically",R(["source_location"],{source_location:ve(ke(Y("Reader"),"Cursor"),"new",Ce(v.start_cursor_data))}))),c=R([],{}),A=1)):(_=v.buffer.$strip(),v.buffer="",c=k,A=1,se(v.format,"csv")&&Ve(_["$empty?"]())&&ce(_["$include?"](K='"'))&&(ce(_["$start_with?"](K))&&ce(_["$end_with?"](K))?ce(_=_.$slice(1,Se(_.$length(),2)))?_=_.$strip().$squeeze(K):(v.$logger().$error(v.$message_with_context("unclosed quote in CSV data; setting cell to empty",R(["source_location"],{source_location:v.reader.$cursor_at_prev_line()}))),_=""):_=_.$squeeze(K))),ve(1,"upto",[A],function j(ee){var he=j.$$s==null?this:j.$$s,Me=k,Ze=k,$t=k,et=k;return he.colcount==null&&(he.colcount=k),he.table==null&&(he.table=k),he.current_row==null&&(he.current_row=k),he.reader==null&&(he.reader=k),he.column_visits==null&&(he.column_visits=k),he.linenum==null&&(he.linenum=k),ee==null&&(ee=k),se(he.colcount,-1)?(he.table.$columns()["$<<"](Me=ke(Y("Table"),"Column").$new(he.table,Se(st(he.table.$columns().$size(),ee),1))),ce(c)&&ce(c["$key?"]("colspan"))&&ce(Ke(Ze=Se(c["$[]"]("colspan").$to_i(),1),0))&&($t=he.table.$columns().$size(),ve(Ze,"times",[],function at(ct){var ft=at.$$s==null?this:at.$$s;return ft.table==null&&(ft.table=k),ct==null&&(ct=k),ft.table.$columns()["$<<"](ke(Y("Table"),"Column").$new(ft.table,st($t,ct)))},{$$s:he}))):ce(Me=he.table.$columns()["$[]"](he.current_row.$size()))||(he.$logger().$error(he.$message_with_context("dropping cell because it exceeds specified number of columns",R(["source_location"],{source_location:he.reader.$cursor_before_mark()}))),a.$throw()),et=ke(Y("Table"),"Cell").$new(Me,_,c,R(["cursor"],{cursor:he.reader.$cursor_before_mark()})),he.reader.$mark(),Ve(et.$rowspan())||se(et.$rowspan(),1)||he.$activate_rowspan(et.$rowspan(),ce(S=et.$colspan())?S:1),he.column_visits=st(he.column_visits,ce(S=et.$colspan())?S:1),he.current_row["$<<"](et),ce(he["$end_of_row?"]())&&(it(he.colcount,-1)||ce(Ke(he.linenum,0))||ce(t)&&se(ee,A))?he.$close_row():k},{$$s:v,$$ret:a}),v.cell_open=!1,k}catch(j){if(j===a)return j.$v;throw j}},-1),M.$private(),G(M,"$close_row",function(){var t=this;return t.table.$rows().$body()["$<<"](t.current_row),se(t.colcount,-1)&&(t.colcount=t.column_visits),t.column_visits=0,t.current_row=[],t.active_rowspans.$shift(),ce(t.active_rowspans["$[]"](0))||t.active_rowspans["$[]="](0,0),k}),G(M,"$activate_rowspan",function(t,a){var v=this;return ve(1,"upto",[Se(t,1)],function _(c){var A,S=_.$$s==null?this:_.$$s,K=k;return S.active_rowspans==null&&(S.active_rowspans=k),c==null&&(c=k),A=[c,st(ce(K=S.active_rowspans["$[]"](c))?K:0,a)],ve(S.active_rowspans,"[]=",A),A[A.length-1]},{$$s:v}),k}),G(M,"$end_of_row?",function(){var t=this,a=k;return ce(a=t.colcount["$=="](-1))?a:t.$effective_column_visits()["$=="](t.colcount)}),G(M,"$effective_column_visits",function(){var t=this;return st(t.column_visits,t.active_rowspans["$[]"](0))}),G(M,"$advance",function(){var t=this;return t.linenum=st(t.linenum,1)})}(X("Table"),null,H)}(T[0],T)},Opal.modules["asciidoctor/writer"]=function(e){var U=e.module,B=e.truthy,C=e.rb_plus,G=e.hash2,u=e.def,R=e.return_val,we=[],z=e.nil,ce=e.$$$;return e.add_stubs("respond_to?,write,+,chomp,include"),function(m,Ke){var se=U(m,"Asciidoctor"),Fe=[se].concat(Ke);return function(fe,ve){var st=U(fe,"Writer"),Se=[st].concat(ve),Oe=e.$r(Se);return u(st,"$write",function(Ye,it){return B(it["$respond_to?"]("write"))?it.$write(C(Ye.$chomp(),Oe("LF"))):ce("File").$write(it,Ye,G(["mode"],{mode:Oe("FILE_WRITE_MODE")})),z})}(Fe[0],Fe),function(fe,ve){var st=U(fe,"VoidWriter"),Se=[st].concat(ve),Oe=e.$r(Se);return st.$include(Oe("Writer")),u(st,"$write",R(z))}(Fe[0],Fe)}(we[0],we)},Opal.modules["asciidoctor/load"]=function(e){var U=e.module,B=e.hash2,C=e.truthy,G=e.neqeq,u=e.not,R=e.eqeqeq,we=e.send,z=e.to_ary,ce=e.rb_plus,m=e.eqeq,Ke=e.def,se=[],Fe=e.nil,fe=e.$$$;return e.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(ve,st){var Se=U(ve,"Asciidoctor"),Oe=[Se].concat(st);return function(Ce,Ye){var it=[Ce].concat(Ye),b=e.$r(it);return Ke(Ce,"$load",function(h,Ve){var rt,T,k,ke,O=this,ue=Fe,ie=Fe,H=Fe,X=Fe,F=Fe,E=Fe,x=Fe,M=Fe,D=Fe,Y=Fe;Ve==null&&(Ve=B([],{}));try{if(Ve=Ve.$merge(),C(ue=Ve["$[]"]("timings"))&&ue.$start("read"),C(Ve["$key?"]("logger"))&&G(ie=Ve["$[]"]("logger"),b("LoggerManager").$logger())&&b("LoggerManager")["$logger="](C(H=ie)?H:b("NullLogger").$new()),u(X=Ve["$[]"]("attributes"))?X=B([],{}):R(fe("Hash"),X)?X=X.$merge():C((k=fe("::","Java","skip_raise"))&&(T=fe(k,"JavaUtil","skip_raise"))&&(rt=fe(T,"Map","skip_raise"))?"constant":Fe)&&R(fe(fe(fe("Java"),"JavaUtil"),"Map"),X)?X=X.$dup():R(fe("Array"),X)?X=we(B([],{}),"tap",[],function(l){return l==null&&(l=Fe),we(X,"each",[],function(a){var v,_,c=Fe,A=Fe,S=Fe;return a==null&&(a=Fe),_=a.$partition("="),v=z(_),c=v[0]==null?Fe:v[0],A=v[1]==null?Fe:v[1],S=v[2]==null?Fe:v[2],v=[c,S],we(l,"[]=",v),v[v.length-1]})}):R(fe("String"),X)?X=we(B([],{}),"tap",[],function(l){return l==null&&(l=Fe),we(X.$gsub(b("SpaceDelimiterRx"),ce("\\1",b("NULL"))).$gsub(b("EscapedSpaceRx"),"\\1").$split(b("NULL")),"each",[],function(a){var v,_,c=Fe,A=Fe,S=Fe;return a==null&&(a=Fe),_=a.$partition("="),v=z(_),c=v[0]==null?Fe:v[0],A=v[1]==null?Fe:v[1],S=v[2]==null?Fe:v[2],v=[c,S],we(l,"[]=",v),v[v.length-1]})}):C(X["$respond_to?"]("keys"))&&C(X["$respond_to?"]("[]"))?X=we(B([],{}),"tap",[],function(l){return l==null&&(l=Fe),we(X.$keys(),"each",[],function(a){var v;return a==null&&(a=Fe),v=[a,X["$[]"](a)],we(l,"[]=",v),v[v.length-1]})}):O.$raise(fe("ArgumentError"),"illegal type for attributes option: "+X.$class().$ancestors().$join(" < ")),R(fe("File"),h))Ve["$[]="]("input_mtime",m(b("RUBY_ENGINE"),"jruby")?fe("Time").$at(h.$mtime().$to_i()):h.$mtime()),X["$[]="]("docfile",F=fe("File").$absolute_path(h.$path())),X["$[]="]("docdir",fe("File").$dirname(F)),X["$[]="]("docname",b("Helpers").$basename(F,(ke=["docfilesuffix",b("Helpers").$extname(F)],we(X,"[]=",ke),ke[ke.length-1]))),E=h.$read();else if(C(h["$respond_to?"]("read"))){try{h.$rewind()}catch(q){if(e.rescue(q,[b("StandardError")]))e.pop_exception();else throw q}E=h.$read()}else R(fe("String"),h)?E=h:R(fe("Array"),h)?E=h.$drop(0):C(h)&&O.$raise(fe("ArgumentError"),"unsupported input type: "+h.$class());return C(ue)&&(ue.$record("read"),ue.$start("parse")),Ve["$[]="]("attributes",X),x=m(Ve["$[]"]("parse"),!1)?b("Document").$new(E,Ve):b("Document").$new(E,Ve).$parse(),C(ue)&&ue.$record("parse"),x}catch(q){if(e.rescue(q,[b("StandardError")])){M=q;try{try{D="asciidoctor: FAILED: "+(C(H=X["$[]"]("docfile"))?H:"<stdin>")+": Failed to load AsciiDoc document",C(M["$respond_to?"]("exception"))?(Y=M.$exception(""+D+" - "+M.$message()),Y.$set_backtrace(M.$backtrace())):(Y=M.$class().$new(D,M),Y["$stack_trace="](M.$stack_trace()))}catch(l){if(e.rescue(l,[b("StandardError")]))try{Y=M}finally{e.pop_exception()}else throw l}return O.$raise(Y)}finally{e.pop_exception()}}else throw q}},-2),Ke(Ce,"$load_file",function(h,Ve){var rt=this;return Ve==null&&(Ve=B([],{})),we(fe("File"),"open",[h,b("FILE_READ_MODE")],function T(k){var ke=T.$$s==null?this:T.$$s;return k==null&&(k=Fe),ke.$load(k,Ve)},{$$s:rt})},-2)}(e.get_singleton_class(Se),Oe)}(se[0],se)},Opal.modules["asciidoctor/convert"]=function(e){var U=e.module,B=e.hash2,C=e.eqeqeq,G=e.truthy,u=e.eqeq,R=e.rb_ge,we=e.not,z=e.rb_lt,ce=e.neqeq,m=e.def,Ke=e.send,se=e.alias,Fe=[],fe=e.nil,ve=e.$$$;return e.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(st,Se){var Oe=U(st,"Asciidoctor"),Ce=[Oe].concat(Se);return function(Ye,it){var b=[Ye].concat(it),We=e.$r(b);return m(Ye,"$convert",function(Ve,rt){var T=this,k=fe,ke=fe,O=fe,ue=fe,ie=fe,H=fe,X=fe,F=fe,E=fe,x=fe,M=fe,D=fe,Y=fe,q=fe,l=fe,t=fe,a=fe,v=fe,_=fe,c=fe,A=fe,S=fe,K=fe,j=fe;if(rt==null&&(rt=B([],{})),(rt=rt.$merge()).$delete("parse"),k=rt.$delete("to_dir"),ke=rt.$delete("mkdirs"),C(!0,O=ue=rt.$delete("to_file"))||C(fe,O))G(ie=k)||C(ve("File"),Ve)&&(H=ve("File").$absolute_path(Ve.$path())),ue=fe;else if(C(!1,O))ue=fe;else{if(C("/dev/null",O))return T.$load(Ve,rt);G(X=ue["$respond_to?"]("write"))||rt["$[]="]("to_file",ie=ue)}return G(rt["$key?"]("standalone"))||(G(H)||G(ie)?rt["$[]="]("standalone",rt.$fetch("header_footer",!0)):G(rt["$key?"]("header_footer"))&&rt["$[]="]("standalone",rt["$[]"]("header_footer"))),G(H)?rt["$[]="]("to_dir",F=ve("File").$dirname(H)):G(ie)&&(G(k)?G(ue)?rt["$[]="]("to_dir",ve("File").$dirname(ve("File").$expand_path(ue,k))):rt["$[]="]("to_dir",ve("File").$expand_path(k)):G(ue)&&rt["$[]="]("to_dir",ve("File").$dirname(ve("File").$expand_path(ue)))),E=T.$load(Ve,rt),G(H)?(x=ve("File").$join(F,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix()),u(x,H)&&T.$raise(ve("IOError"),"input file and output file cannot be the same: "+x)):G(ie)?(M=G(rt["$key?"]("base_dir"))?ve("File").$expand_path(rt["$[]"]("base_dir")):ve("Dir").$pwd(),D=G(R(E.$safe(),ve(We("SafeMode"),"SAFE")))?M:fe,G(k)?(F=E.$normalize_system_path(k,M,D,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),G(ue)?(x=E.$normalize_system_path(ue,F,fe,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),F=ve("File").$dirname(x)):x=ve("File").$join(F,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix())):G(ue)&&(x=E.$normalize_system_path(ue,M,D,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),F=ve("File").$dirname(x)),C(ve("File"),Ve)&&u(x,ve("File").$absolute_path(Ve.$path()))&&T.$raise(ve("IOError"),"input file and output file cannot be the same: "+x),G(ke)?We("Helpers").$mkdir_p(F):G(ve("File")["$directory?"](F))||T.$raise(ve("IOError"),"target directory does not exist: "+k+" (hint: set :mkdirs option)")):(x=ue,F=fe),G(x)&&we(X)?Y=E.$convert(B(["outfile","outdir"],{outfile:x,outdir:F})):Y=E.$convert(),G(x)?(E.$write(Y,x),we(X)&&G(z(E.$safe(),ve(We("SafeMode"),"SECURE")))&&G(E["$attr?"]("linkcss"))&&G(E["$attr?"]("copycss"))&&G(E["$basebackend?"]("html"))&&we(G(O=q=E.$attr("stylesdir"))?We("Helpers")["$uriish?"](q):O)&&(G(l=E.$attr("stylesheet"))&&(G(We("DEFAULT_STYLESHEET_KEYS")["$include?"](l))?t=!0:we(We("Helpers")["$uriish?"](l))&&(a=!0)),v=G(O=_=E.$syntax_highlighter())?_["$write_stylesheet?"](E):O,(G(t)||G(a)||G(v))&&(c=E.$normalize_system_path(q,F,G(R(E.$safe(),ve(We("SafeMode"),"SAFE")))?F:fe),G(ke)?We("Helpers").$mkdir_p(c):G(ve("File")["$directory?"](c))||T.$raise(ve("IOError"),"target stylesheet directory does not exist: "+c+" (hint: set :mkdirs option)"),G(t)?We("Stylesheets").$instance().$write_primary_stylesheet(c):G(a)&&(u(A=E.$attr("copycss"),"")||u(A,!0)?A=E.$normalize_system_path(l):A=E.$normalize_system_path(A.$to_s()),S=E.$normalize_system_path(l,c,G(R(E.$safe(),ve(We("SafeMode"),"SAFE")))?F:fe),ce(A,S)&&G(K=E.$read_asset(A,B(["warn_on_failure","label"],{warn_on_failure:ve("File")["$file?"](S)["$!"](),label:"stylesheet"})))&&(ce(j=ve("File").$dirname(S),c)&&we(ve("File")["$directory?"](j))&&(G(ke)?We("Helpers").$mkdir_p(j):T.$raise(ve("IOError"),"target stylesheet directory does not exist: "+j+" (hint: set :mkdirs option)")),ve("File").$write(S,K,B(["mode"],{mode:We("FILE_WRITE_MODE")})))),G(v)&&_.$write_stylesheet(E,c))),E):Y},-2),m(Ye,"$convert_file",function(Ve,rt){var T=this;return rt==null&&(rt=B([],{})),Ke(ve("File"),"open",[Ve,We("FILE_READ_MODE")],function k(ke){var O=k.$$s==null?this:k.$$s;return ke==null&&(ke=fe),O.$convert(ke,rt)},{$$s:T})},-2),se(Ye,"render","convert"),se(Ye,"render_file","convert_file")}(e.get_singleton_class(Oe),Ce)}(Fe[0],Fe)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){var U=e.module,B=e.klass,C=e.slice,G=e.send2,u=e.find_super,R=e.to_a,we=e.def,z=e.hash2,ce=e.send,m=e.truthy,Ke=e.return_val,se=e.eqeq,Fe=[],fe=e.nil,ve=e.$$$;return e.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(st,Se){var Oe=U(st,"Asciidoctor"),Ce=[Oe].concat(Se),Ye=e.$r(Ce);return function(it,b,We){var h=B(it,b,"HighlightJsAdapter"),Ve=[h].concat(We),rt=e.$r(Ve);return h.$register_for("highlightjs","highlight.js"),we(h,"$initialize",function T(k){var ke,O,ue=T.$$p||fe,ie=this;return T.$$p=null,ke=C(arguments),O=ke,G(ie,u(ie,"initialize",T,!1,!0),"initialize",R(O),ue),ie.name=ie.pre_class="highlightjs"},-1),we(h,"$format",function T(k,ke,O){T.$$p;var ue=this;return T.$$p=null,G(ue,u(ue,"format",T,!1,!0),"format",[k,ke,O.$merge(z(["transform"],{transform:ce(ue,"proc",[],function(H,X){var F,E=fe;return X==null&&(X=fe),F=["class","language-"+(m(E=ke)?E:"none")+" hljs"],ce(X,"[]=",F),F[F.length-1]})}))],null)}),we(h,"$docinfo?",Ke(!0)),we(h,"$docinfo",function(k,ke,O){var ue=fe;return ue=ke.$attr("highlightjsdir",""+O["$[]"]("cdn_base_url")+"/highlight.js/"+rt("HIGHLIGHT_JS_VERSION")),se(k,"head")?'<link rel="stylesheet" href="'+ue+"/styles/"+ke.$attr("highlightjs-theme","github")+'.min.css"'+O["$[]"]("self_closing_tag_slash")+">":'<script src="'+ue+`/highlight.min.js"><\/script>
`+(m(ke["$attr?"]("highlightjs-languages"))?ce(ke.$attr("highlightjs-languages").$split(","),"map",[],function(H){return H==null&&(H=fe),'<script src="'+ue+"/languages/"+H.$lstrip()+`.min.js"><\/script>
`}).$join():"")+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`})}(Ye("SyntaxHighlighter"),ve(Ye("SyntaxHighlighter"),"Base"),Ce)}(Fe[0],Fe)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){var U=e.module,B=e.hash2,C=e.def,G=e.return_val,u=e.defs,R=e.slice,we=e.send,z=e.to_a,ce=e.truthy,m=e.eqeqeq,Ke=e.Class,se=e.klass,Fe=e.class_variable_set,fe=e.class_variable_get,ve=e.top,st=[],Se=e.nil,Oe=e.$$$;return e.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(Ce,Ye){var it=U(Ce,"Asciidoctor"),b=[it].concat(Ye);return function(We,h){var Ve=U(We,"SyntaxHighlighter"),rt=[Ve].concat(h),T=e.$r(rt);return Ve.$attr_reader("name"),C(Ve,"$initialize",function(ke,O,ue){var ie=this;return ue==null&&(ue=B([],{})),ie.name=ie.pre_class=ke},-2),C(Ve,"$docinfo?",G(Se)),C(Ve,"$docinfo",function(ke,O,ue){var ie=this;return ie.$raise(Oe("NotImplementedError"),""+T("SyntaxHighlighter")+" subclass "+ie.$class()+" must implement the #docinfo method since #docinfo? returns true")}),C(Ve,"$highlight?",G(Se)),C(Ve,"$highlight",function(ke,O,ue,ie){var H=this;return H.$raise(Oe("NotImplementedError"),""+T("SyntaxHighlighter")+" subclass "+H.$class()+" must implement the #highlight method since #highlight? returns true")}),C(Ve,"$format",function(ke,O,ue){var ie=this;return ie.$raise(Oe("NotImplementedError"),""+T("SyntaxHighlighter")+" subclass "+ie.$class()+" must implement the #format method")}),C(Ve,"$write_stylesheet?",G(Se)),C(Ve,"$write_stylesheet",function(ke,O){var ue=this;return ue.$raise(Oe("NotImplementedError"),""+T("SyntaxHighlighter")+" subclass "+ue.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")}),u(Ve,"$included",function(ke){return ke.$extend(T("Config"))}),Ve.$private_class_method("included"),function(k,ke){var O=U(k,"Config"),ue=[O].concat(ke),ie=e.$r(ue);return C(O,"$register_for",function(X){var F,E,x=this;return F=R(arguments),E=F,we(ie("SyntaxHighlighter"),"register",[x].concat(z(we(E,"map",[],function(D){return D==null&&(D=Se),D.$to_s()}))))},-1)}(rt[0],rt),function(k,ke){var O=U(k,"Factory"),ue=[O].concat(ke),ie=e.$r(ue);return C(O,"$register",function(X,F){var E,x,M=this;return E=R(arguments,1),x=E,we(x,"each",[],function D(Y){var q,l=D.$$s==null?this:D.$$s;return Y==null&&(Y=Se),q=[Y,X],we(l.$registry(),"[]=",q),q[q.length-1]},{$$s:M})},-2),C(O,"$for",function(X){var F=this;return F.$registry()["$[]"](X)}),C(O,"$create",function(X,F,E){var x=this,M=Se;return F==null&&(F="html5"),E==null&&(E=B([],{})),ce(M=x.$for(X))?(m(Ke,M)&&(M=M.$new(X,F,E)),ce(M.$name())||x.$raise(Oe("NameError"),""+M.$class()+" must specify a value for `name'"),M):Se},-2),O.$private(),C(O,"$registry",function(){var X=this;return X.$raise(Oe("NotImplementedError"),""+ie("Factory")+" subclass "+X.$class()+" must implement the #registry method")})}(rt[0],rt),function(k,ke,O){var ue=se(k,ke,"CustomFactory"),ie=[ue].concat(O),H=e.$r(ie);return ue.$include(H("Factory")),C(ue,"$initialize",function(F){var E=this,x=Se;return F==null&&(F=Se),E.registry=ce(x=F)?x:B([],{})},-1),ue.$private(),ue.$attr_reader("registry")}(rt[0],null,rt),function(k,ke){var O=U(k,"DefaultFactory"),ue=[O].concat(ke),ie=e.$r(ue);return O.$include(ie("Factory")),Fe(ue[0],"@@registry",B([],{})),O.$private(),C(O,"$registry",function(){return fe(ue[0],"@@registry",!1)}),Se}(rt[0],rt),function(k,ke,O){var ue=se(k,ke,"DefaultFactoryProxy"),ie=[ue].concat(O),H=e.$r(ie);return ue.$include(H("DefaultFactory")),Se}(rt[0],T("CustomFactory"),rt),function(k,ke,O){var ue=se(k,ke,"Base"),ie=[ue].concat(O),H=e.$r(ie),X=ue.$$prototype;return X.pre_class=Se,ue.$include(H("SyntaxHighlighter")),C(ue,"$format",function(E,x,M){var D=this,Y=Se,q=Se,l=Se,t=Se;return Y=ce(M["$[]"]("nowrap"))?""+D.pre_class+" highlight nowrap":""+D.pre_class+" highlight",ce(q=M["$[]"]("transform"))?(q["$[]"](l=B(["class"],{class:Y}),t=ce(x)?B(["data-lang"],{"data-lang":x}):B([],{})),ce(x=t.$delete("data-lang"))&&t["$[]="]("data-lang",x),"<pre"+we(l,"map",[],function(v,_){return v==null&&(v=Se),_==null&&(_=Se)," "+v+'="'+_+'"'}).$join()+"><code"+we(t,"map",[],function(v,_){return v==null&&(v=Se),_==null&&(_=Se)," "+v+'="'+_+'"'}).$join()+">"+E.$content()+"</code></pre>"):'<pre class="'+Y+'"><code'+(ce(x)?' data-lang="'+x+'"':"")+">"+E.$content()+"</code></pre>"})}(rt[0],null,rt),Ve.$extend(T("DefaultFactory"))}(b[0],b)}(st[0],st),ve.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),Se},Opal.modules["asciidoctor/timings"]=function(e){var U=e.module,B=e.klass,C=e.hash2,G=e.def,u=e.send,R=e.rb_minus,we=e.slice,z=e.rb_plus,ce=e.truthy,m=e.rb_gt,Ke=e.gvars,se=e.eqeq,Fe=e.const_set,fe=[],ve=e.nil,st=e.$$$;return e.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(Se,Oe){var Ce=U(Se,"Asciidoctor"),Ye=[Ce].concat(Oe);return function(it,b,We){var h=B(it,b,"Timings"),Ve,rt,T,k,ke=[h].concat(We),O=e.$r(ke),ue=h.$$prototype;return ue.timers=ue.log=ve,G(h,"$initialize",function(){var H=this;return H.log=C([],{}),H.timers=C([],{})}),G(h,"$start",function(H){var X,F=this;return X=[H,F.$now()],u(F.timers,"[]=",X),X[X.length-1]}),G(h,"$record",function(H){var X,F=this;return X=[H,R(F.$now(),F.timers.$delete(H))],u(F.log,"[]=",X),X[X.length-1]}),G(h,"$time",function(H){var X,F,E=this,x=ve;return X=we(arguments),F=X,x=u(F,"reduce",[0],function M(D,Y){var q=M.$$s==null?this:M.$$s,l=ve;return q.log==null&&(q.log=ve),D==null&&(D=ve),Y==null&&(Y=ve),z(D,ce(l=q.log["$[]"](Y))?l:0)},{$$s:E}),ce(m(x,0))?x:ve},-1),G(h,"$read",function(){var H=this;return H.$time("read")}),G(h,"$parse",function(){var H=this;return H.$time("parse")}),G(h,"$read_parse",function(){var H=this;return H.$time("read","parse")}),G(h,"$convert",function(){var H=this;return H.$time("convert")}),G(h,"$read_parse_convert",function(){var H=this;return H.$time("read","parse","convert")}),G(h,"$write",function(){var H=this;return H.$time("write")}),G(h,"$total",function(){var H=this;return H.$time("read","parse","convert","write")}),G(h,"$print_report",function(H,X){var F=this;return Ke.stdout==null&&(Ke.stdout=ve),H==null&&(H=Ke.stdout),X==null&&(X=ve),ce(X)&&H.$puts("Input file: "+X),H.$puts("  Time to read and parse source: "+F.$sprintf("%05.5f",F.$read_parse().$to_f())),H.$puts("  Time to convert document: "+F.$sprintf("%05.5f",F.$convert().$to_f())),H.$puts("  Total time (read, parse and convert): "+F.$sprintf("%05.5f",F.$read_parse_convert().$to_f()))},-1),h.$private(),ce(st("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&se((Ve=st("::","Process","skip_raise"))&&(rt=Ve,rt)&&(T=rt)&&((k=T.$clock_gettime)&&!k.$$stub||T["$respond_to_missing?"]("clock_gettime"))?"method":ve,"method")?(Fe(ke[0],"CLOCK_ID",st(st("Process"),"CLOCK_MONOTONIC")),G(h,"$now",function(){return st("Process").$clock_gettime(O("CLOCK_ID"))})):G(h,"$now",function(){return st("Time").$now()})}(Ye[0],null,Ye)}(fe[0],fe)},Opal.modules["asciidoctor/converter/html5"]=function(e){var U=e.module,B=e.klass,C=e.const_set,G=e.hash2,u=e.regexp,R=e.eqeq,we=e.def,z=e.send2,ce=e.find_super,m=e.truthy,Ke=e.send,se=e.rb_gt,Fe=e.rb_plus,fe=e.not,ve=e.neqeq,st=e.rb_le,Se=e.rb_lt,Oe=e.to_ary,Ce=e.rb_times,Ye=e.rb_minus,it=e.gvars,b=e.return_val,We=e.alias,h=e.eqeqeq,Ve=e.slice,rt=e.to_a,T=[],k=e.nil,ke=e.$$$;return e.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(O,ue){var ie=U(O,"Asciidoctor"),H=[ie].concat(ue),X=e.$r(H);return function(F,E,x){var M=B(F,E,"Html5Converter"),D=[M].concat(x),Y=e.$r(D),q=M.$$prototype;return q.void_element_slash=q.xml_mode=q.refs=q.resolving_xref=k,M.$register_for("html5"),C(D[0],"QUOTE_TAGS",G(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),C(D[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),C(D[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),C(D[0],"SvgPreambleRx",u(["^",Y("CC_ALL"),"*?(?=<svg[\\s>])"])),C(D[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),C(D[0],"DimensionAttributeRx",u([`\\s(?:width|height|style)=(["'])`,Y("CC_ANY"),"*?\\1"])),we(M,"$initialize",function(t,a){var v=this,_=k;return a==null&&(a=G([],{})),v.backend=t,R(a["$[]"]("htmlsyntax"),"xml")?(_="xml",v.xml_mode=!0,v.void_element_slash="/"):(_="html",v.xml_mode=k,v.void_element_slash=""),v.$init_backend_traits(G(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:_,outfilesuffix:".html",supports_templates:!0}))},-2),we(M,"$convert",function l(t,a,v){var _=l.$$p||k,c=this;switch(l.$$p=null,a==null&&(a=t.$node_name()),v==null&&(v=k),a){case"inline_quoted":return c.$convert_inline_quoted(t);case"paragraph":return c.$convert_paragraph(t);case"inline_anchor":return c.$convert_inline_anchor(t);case"section":return c.$convert_section(t);case"listing":return c.$convert_listing(t);case"literal":return c.$convert_literal(t);case"ulist":return c.$convert_ulist(t);case"olist":return c.$convert_olist(t);case"dlist":return c.$convert_dlist(t);case"admonition":return c.$convert_admonition(t);case"colist":return c.$convert_colist(t);case"embedded":return c.$convert_embedded(t);case"example":return c.$convert_example(t);case"floating_title":return c.$convert_floating_title(t);case"image":return c.$convert_image(t);case"inline_break":return c.$convert_inline_break(t);case"inline_button":return c.$convert_inline_button(t);case"inline_callout":return c.$convert_inline_callout(t);case"inline_footnote":return c.$convert_inline_footnote(t);case"inline_image":return c.$convert_inline_image(t);case"inline_indexterm":return c.$convert_inline_indexterm(t);case"inline_kbd":return c.$convert_inline_kbd(t);case"inline_menu":return c.$convert_inline_menu(t);case"open":return c.$convert_open(t);case"page_break":return c.$convert_page_break(t);case"preamble":return c.$convert_preamble(t);case"quote":return c.$convert_quote(t);case"sidebar":return c.$convert_sidebar(t);case"stem":return c.$convert_stem(t);case"table":return c.$convert_table(t);case"thematic_break":return c.$convert_thematic_break(t);case"verse":return c.$convert_verse(t);case"video":return c.$convert_video(t);case"document":return c.$convert_document(t);case"toc":return c.$convert_toc(t);case"pass":return c.$convert_pass(t);case"audio":return c.$convert_audio(t);default:return z(c,ce(c,"convert",l,!1,!0),"convert",[t,a,v],_)}},-2),we(M,"$convert_document",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k,Ze=k,$t=k,et=k,at=k,ct=k,ft=k,ut=k,ht=k,dt=k,At=k,yt=k,It=k,St=k,wt=k,Et=k;return v="<br"+(_=a.void_element_slash)+">",m((c=t.$attr("asset-uri-scheme","https"))["$empty?"]())||(c=""+c+":"),A=""+c+"//cdnjs.cloudflare.com/ajax/libs",S=t["$attr?"]("linkcss"),K=m(t["$attr?"]("max-width"))?' style="max-width: '+t.$attr("max-width")+';"':"",j=["<!DOCTYPE html>"],ee=m(t["$attr?"]("nolang"))?"":' lang="'+t.$attr("lang","en")+'"',j["$<<"]("<html"+(m(a.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+ee+">"),j["$<<"](`<head>
<meta charset="`+t.$attr("encoding","UTF-8")+'"'+_+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+_+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+_+`>
<meta name="generator" content="Asciidoctor `+t.$attr("asciidoctor-version")+'"'+_+">"),m(t["$attr?"]("app-name"))&&j["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+_+">"),m(t["$attr?"]("description"))&&j["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+_+">"),m(t["$attr?"]("keywords"))&&j["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+_+">"),m(t["$attr?"]("authors"))&&j["$<<"]('<meta name="author" content="'+(m((he=t.$sub_replacements(t.$attr("authors")))["$include?"]("<"))?he.$gsub(Y("XmlSanitizeRx"),""):he)+'"'+_+">"),m(t["$attr?"]("copyright"))&&j["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+_+">"),m(t["$attr?"]("favicon"))&&(m((Me=t.$attr("favicon"))["$empty?"]())?(Me="favicon.ico",Ze="image/x-icon"):m($t=Y("Helpers").$extname(Me,k))?Ze=R($t,".ico")?"image/x-icon":"image/"+$t.$slice(1,$t.$length()):Ze="image/x-icon",j["$<<"]('<link rel="icon" type="'+Ze+'" href="'+Me+'"'+_+">")),j["$<<"]("<title>"+t.$doctitle(G(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),m(Y("DEFAULT_STYLESHEET_KEYS")["$include?"](t.$attr("stylesheet")))?(m(et=t.$attr("webfonts"))&&j["$<<"]('<link rel="stylesheet" href="'+c+"//fonts.googleapis.com/css?family="+(m(et["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":et)+'"'+_+">"),m(S)?j["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(Y("DEFAULT_STYLESHEET_NAME"),t.$attr("stylesdir",""),!1)+'"'+_+">"):j["$<<"](`<style>
`+Y("Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):m(t["$attr?"]("stylesheet"))&&(m(S)?j["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+_+">"):j["$<<"](`<style>
`+t.$read_contents(t.$attr("stylesheet"),G(["start","warn_on_failure","label"],{start:t.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),m(t["$attr?"]("icons","font"))&&(m(t["$attr?"]("iconfont-remote"))?j["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",""+A+"/font-awesome/"+Y("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+_+">"):(at=""+t.$attr("iconfont-name","font-awesome")+".css",j["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(at,t.$attr("stylesdir",""),!1)+'"'+_+">"))),m(ct=t.$syntax_highlighter())&&j["$<<"](ft=j.$size()),m((ut=t.$docinfo())["$empty?"]())||j["$<<"](ut),j["$<<"]("</head>"),ht=m(t.$id())?' id="'+t.$id()+'"':"",m(dt=t["$sections?"]())&&m(t["$attr?"]("toc-class"))&&m(t["$attr?"]("toc"))&&m(t["$attr?"]("toc-placement","auto"))?At=[t.$doctype(),t.$attr("toc-class"),"toc-"+t.$attr("toc-position","header")]:At=[t.$doctype()],m(t["$role?"]())&&At["$<<"](t.$role()),j["$<<"]("<body"+ht+' class="'+At.$join(" ")+'">'),m((ut=t.$docinfo("header"))["$empty?"]())||j["$<<"](ut),m(t.$noheader())||(j["$<<"]('<div id="header"'+K+">"),R(t.$doctype(),"manpage")?(j["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),m(dt)&&m(t["$attr?"]("toc"))&&m(t["$attr?"]("toc-placement","auto"))&&j["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+`">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`),m(t["$attr?"]("manpurpose"))&&j["$<<"](a.$generate_manname_section(t))):(m(t["$header?"]())&&(m(t.$notitle())||j["$<<"]("<h1>"+t.$header().$title()+"</h1>"),yt=[],It=1,Ke(t.$authors(),"each",[],function(zt){return zt==null&&(zt=k),yt["$<<"]('<span id="author'+(m(se(It,1))?It:"")+'" class="author">'+t.$sub_replacements(zt.$name())+"</span>"+v),m(zt.$email())&&yt["$<<"]('<span id="email'+(m(se(It,1))?It:"")+'" class="email">'+t.$sub_macros(zt.$email())+"</span>"+v),It=Fe(It,1)}),m(t["$attr?"]("revnumber"))&&yt["$<<"]('<span id="revnumber">'+(m(St=t.$attr("version-label"))?St:"").$downcase()+" "+t.$attr("revnumber")+(m(t["$attr?"]("revdate"))?",":"")+"</span>"),m(t["$attr?"]("revdate"))&&yt["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),m(t["$attr?"]("revremark"))&&yt["$<<"](""+v+'<span id="revremark">'+t.$attr("revremark")+"</span>"),m(yt["$empty?"]())||(j["$<<"]('<div class="details">'),j.$concat(yt),j["$<<"]("</div>"))),m(dt)&&m(t["$attr?"]("toc"))&&m(t["$attr?"]("toc-placement","auto"))&&j["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+`">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`)),j["$<<"]("</div>")),j["$<<"]('<div id="content"'+K+`>
`+t.$content()+`
</div>`),m(t["$footnotes?"]())&&fe(t["$attr?"]("nofootnotes"))&&(j["$<<"]('<div id="footnotes"'+K+`>
<hr`+_+">"),Ke(t.$footnotes(),"each",[],function(zt){return zt==null&&(zt=k),j["$<<"]('<div class="footnote" id="_footnotedef_'+zt.$index()+`">
<a href="#_footnoteref_`+zt.$index()+'">'+zt.$index()+"</a>. "+zt.$text()+`
</div>`)}),j["$<<"]("</div>")),m(t.$nofooter())||(j["$<<"]('<div id="footer"'+K+">"),j["$<<"]('<div id="footer-text">'),m(t["$attr?"]("revnumber"))&&j["$<<"](""+t.$attr("version-label")+" "+t.$attr("revnumber")+v),m(t["$attr?"]("last-update-label"))&&fe(t["$attr?"]("reproducible"))&&j["$<<"](""+t.$attr("last-update-label")+" "+t.$attr("docdatetime")),j["$<<"]("</div>"),j["$<<"]("</div>")),m(ct)&&(m(ct["$docinfo?"]("head"))?j["$[]="](ft,ct.$docinfo("head",t,G(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:A,linkcss:S,self_closing_tag_slash:_}))):j.$delete_at(ft),m(ct["$docinfo?"]("footer"))&&j["$<<"](ct.$docinfo("footer",t,G(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:A,linkcss:S,self_closing_tag_slash:_})))),m(t["$attr?"]("stem"))&&(wt=t.$attr("eqnums","none"),m(wt["$empty?"]())&&(wt="AMS"),Et=' equationNumbers: { autoNumber: "'+wt+'" } ',j["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+Y("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+Y("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+Y("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+Et+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+A+"/mathjax/"+Y("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),m((ut=t.$docinfo("footer"))["$empty?"]())||j["$<<"](ut),j["$<<"]("</body>"),j["$<<"]("</html>"),j.$join(Y("LF"))}),we(M,"$convert_embedded",function(t){var a=this,v=k,_=k,c=k;return v=[],R(t.$doctype(),"manpage")?(m(t.$notitle())||(_=m(t.$id())?' id="'+t.$id()+'"':"",v["$<<"]("<h1"+_+">"+t.$doctitle()+" Manual Page</h1>")),m(t["$attr?"]("manpurpose"))&&v["$<<"](a.$generate_manname_section(t))):m(t["$header?"]())&&fe(t.$notitle())&&(_=m(t.$id())?' id="'+t.$id()+'"':"",v["$<<"]("<h1"+_+">"+t.$header().$title()+"</h1>")),m(t["$sections?"]())&&m(t["$attr?"]("toc"))&&ve(c=t.$attr("toc-placement"),"macro")&&ve(c,"preamble")&&v["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`),v["$<<"](t.$content()),m(t["$footnotes?"]())&&fe(t["$attr?"]("nofootnotes"))&&(v["$<<"](`<div id="footnotes">
<hr`+a.void_element_slash+">"),Ke(t.$footnotes(),"each",[],function(S){return S==null&&(S=k),v["$<<"]('<div class="footnote" id="_footnotedef_'+S.$index()+`">
<a href="#_footnoteref_`+S.$index()+'">'+S.$index()+"</a>. "+S.$text()+`
</div>`)}),v["$<<"]("</div>")),v.$join(Y("LF"))}),we(M,"$convert_outline",function(t,a){var v=this,_=k,c=k,A=k,S=k,K=k,j=k;return a==null&&(a=G([],{})),m(t["$sections?"]())?(_=m(c=a["$[]"]("sectnumlevels"))?c:(m(A=t.$document().$attributes()["$[]"]("sectnumlevels"))?A:3).$to_i(),S=m(c=a["$[]"]("toclevels"))?c:(m(A=t.$document().$attributes()["$[]"]("toclevels"))?A:2).$to_i(),K=t.$sections(),j=['<ul class="sectlevel'+K["$[]"](0).$level()+'">'],Ke(K,"each",[],function ee(he){var Me=ee.$$s==null?this:ee.$$s,Ze=k,$t=k,et=k,at=k;if(he==null&&(he=k),Ze=he.$level(),m(he.$caption()))$t=he.$captioned_title();else if(m(he.$numbered())&&m(st(Ze,_)))if(m(Se(Ze,2))&&R(t.$document().$doctype(),"book"))switch(he.$sectname()){case"chapter":$t=(m(et=t.$document().$attributes()["$[]"]("chapter-signifier"))?""+et+" ":"")+he.$sectnum()+" "+he.$title();break;case"part":$t=(m(et=t.$document().$attributes()["$[]"]("part-signifier"))?""+et+" ":"")+he.$sectnum(k,":")+" "+he.$title();break;default:$t=""+he.$sectnum()+" "+he.$title()}else $t=""+he.$sectnum()+" "+he.$title();else $t=he.$title();return m($t["$include?"]("<a"))&&($t=$t.$gsub(Y("DropAnchorRx"),"")),m(Se(Ze,S))&&m(at=Me.$convert_outline(he,G(["toclevels","sectnumlevels"],{toclevels:S,sectnumlevels:_})))?(j["$<<"]('<li><a href="#'+he.$id()+'">'+$t+"</a>"),j["$<<"](at),j["$<<"]("</li>")):j["$<<"]('<li><a href="#'+he.$id()+'">'+$t+"</a></li>")},{$$s:v}),j["$<<"]("</ul>"),j.$join(Y("LF"))):k},-2),we(M,"$convert_section",function(t){var a=k,v=k,_=k,c=k,A=k,S=k,K=k,j=k;if(a=t.$document().$attributes(),v=t.$level(),m(t.$caption()))_=t.$captioned_title();else if(m(t.$numbered())&&m(st(v,(m(c=a["$[]"]("sectnumlevels"))?c:3).$to_i())))if(m(Se(v,2))&&R(t.$document().$doctype(),"book"))switch(t.$sectname()){case"chapter":_=(m(A=a["$[]"]("chapter-signifier"))?""+A+" ":"")+t.$sectnum()+" "+t.$title();break;case"part":_=(m(A=a["$[]"]("part-signifier"))?""+A+" ":"")+t.$sectnum(k,":")+" "+t.$title();break;default:_=""+t.$sectnum()+" "+t.$title()}else _=""+t.$sectnum()+" "+t.$title();else _=t.$title();return m(t.$id())?(S=' id="'+(K=t.$id())+'"',m(a["$[]"]("sectlinks"))&&(_='<a class="link" href="#'+K+'">'+_+"</a>"),m(a["$[]"]("sectanchors"))&&(R(a["$[]"]("sectanchors"),"after")?_=""+_+'<a class="anchor" href="#'+K+'"></a>':_='<a class="anchor" href="#'+K+'"></a>'+_)):S="",R(v,0)?"<h1"+S+' class="sect0'+(m(j=t.$role())?" "+j:"")+'">'+_+`</h1>
`+t.$content():'<div class="sect'+v+(m(j=t.$role())?" "+j:"")+`">
<h`+Fe(v,1)+S+">"+_+"</h"+Fe(v,1)+`>
`+(R(v,1)?`<div class="sectionbody">
`+t.$content()+`
</div>`:t.$content())+`
</div>`}),we(M,"$convert_admonition",function(t){var a=this,v=k,_=k,c=k,A=k,S=k;return v=m(t.$id())?' id="'+t.$id()+'"':"",_=t.$attr("name"),c=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",m(t.$document()["$attr?"]("icons"))?m(t.$document()["$attr?"]("icons","font"))&&fe(t["$attr?"]("icon"))?A='<i class="fa icon-'+_+'" title="'+t.$attr("textlabel")+'"></i>':A='<img src="'+t.$icon_uri(_)+'" alt="'+t.$attr("textlabel")+'"'+a.void_element_slash+">":A='<div class="title">'+t.$attr("textlabel")+"</div>","<div"+v+' class="admonitionblock '+_+(m(S=t.$role())?" "+S:"")+`">
<table>
<tr>
<td class="icon">
`+A+`
</td>
<td class="content">
`+c+t.$content()+`
</td>
</tr>
</table>
</div>`}),we(M,"$convert_audio",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;return v=a.xml_mode,_=m(t.$id())?' id="'+t.$id()+'"':"",c=["audioblock",t.$role()].$compact(),A=' class="'+c.$join(" ")+'"',S=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",K=t.$attr("start"),j=t.$attr("end"),ee=m(K)||m(j)?"#t="+(m(he=K)?he:"")+(m(j)?","+j:""):"","<div"+_+A+`>
`+S+`<div class="content">
<audio src="`+t.$media_uri(t.$attr("target"))+ee+'"'+(m(t["$option?"]("autoplay"))?a.$append_boolean_attribute("autoplay",v):"")+(m(t["$option?"]("nocontrols"))?"":a.$append_boolean_attribute("controls",v))+(m(t["$option?"]("loop"))?a.$append_boolean_attribute("loop",v):"")+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`}),we(M,"$convert_colist",function(t){var a,v=this,_=k,c=k,A=k,S=k,K=k,j=k;return _=[],c=m(t.$id())?' id="'+t.$id()+'"':"",A=["colist",t.$style(),t.$role()].$compact(),S=' class="'+A.$join(" ")+'"',_["$<<"]("<div"+c+S+">"),m(t["$title?"]())&&_["$<<"]('<div class="title">'+t.$title()+"</div>"),m(t.$document()["$attr?"]("icons"))?(_["$<<"]("<table>"),a=[t.$document()["$attr?"]("icons","font"),0],K=a[0],j=a[1],Ke(t.$items(),"each",[],function ee(he){var Me=ee.$$s==null?this:ee.$$s,Ze=k;return Me.void_element_slash==null&&(Me.void_element_slash=k),he==null&&(he=k),j=Fe(j,1),m(K)?Ze='<i class="conum" data-value="'+j+'"></i><b>'+j+"</b>":Ze='<img src="'+t.$icon_uri("callouts/"+j)+'" alt="'+j+'"'+Me.void_element_slash+">",_["$<<"](`<tr>
<td>`+Ze+`</td>
<td>`+he.$text()+(m(he["$blocks?"]())?Fe(Y("LF"),he.$content()):"")+`</td>
</tr>`)},{$$s:v}),_["$<<"]("</table>")):(_["$<<"]("<ol>"),Ke(t.$items(),"each",[],function(he){return he==null&&(he=k),_["$<<"](`<li>
<p>`+he.$text()+"</p>"+(m(he["$blocks?"]())?Fe(Y("LF"),he.$content()):"")+`
</li>`)}),_["$<<"]("</ol>")),_["$<<"]("</div>"),_.$join(Y("LF"))}),we(M,"$convert_dlist",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k;switch(v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",t.$style()){case"qanda":c=["qlist","qanda",t.$role()];break;case"horizontal":c=["hdlist",t.$role()];break;default:c=["dlist",t.$style(),t.$role()]}switch(A=' class="'+c.$compact().$join(" ")+'"',v["$<<"]("<div"+_+A+">"),m(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),t.$style()){case"qanda":v["$<<"]("<ol>"),Ke(t.$items(),"each",[],function(he,Me){return he==null&&(he=k),Me==null&&(Me=k),v["$<<"]("<li>"),Ke(he,"each",[],function($t){return $t==null&&($t=k),v["$<<"]("<p><em>"+$t.$text()+"</em></p>")}),m(Me)&&(m(Me["$text?"]())&&v["$<<"]("<p>"+Me.$text()+"</p>"),m(Me["$blocks?"]())&&v["$<<"](Me.$content())),v["$<<"]("</li>")}),v["$<<"]("</ol>");break;case"horizontal":S=a.void_element_slash,v["$<<"]("<table>"),(m(t["$attr?"]("labelwidth"))||m(t["$attr?"]("itemwidth")))&&(v["$<<"]("<colgroup>"),K=m(t["$attr?"]("labelwidth"))?' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"':"",v["$<<"]("<col"+K+S+">"),K=m(t["$attr?"]("itemwidth"))?' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"':"",v["$<<"]("<col"+K+S+">"),v["$<<"]("</colgroup>")),Ke(t.$items(),"each",[],function(he,Me){var Ze=k;return he==null&&(he=k),Me==null&&(Me=k),v["$<<"]("<tr>"),v["$<<"]('<td class="hdlist1'+(m(t["$option?"]("strong"))?" strong":"")+'">'),Ze=!0,Ke(he,"each",[],function(et){return et==null&&(et=k),m(Ze)||v["$<<"]("<br"+S+">"),v["$<<"](et.$text()),Ze=k}),v["$<<"]("</td>"),v["$<<"]('<td class="hdlist2">'),m(Me)&&(m(Me["$text?"]())&&v["$<<"]("<p>"+Me.$text()+"</p>"),m(Me["$blocks?"]())&&v["$<<"](Me.$content())),v["$<<"]("</td>"),v["$<<"]("</tr>")}),v["$<<"]("</table>");break;default:v["$<<"]("<dl>"),j=m(t.$style())?"":' class="hdlist1"',Ke(t.$items(),"each",[],function(he,Me){return he==null&&(he=k),Me==null&&(Me=k),Ke(he,"each",[],function($t){return $t==null&&($t=k),v["$<<"]("<dt"+j+">"+$t.$text()+"</dt>")}),m(Me)?(v["$<<"]("<dd>"),m(Me["$text?"]())&&v["$<<"]("<p>"+Me.$text()+"</p>"),m(Me["$blocks?"]())&&v["$<<"](Me.$content()),v["$<<"]("</dd>")):k}),v["$<<"]("</dl>")}return v["$<<"]("</div>"),v.$join(Y("LF"))}),we(M,"$convert_example",function(t){var a=k,v=k,_=k,c=k,A=k;return a=m(t.$id())?' id="'+t.$id()+'"':"",m(t["$option?"]("collapsible"))?(v=m(t.$role())?' class="'+t.$role()+'"':"",_=m(t["$title?"]())?'<summary class="title">'+t.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+a+v+(m(t["$option?"]("open"))?" open":"")+`>
`+_+`
<div class="content">
`+t.$content()+`
</div>
</details>`):(c=m(t["$title?"]())?'<div class="title">'+t.$captioned_title()+`</div>
`:"","<div"+a+' class="exampleblock'+(m(A=t.$role())?" "+A:"")+`">
`+c+`<div class="content">
`+t.$content()+`
</div>
</div>`)}),we(M,"$convert_floating_title",function(t){var a=k,v=k,_=k;return a="h"+Fe(t.$level(),1),v=m(t.$id())?' id="'+t.$id()+'"':"",_=[t.$style(),t.$role()].$compact(),"<"+a+v+' class="'+_.$join(" ")+'">'+t.$title()+"</"+a+">"}),we(M,"$convert_image",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k;return v=t.$attr("target"),_=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",c=m(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",(m(t["$attr?"]("format","svg"))||m(v["$include?"](".svg")))&&m(Se(t.$document().$safe(),ke(Y("SafeMode"),"SECURE")))?m(t["$option?"]("inline"))?A=m(S=a.$read_svg_contents(t,v))?S:'<span class="alt">'+t.$alt()+"</span>":m(t["$option?"]("interactive"))?(K=m(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+c+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",A='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+_+c+">"+K+"</object>"):A='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+c+a.void_element_slash+">":A='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+c+a.void_element_slash+">",m(t["$attr?"]("link"))&&(A='<a class="image" href="'+t.$attr("link")+'"'+a.$append_link_constraint_attrs(t).$join()+">"+A+"</a>"),j=m(t.$id())?' id="'+t.$id()+'"':"",ee=["imageblock"],m(t["$attr?"]("float"))&&ee["$<<"](t.$attr("float")),m(t["$attr?"]("align"))&&ee["$<<"]("text-"+t.$attr("align")),m(t.$role())&&ee["$<<"](t.$role()),he=' class="'+ee.$join(" ")+'"',Me=m(t["$title?"]())?`
<div class="title">`+t.$captioned_title()+"</div>":"","<div"+j+he+`>
<div class="content">
`+A+`
</div>`+Me+`
</div>`}),we(M,"$convert_listing",function(t){var a=k,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k;return a=m(v=t["$option?"]("nowrap"))?v:t.$document()["$attr?"]("prewrap")["$!"](),R(t.$style(),"source")?(_=t.$attr("language"),m(c=t.$document().$syntax_highlighter())?(A=m(c["$highlight?"]())?G(["css_mode","style"],{css_mode:(m(v=(S=t.$document().$attributes())["$[]"](""+c.$name()+"-css"))?v:"class").$to_sym(),style:S["$[]"](""+c.$name()+"-style")}):G([],{}),A["$[]="]("nowrap",a)):(K='<pre class="highlight'+(m(a)?" nowrap":"")+'"><code'+(m(_)?' class="language-'+_+'" data-lang="'+_+'"':"")+">",j="</code></pre>")):(K="<pre"+(m(a)?' class="nowrap"':"")+">",j="</pre>"),ee=m(t.$id())?' id="'+t.$id()+'"':"",he=m(t["$title?"]())?'<div class="title">'+t.$captioned_title()+`</div>
`:"","<div"+ee+' class="listingblock'+(m(Me=t.$role())?" "+Me:"")+`">
`+he+`<div class="content">
`+(m(c)?c.$format(t,_,A):Fe(Fe(K,t.$content()),j))+`
</div>
</div>`}),we(M,"$convert_literal",function(t){var a=k,v=k,_=k,c=k,A=k;return a=m(t.$id())?' id="'+t.$id()+'"':"",v=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",_=m(c=t.$document()["$attr?"]("prewrap")["$!"]())?c:t["$option?"]("nowrap"),"<div"+a+' class="literalblock'+(m(A=t.$role())?" "+A:"")+`">
`+v+`<div class="content">
<pre`+(m(_)?' class="nowrap"':"")+">"+t.$content()+`</pre>
</div>
</div>`}),we(M,"$convert_stem",function(t){var a,v,_=this,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k;return c=m(t.$id())?' id="'+t.$id()+'"':"",A=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",v=Y("BLOCK_MATH_DELIMITERS")["$[]"](S=t.$style().$to_sym()),a=Oe(v),K=a[0]==null?k:a[0],j=a[1]==null?k:a[1],m(ee=t.$content())?(R(S,"asciimath")&&m(ee["$include?"](Y("LF")))&&(he=""+Y("LF")+"<br"+_.void_element_slash+">",ee=Ke(ee,"gsub",[Y("StemBreakRx")],function(){var $t;return""+j+Ce(he,Ye((($t=it["~"])===k?k:$t["$[]"](0)).$count(Y("LF")),1))+Y("LF")+K})),m(ee["$start_with?"](K))&&m(ee["$end_with?"](j))||(ee=""+K+ee+j)):ee="","<div"+c+' class="stemblock'+(m(Me=t.$role())?" "+Me:"")+`">
`+A+`<div class="content">
`+ee+`
</div>
</div>`}),we(M,"$convert_olist",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k;return v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",c=["olist",t.$style(),t.$role()].$compact(),A=' class="'+c.$join(" ")+'"',v["$<<"]("<div"+_+A+">"),m(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),S=m(K=t.$list_marker_keyword())?' type="'+K+'"':"",j=m(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",ee=m(t["$option?"]("reversed"))?a.$append_boolean_attribute("reversed",a.xml_mode):"",v["$<<"]('<ol class="'+t.$style()+'"'+S+j+ee+">"),Ke(t.$items(),"each",[],function(Me){return Me==null&&(Me=k),m(Me.$id())?v["$<<"]('<li id="'+Me.$id()+'"'+(m(Me.$role())?' class="'+Me.$role()+'"':"")+">"):m(Me.$role())?v["$<<"]('<li class="'+Me.$role()+'">'):v["$<<"]("<li>"),v["$<<"]("<p>"+Me.$text()+"</p>"),m(Me["$blocks?"]())&&v["$<<"](Me.$content()),v["$<<"]("</li>")}),v["$<<"]("</ol>"),v["$<<"]("</div>"),v.$join(Y("LF"))}),we(M,"$convert_open",function(t){var a=this,v=k,_=k,c=k,A=k;return R(v=t.$style(),"abstract")?R(t.$parent(),t.$document())&&R(t.$document().$doctype(),"book")?(a.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(_=m(t.$id())?' id="'+t.$id()+'"':"",c=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+_+' class="quoteblock abstract'+(m(A=t.$role())?" "+A:"")+`">
`+c+`<blockquote>
`+t.$content()+`
</blockquote>
</div>`):R(v,"partintro")&&(m(se(t.$level(),0))||ve(t.$parent().$context(),"section")||ve(t.$document().$doctype(),"book"))?(a.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(_=m(t.$id())?' id="'+t.$id()+'"':"",c=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+_+' class="openblock'+(m(v)&&ve(v,"open")?" "+v:"")+(m(A=t.$role())?" "+A:"")+`">
`+c+`<div class="content">
`+t.$content()+`
</div>
</div>`)}),we(M,"$convert_page_break",b('<div style="page-break-after: always;"></div>')),we(M,"$convert_paragraph",function(t){var a=k;return m(t.$role())?a=(m(t.$id())?' id="'+t.$id()+'"':"")+' class="paragraph '+t.$role()+'"':m(t.$id())?a=' id="'+t.$id()+'" class="paragraph"':a=' class="paragraph"',m(t["$title?"]())?"<div"+a+`>
<div class="title">`+t.$title()+`</div>
<p>`+t.$content()+`</p>
</div>`:"<div"+a+`>
<p>`+t.$content()+`</p>
</div>`}),We(M,"convert_pass","content_only"),we(M,"$convert_preamble",function(t){var a=k,v=k;return m((a=t.$document())["$attr?"]("toc-placement","preamble"))&&m(a["$sections?"]())&&m(a["$attr?"]("toc"))?v=`
<div id="toc" class="`+a.$attr("toc-class","toc")+`">
<div id="toctitle">`+a.$attr("toc-title")+`</div>
`+a.$converter().$convert(a,"outline")+`
</div>`:v="",`<div id="preamble">
<div class="sectionbody">
`+t.$content()+`
</div>`+v+`
</div>`}),we(M,"$convert_quote",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;return v=m(t.$id())?' id="'+t.$id()+'"':"",_=["quoteblock",t.$role()].$compact(),c=' class="'+_.$join(" ")+'"',A=m(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",S=m(t["$attr?"]("attribution"))?t.$attr("attribution"):k,K=m(t["$attr?"]("citetitle"))?t.$attr("citetitle"):k,m(S)||m(K)?(j=m(K)?"<cite>"+K+"</cite>":"",ee=m(S)?"&#8212; "+S+(m(K)?"<br"+a.void_element_slash+`>
`:""):"",he=`
<div class="attribution">
`+ee+j+`
</div>`):he="","<div"+v+c+">"+A+`
<blockquote>
`+t.$content()+`
</blockquote>`+he+`
</div>`}),we(M,"$convert_thematic_break",function(t){var a=this;return"<hr"+a.void_element_slash+">"}),we(M,"$convert_sidebar",function(t){var a=k,v=k,_=k;return a=m(t.$id())?' id="'+t.$id()+'"':"",v=m(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+a+' class="sidebarblock'+(m(_=t.$role())?" "+_:"")+`">
<div class="content">
`+v+t.$content()+`
</div>
</div>`}),we(M,"$convert_table",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k,Ze=k;return v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",R(c=t.$attr("frame","all","table-frame"),"topbot")&&(c="ends"),A=["tableblock","frame-"+c,"grid-"+t.$attr("grid","all","table-grid")],m(S=t.$attr("stripes",k,"table-stripes"))&&A["$<<"]("stripes-"+S),K="",m(j=t["$option?"]("autowidth"))&&fe(t["$attr?"]("width"))?A["$<<"]("fit-content"):R(ee=t.$attr("tablepcwidth"),100)?A["$<<"]("stretch"):K=' style="width: '+ee+'%;"',m(t["$attr?"]("float"))&&A["$<<"](t.$attr("float")),m(he=t.$role())&&A["$<<"](he),Me=' class="'+A.$join(" ")+'"',v["$<<"]("<table"+_+Me+K+">"),m(t["$title?"]())&&v["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),m(se(t.$attr("rowcount"),0))&&(Ze=a.void_element_slash,v["$<<"]("<colgroup>"),m(j)?v=Fe(v,Y("Array").$new(t.$columns().$size(),"<col"+Ze+">")):Ke(t.$columns(),"each",[],function(et){return et==null&&(et=k),v["$<<"](m(et["$option?"]("autowidth"))?"<col"+Ze+">":'<col style="width: '+et.$attr("colpcwidth")+'%;"'+Ze+">")}),v["$<<"]("</colgroup>"),Ke(t.$rows().$to_h(),"each",[],function(et,at){return et==null&&(et=k),at==null&&(at=k),m(at["$empty?"]())?k:(v["$<<"]("<t"+et+">"),Ke(at,"each",[],function(ft){return ft==null&&(ft=k),v["$<<"]("<tr>"),Ke(ft,"each",[],function(ht){var dt=k,At=k,yt=k,It=k,St=k,wt=k;if(ht==null&&(ht=k),R(et,"head"))dt=ht.$text();else switch(ht.$style()){case"asciidoc":dt='<div class="content">'+ht.$content()+"</div>";break;case"literal":dt='<div class="literal"><pre>'+ht.$text()+"</pre></div>";break;default:dt=m((dt=ht.$content())["$empty?"]())?"":'<p class="tableblock">'+dt.$join(`</p>
<p class="tableblock">`)+"</p>"}return At=R(et,"head")||R(ht.$style(),"header")?"th":"td",yt=' class="tableblock halign-'+ht.$attr("halign")+" valign-"+ht.$attr("valign")+'"',It=m(ht.$colspan())?' colspan="'+ht.$colspan()+'"':"",St=m(ht.$rowspan())?' rowspan="'+ht.$rowspan()+'"':"",wt=m(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",v["$<<"]("<"+At+yt+It+St+wt+">"+dt+"</"+At+">")}),v["$<<"]("</tr>")}),v["$<<"]("</t"+et+">"))})),v["$<<"]("</table>"),v.$join(Y("LF"))}),we(M,"$convert_toc",function(t){var a=k,v=k,_=k,c=k,A=k,S=k;return m((a=t.$document())["$attr?"]("toc-placement","macro"))&&m(a["$sections?"]())&&m(a["$attr?"]("toc"))?(m(t.$id())?(v=' id="'+t.$id()+'"',_=' id="'+t.$id()+'title"'):(v=' id="toc"',_=' id="toctitle"'),c=m(t["$title?"]())?t.$title():a.$attr("toc-title"),A=m(t["$attr?"]("levels"))?t.$attr("levels").$to_i():k,S=m(t["$role?"]())?t.$role():a.$attr("toc-class","toc"),"<div"+v+' class="'+S+`">
<div`+_+' class="title">'+c+`</div>
`+a.$converter().$convert(a,"outline",G(["toclevels"],{toclevels:A}))+`
</div>`):"<!-- toc disabled -->"}),we(M,"$convert_ulist",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k;return v=[],_=m(t.$id())?' id="'+t.$id()+'"':"",c=["ulist",t.$style(),t.$role()].$compact(),A=S="",m(K=t["$option?"]("checklist"))?(c.$unshift(c.$shift(),"checklist"),j=' class="checklist"',m(t["$option?"]("interactive"))?m(a.xml_mode)?(A='<input type="checkbox" data-item-complete="1" checked="checked"/> ',S='<input type="checkbox" data-item-complete="0"/> '):(A='<input type="checkbox" data-item-complete="1" checked> ',S='<input type="checkbox" data-item-complete="0"> '):m(t.$document()["$attr?"]("icons","font"))?(A='<i class="fa fa-check-square-o"></i> ',S='<i class="fa fa-square-o"></i> '):(A="&#10003; ",S="&#10063; ")):j=m(t.$style())?' class="'+t.$style()+'"':"",v["$<<"]("<div"+_+' class="'+c.$join(" ")+'">'),m(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),v["$<<"]("<ul"+j+">"),Ke(t.$items(),"each",[],function(he){return he==null&&(he=k),m(he.$id())?v["$<<"]('<li id="'+he.$id()+'"'+(m(he.$role())?' class="'+he.$role()+'"':"")+">"):m(he.$role())?v["$<<"]('<li class="'+he.$role()+'">'):v["$<<"]("<li>"),m(K)&&m(he["$attr?"]("checkbox"))?v["$<<"]("<p>"+(m(he["$attr?"]("checked"))?A:S)+he.$text()+"</p>"):v["$<<"]("<p>"+he.$text()+"</p>"),m(he["$blocks?"]())&&v["$<<"](he.$content()),v["$<<"]("</li>")}),v["$<<"]("</ul>"),v["$<<"]("</div>"),v.$join(Y("LF"))}),we(M,"$convert_verse",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;return v=m(t.$id())?' id="'+t.$id()+'"':"",_=["verseblock",t.$role()].$compact(),c=' class="'+_.$join(" ")+'"',A=m(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",S=m(t["$attr?"]("attribution"))?t.$attr("attribution"):k,K=m(t["$attr?"]("citetitle"))?t.$attr("citetitle"):k,m(S)||m(K)?(j=m(K)?"<cite>"+K+"</cite>":"",ee=m(S)?"&#8212; "+S+(m(K)?"<br"+a.void_element_slash+`>
`:""):"",he=`
<div class="attribution">
`+ee+j+`
</div>`):he="","<div"+v+c+">"+A+`
<pre class="content">`+t.$content()+"</pre>"+he+`
</div>`}),we(M,"$convert_video",function(t){var a,v,_=this,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k,Ze=k,$t=k,et=k,at=k,ct=k,ft=k,ut=k,ht=k,dt=k,At=k,yt=k,It=k,St=k,wt=k,Et=k,qt=k,zt=k,Gt=k,Ut=k,Rt=k,xt=k,Ct=k,Nt=k,kt=k,Tt=k,Ht=k,Lt=k,Ft=k,Yt=k;switch(c=_.xml_mode,A=m(t.$id())?' id="'+t.$id()+'"':"",S=["videoblock"],m(t["$attr?"]("float"))&&S["$<<"](t.$attr("float")),m(t["$attr?"]("align"))&&S["$<<"]("text-"+t.$attr("align")),m(t.$role())&&S["$<<"](t.$role()),K=' class="'+S.$join(" ")+'"',j=m(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",ee=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",he=m(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",t.$attr("poster")){case"vimeo":return m((Me=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Me=""+Me+":"),Ze=m(t["$attr?"]("start"))?"#at="+t.$attr("start"):"",$t=["?"],v=t.$attr("target").$split("/",2),a=Oe(v),et=a[0]==null?k:a[0],at=a[1]==null?k:a[1],ct=m(at=m(ft=at)?ft:t.$attr("hash"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"h="+at:"",ut=m(t["$option?"]("autoplay"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"autoplay=1":"",ht=m(t["$option?"]("loop"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"loop=1":"",dt=m(t["$option?"]("muted"))?""+(m(ft=$t.$pop())?ft:"&amp;")+"muted=1":"","<div"+A+K+">"+j+`
<div class="content">
<iframe`+ee+he+' src="'+Me+"//player.vimeo.com/video/"+et+ct+ut+ht+dt+Ze+'" frameborder="0"'+(m(t["$option?"]("nofullscreen"))?"":_.$append_boolean_attribute("allowfullscreen",c))+`></iframe>
</div>
</div>`;case"youtube":return m((Me=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(Me=""+Me+":"),At=m(t["$option?"]("related"))?1:0,yt=m(t["$attr?"]("start"))?"&amp;start="+t.$attr("start"):"",It=m(t["$attr?"]("end"))?"&amp;end="+t.$attr("end"):"",ut=m(t["$option?"]("autoplay"))?"&amp;autoplay=1":"",ht=m(St=t["$option?"]("loop"))?"&amp;loop=1":"",wt=m(t["$option?"]("muted"))?"&amp;mute=1":"",Et=m(t["$option?"]("nocontrols"))?"&amp;controls=0":"",m(t["$option?"]("nofullscreen"))?(qt="&amp;fs=0",zt=""):(qt="",zt=_.$append_boolean_attribute("allowfullscreen",c)),Gt=m(t["$option?"]("modest"))?"&amp;modestbranding=1":"",Ut=m(t["$attr?"]("theme"))?"&amp;theme="+t.$attr("theme"):"",Rt=m(t["$attr?"]("lang"))?"&amp;hl="+t.$attr("lang"):"",v=t.$attr("target").$split("/",2),a=Oe(v),et=a[0]==null?k:a[0],xt=a[1]==null?k:a[1],m(xt=m(ft=xt)?ft:t.$attr("list"))?Ct="&amp;list="+xt:(v=et.$split(",",2),a=Oe(v),et=a[0]==null?k:a[0],Nt=a[1]==null?k:a[1],m(Nt=m(ft=Nt)?ft:t.$attr("playlist"))?Ct="&amp;playlist="+et+","+Nt:Ct=m(St)?"&amp;playlist="+et:""),"<div"+A+K+">"+j+`
<div class="content">
<iframe`+ee+he+' src="'+Me+"//www.youtube.com/embed/"+et+"?rel="+At+yt+It+ut+ht+wt+Et+Ct+qt+Gt+Ut+Rt+'" frameborder="0"'+zt+`></iframe>
</div>
</div>`;default:return kt=m((Tt=t.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+t.$media_uri(Tt)+'"',Ht=m((Tt=t.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+Tt+'"',Lt=t.$attr("start"),Ft=t.$attr("end"),Yt=m(Lt)||m(Ft)?"#t="+(m(ft=Lt)?ft:"")+(m(Ft)?","+Ft:""):"","<div"+A+K+">"+j+`
<div class="content">
<video src="`+t.$media_uri(t.$attr("target"))+Yt+'"'+ee+he+kt+(m(t["$option?"]("autoplay"))?_.$append_boolean_attribute("autoplay",c):"")+(m(t["$option?"]("muted"))?_.$append_boolean_attribute("muted",c):"")+(m(t["$option?"]("nocontrols"))?"":_.$append_boolean_attribute("controls",c))+(m(t["$option?"]("loop"))?_.$append_boolean_attribute("loop",c):"")+Ht+`>
Your browser does not support the video tag.
</video>
</div>
</div>`}}),we(M,"$convert_inline_anchor",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k;switch(t.$type()){case"xref":return m(v=t.$attributes()["$[]"]("path"))?(_=a.$append_link_constraint_attrs(t,m(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),c=m(A=t.$text())?A:v):(_=m(t.$role())?' class="'+t.$role()+'"':"",m(c=t.$text())||(h(Y("AbstractNode"),S=m(A=(a.refs=m(K=a.refs)?K:t.$document().$catalog()["$[]"]("refs"))["$[]"](j=t.$attributes()["$[]"]("refid")))?A:m(j["$nil_or_empty?"]())?ee=a.$get_root_document(t):k)?m(a.resolving_xref=m(A=a.resolving_xref)?A:he=!0)&&m(he)?(m(c=S.$xreftext(t.$attr("xrefstyle",k,!0)))?m(c["$include?"]("<a"))&&(c=c.$gsub(Y("DropAnchorRx"),"")):c=m(ee)?"[^top]":"["+j+"]",a.resolving_xref=k):c=m(ee)?"[^top]":"["+j+"]":c="["+j+"]")),'<a href="'+t.$target()+'"'+_+">"+c+"</a>";case"ref":return'<a id="'+t.$id()+'"></a>';case"link":return _=m(t.$id())?[' id="'+t.$id()+'"']:[],m(t.$role())&&_["$<<"](' class="'+t.$role()+'"'),m(t["$attr?"]("title"))&&_["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+a.$append_link_constraint_attrs(t,_).$join()+">"+t.$text()+"</a>";case"bibref":return'<a id="'+t.$id()+'"></a>['+(m(A=t.$reftext())?A:t.$id())+"]";default:return a.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),k}}),we(M,"$convert_inline_break",function(t){var a=this;return""+t.$text()+"<br"+a.void_element_slash+">"}),we(M,"$convert_inline_button",function(t){return'<b class="button">'+t.$text()+"</b>"}),we(M,"$convert_inline_callout",function(t){var a=this,v=k,_=k;return m(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":m(t.$document()["$attr?"]("icons"))?(v=t.$icon_uri("callouts/"+t.$text()),'<img src="'+v+'" alt="'+t.$text()+'"'+a.void_element_slash+">"):h(ke("Array"),_=t.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+t.$text()+")</b>--&gt;":""+_+'<b class="conum">('+t.$text()+")</b>"}),we(M,"$convert_inline_footnote",function(t){var a=k,v=k;return m(a=t.$attr("index"))?R(t.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+a+'" title="View footnote.">'+a+"</a>]</sup>":(v=m(t.$id())?' id="_footnote_'+t.$id()+'"':"",'<sup class="footnote"'+v+'>[<a id="_footnoteref_'+a+'" class="footnote" href="#_footnotedef_'+a+'" title="View footnote.">'+a+"</a>]</sup>"):R(t.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":k}),we(M,"$convert_inline_image",function(t){var a=this,v=k,_=k,c=k,A=k,S=k,K=k,j=k,ee=k,he=k,Me=k;return v=t.$target(),R(_=m(c=t.$type())?c:"image","icon")?R(A=t.$document().$attr("icons"),"font")?(S="fa fa-"+v,m(t["$attr?"]("size"))&&(S=""+S+" fa-"+t.$attr("size")),m(t["$attr?"]("flip"))?S=""+S+" fa-flip-"+t.$attr("flip"):m(t["$attr?"]("rotate"))&&(S=""+S+" fa-rotate-"+t.$attr("rotate")),K=m(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"",j='<i class="'+S+'"'+K+"></i>"):m(A)?(K=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",m(t["$attr?"]("height"))&&(K=""+K+' height="'+t.$attr("height")+'"'),m(t["$attr?"]("title"))&&(K=""+K+' title="'+t.$attr("title")+'"'),j='<img src="'+t.$icon_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">"):j="["+t.$alt()+"&#93;":(K=m(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",m(t["$attr?"]("height"))&&(K=""+K+' height="'+t.$attr("height")+'"'),m(t["$attr?"]("title"))&&(K=""+K+' title="'+t.$attr("title")+'"'),(m(t["$attr?"]("format","svg"))||m(v["$include?"](".svg")))&&m(Se(t.$document().$safe(),ke(Y("SafeMode"),"SECURE")))?m(t["$option?"]("inline"))?j=m(c=a.$read_svg_contents(t,v))?c:'<span class="alt">'+t.$alt()+"</span>":m(t["$option?"]("interactive"))?(ee=m(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",j='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+K+">"+ee+"</object>"):j='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">":j='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+K+a.void_element_slash+">"),m(t["$attr?"]("link"))&&(j='<a class="image" href="'+t.$attr("link")+'"'+a.$append_link_constraint_attrs(t).$join()+">"+j+"</a>"),he=_,m(Me=t.$role())?he=m(t["$attr?"]("float"))?""+he+" "+t.$attr("float")+" "+Me:""+he+" "+Me:m(t["$attr?"]("float"))&&(he=""+he+" "+t.$attr("float")),'<span class="'+he+'">'+j+"</span>"}),we(M,"$convert_inline_indexterm",function(t){return R(t.$type(),"visible")?t.$text():""}),we(M,"$convert_inline_kbd",function(t){var a=k;return R((a=t.$attr("keys")).$size(),1)?"<kbd>"+a["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+a.$join("</kbd>+<kbd>")+"</kbd></span>"}),we(M,"$convert_inline_menu",function(t){var a=k,v=k,_=k,c=k,A=k;return a=m(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',v="</b>"+a+'<b class="submenu">',_=t.$attr("menu"),m((c=t.$attr("submenus"))["$empty?"]())?m(A=t.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+_+"</b>"+a+'<b class="menuitem">'+A+"</b></span>":'<b class="menuref">'+_+"</b>":'<span class="menuseq"><b class="menu">'+_+"</b>"+a+'<b class="submenu">'+c.$join(v)+"</b>"+a+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"}),we(M,"$convert_inline_quoted",function(t){var a,v,_=k,c=k,A=k,S=k;return v=Y("QUOTE_TAGS")["$[]"](t.$type()),a=Oe(v),_=a[0]==null?k:a[0],c=a[1]==null?k:a[1],A=a[2]==null?k:a[2],m(t.$id())?(S=m(t.$role())?' class="'+t.$role()+'"':"",m(A)?""+_.$chop()+' id="'+t.$id()+'"'+S+">"+t.$text()+c:'<span id="'+t.$id()+'"'+S+">"+_+t.$text()+c+"</span>"):m(t.$role())?m(A)?""+_.$chop()+' class="'+t.$role()+'">'+t.$text()+c:'<span class="'+t.$role()+'">'+_+t.$text()+c+"</span>":""+_+t.$text()+c}),we(M,"$read_svg_contents",function(t,a){var v=k,_=k,c=k,A=k;if(m(v=t.$read_contents(a,G(["start","normalize","label","warn_if_empty"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(m(v["$empty?"]()))return k;m(v["$start_with?"]("<svg"))||(v=v.$sub(Y("SvgPreambleRx"),"")),_=c=A=k,Ke(["width","height"],"each",[],function(K){var j=k,ee=k;if(K==null&&(K=k),!m(t["$attr?"](K)))return k;if(!m(c)){if(R(A=m(j=A)?j:m(ee=v.$match(Y("SvgStartTagRx")))?ee:"no_match","no_match"))return k;c=(_=A["$[]"](0)).$gsub(Y("DimensionAttributeRx"),"")}return c=""+c.$chop()+" "+K+'="'+t.$attr(K)+'">'}),m(c)&&(v=""+c+v["$[]"](e.Range.$new(_.$length(),-1,!1)))}return v}),M.$private(),we(M,"$append_boolean_attribute",function(t,a){return m(a)?" "+t+'="'+t+'"':" "+t}),we(M,"$append_link_constraint_attrs",function(t,a){var v=k,_=k;return a==null&&(a=[]),m(t["$option?"]("nofollow"))&&(v="nofollow"),m(_=t.$attributes()["$[]"]("window"))?(a["$<<"](' target="'+_+'"'),(R(_,"_blank")||m(t["$option?"]("noopener")))&&a["$<<"](m(v)?' rel="'+v+' noopener"':' rel="noopener"')):m(v)&&a["$<<"](' rel="'+v+'"'),a},-2),we(M,"$encode_attribute_value",function(t){return m(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t}),we(M,"$generate_manname_section",function(t){var a=k,v=k,_=k,c=k,A=k;return a=t.$attr("manname-title","Name"),m(_=t.$sections()["$[]"](0))&&R(v=_.$title(),v.$upcase())&&(a=a.$upcase()),c=m(A=t.$attr("manname-id"))?' id="'+A+'"':"","<h2"+c+">"+a+`</h2>
<div class="sectionbody">
<p>`+t.$attr("mannames").$join(", ")+" - "+t.$attr("manpurpose")+`</p>
</div>`}),we(M,"$get_root_document",function(t){for(;m((t=t.$document())["$nested?"]());)t=t.$parent_document();return t}),we(M,"$method_missing",function l(t,a){var v,_,c=l.$$p||k,A=this,S=k;return l.$$p=null,v=Ve(arguments,1),_=v,fe((S=t.$to_s())["$start_with?"]("convert_"))&&m(A["$handles?"](S))?Ke(A,"send",["convert_"+S].concat(rt(_))):z(A,ce(A,"method_missing",l,!1,!0),"method_missing",[t].concat(rt(_)),c)},-2),we(M,"$respond_to_missing?",function(t,a){var v=this,_=k,c=k;return Ve(arguments,1),m(_=(c=t.$to_s())["$start_with?"]("convert_")["$!"]())?v["$handles?"](c):_},-2)}(X("Converter"),ke(X("Converter"),"Base"),H)}(T[0],T)},Opal.modules["asciidoctor/extensions"]=function(e){var U=e.module,B=e.klass,C=e.truthy,G=e.hash2,u=e.def,R=e.send,we=e.alias,z=e.slice,ce=e.rb_plus,m=e.eqeq,Ke=e.rb_gt,se=e.not,Fe=e.eqeqeq,fe=e.to_a,ve=e.to_ary,st=e.const_set,Se=e.return_val,Oe=e.send2,Ce=e.find_super,Ye=e.NilClass,it=e.class_variable_set,b=e.class_variable_get,We=e.regexp,h=e.Class,Ve=e.return_ivar,rt=e.rb_lt,T=e.rb_minus,k=e.hash,ke=[],O=e.nil,ue=e.$$$;return e.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(ie,H){var X=U(ie,"Asciidoctor"),F=[X].concat(H);return function(E,x){var M=U(E,"Extensions"),D=[M].concat(x),Y=e.$r(D);return function(q,l,t){var a=B(q,l,"Processor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,function(A,S){return u(A,"$config",function(){var j=this,ee=O;return j.config==null&&(j.config=O),j.config=C(ee=j.config)?ee:G([],{})}),u(A,"$option",function(j,ee){var he,Me=this;return he=[j,ee],R(Me.$config(),"[]=",he),he[he.length-1]}),u(A,"$enable_dsl",function(){var j=this;return C(j["$const_defined?"]("DSL"))?C(j["$singleton_class?"]())?j.$include(j.$const_get("DSL")):j.$extend(j.$const_get("DSL")):O}),we(A,"use_dsl","enable_dsl")}(e.get_singleton_class(a)),a.$attr_reader("config"),u(a,"$initialize",function(S){var K=this;return S==null&&(S=G([],{})),K.config=K.$class().$config().$merge(S)},-1),u(a,"$update_config",function(S){var K=this;return K.config.$update(S)}),u(a,"$process",function(S){var K=this;return z(arguments),K.$raise(ue("NotImplementedError"),""+_("Processor")+" subclass "+K.$class()+" must implement the #process method")},-1),u(a,"$create_section",function(S,K,j,ee){var he,Me,Ze=O,$t=O,et=O,at=O,ct=O,ft=O,ut=O,ht=O,dt=O,At=O;return ee==null&&(ee=G([],{})),Ze=S.$document(),$t=(et=Ze.$doctype())["$=="]("book"),at=C(ct=ee["$[]"]("level"))?ct:ce(S.$level(),1),C(ft=j.$delete("style"))?C($t)&&m(ft,"abstract")?(he=["chapter",1],ut=he[0],at=he[1]):(he=[ft,!0],ut=he[0],ht=he[1],m(at,0)&&(at=1)):C($t)?ut=m(at,0)?"part":C(Ke(at,1))?"section":"chapter":m(et,"manpage")&&m(K.$casecmp("synopsis"),0)?(he=["synopsis",!0],ut=he[0],ht=he[1]):ut="section",dt=_("Section").$new(S,at),he=[K,ut],Me=[he[0]],R(dt,"title=",Me),Me[Me.length-1],Me=[he[1]],R(dt,"sectname=",Me),Me[Me.length-1],C(ht)?(dt["$special="](!0),C(ee.$fetch("numbered",ft["$=="]("appendix")))?dt["$numbered="](!0):se(ee["$key?"]("numbered"))&&C(Ze["$attr?"]("sectnums","all"))&&dt["$numbered="](C($t)&&m(at,1)?"chapter":!0)):C(Ke(at,0))?C(ee.$fetch("numbered",Ze["$attr?"]("sectnums")))&&dt["$numbered="](C(dt.$special())?C(ct=S.$numbered())||ct:!0):C(ee.$fetch("numbered",C(ct=$t)?Ze["$attr?"]("partnums"):ct))&&dt["$numbered="](!0),m(At=j["$[]"]("id"),!1)?j.$delete("id"):dt["$id="]((he=["id",C(ct=At)?ct:C(Ze["$attr?"]("sectids"))?_("Section").$generate_id(dt.$title(),Ze):O],R(j,"[]=",he),he[he.length-1])),dt.$update_attributes(j),dt},-4),u(a,"$create_block",function(S,K,j,ee,he){return he==null&&(he=G([],{})),_("Block").$new(S,K,G(["source","attributes"],{source:j,attributes:ee}).$merge(he))},-5),u(a,"$create_list",function(S,K,j){var ee=O;return j==null&&(j=O),ee=_("List").$new(S,K),C(j)&&ee.$update_attributes(j),ee},-3),u(a,"$create_list_item",function(S,K){return K==null&&(K=O),_("ListItem").$new(S,K)},-2),u(a,"$create_image_block",function(S,K,j){var ee,he=this,Me=O,Ze=O,$t=O;return j==null&&(j=G([],{})),C(Me=K["$[]"]("target"))||he.$raise(ue("ArgumentError"),"Unable to create an image block, target attribute is required"),C(K["$[]"]("alt"))||K["$[]="]("alt",(ee=["default-alt",_("Helpers").$basename(Me,!0).$tr("_-"," ")],R(K,"[]=",ee),ee[ee.length-1])),Ze=C(K["$key?"]("title"))?K.$delete("title"):O,$t=he.$create_block(S,"image",O,K,j),C(Ze)&&($t["$title="](Ze),$t.$assign_caption(K.$delete("caption"),"figure")),$t},-3),u(a,"$create_inline",function(S,K,j,ee){return ee==null&&(ee=G([],{})),_("Inline").$new(S,K,j,m(K,"quoted")?G(["type"],{type:"unquoted"}).$merge(ee):ee)},-4),u(a,"$parse_content",function(S,K,j){var ee=O;return j==null&&(j=O),ee=Fe(_("Reader"),K)?K:_("Reader").$new(K),_("Parser").$parse_blocks(ee,S,j),S},-3),u(a,"$parse_attributes",function(S,K,j){var ee=O;return j==null&&(j=G([],{})),C(C(K)?K["$empty?"]():!0)?G([],{}):(C(j["$[]"]("sub_attributes"))&&C(K["$include?"](_("ATTR_REF_HEAD")))&&(K=S.$sub_attributes(K)),_("AttributeList").$new(K).$parse(C(ee=j["$[]"]("positional_attributes"))?ee:[]))},-3),R([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],function A(S,K,j){var ee=A.$$s==null?this:A.$$s;return S==null&&(S=O),K==null&&(K=O),j==null&&(j=O),R(ee,"define_method",[S],function he(Me){var Ze,$t,et=he.$$s==null?this:he.$$s;return Ze=z(arguments),$t=Ze,$t.$unshift($t.$shift(),j),R(et,"send",[K].concat(fe($t)))},{$$arity:-1,$$s:ee})},{$$s:a})}(D[0],null,D),function(q){var l=U(q,"ProcessorDsl");return u(l,"$option",function(a,v){var _,c=this;return _=[a,v],R(c.$config(),"[]=",_),_[_.length-1]}),u(l,"$process",function t(a){var v=t.$$p||O,_,c,A,S=this,K=O;return S.process_block==null&&(S.process_block=O),t.$$p=null,_=z(arguments),c=_,v!==O?(C(c["$empty?"]())||S.$raise(ue("ArgumentError"),"wrong number of arguments (given "+c.$size()+", expected 0)"),C(v.$binding())&&m(S,v.$binding().$receiver())||(K=S,R(v,"define_singleton_method",["call"],function(ee){var he,Me;return he=z(arguments),Me=he,R(K,"instance_exec",fe(Me),v.$to_proc())},-1)),S.process_block=v):C((A=S.process_block,A!=null&&A!==O?"instance-variable":O))?R(S.process_block,"call",fe(c)):S.$raise(ue("NotImplementedError"),""+S.$class()+" #process method called before being registered")},-1),u(l,"$process_block_given?",function(){var a,v=this;return a=v.process_block,a!=null&&a!==O?"instance-variable":O})}(D[0]),function(q,l){var t=U(q,"DocumentProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("ProcessorDsl")),u(t,"$prefer",function(){var c=this;return c.$option("position",">>")})}(D[0],D),function(q,l){var t=U(q,"SyntaxProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("ProcessorDsl")),u(t,"$named",function(c){var A=this;return Fe(v("Processor"),A)?A.name=c:A.$option("name",c)}),u(t,"$content_model",function(c){var A=this;return A.$option("content_model",c)}),we(t,"parse_content_as","content_model"),u(t,"$positional_attributes",function(c){var A,S,K=this;return A=z(arguments),S=A,K.$option("positional_attrs",S.$flatten())},-1),we(t,"name_positional_attributes","positional_attributes"),we(t,"positional_attrs","positional_attributes"),u(t,"$default_attributes",function(c){var A=this;return A.$option("default_attrs",c)}),we(t,"default_attrs","default_attributes"),u(t,"$resolve_attributes",function(c){var A,S,K,j=this,ee=O,he=O,Me=O;return A=z(arguments),S=A,C(Ke(S.$size(),1))||C((S=S.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(S=[S]),Fe(!0,ee=S)?(j.$option("positional_attrs",[]),j.$option("default_attrs",G([],{}))):Fe(ue("Array"),ee)?(K=[[],G([],{})],he=K[0],Me=K[1],R(S,"each",[],function($t){var et,at,ct=O,ft=O,ut=O;return $t==null&&($t=O),C(($t=$t.$to_s())["$include?"]("="))?(at=$t.$partition("="),et=ve(at),ct=et[0]==null?O:et[0],et[1]==null||et[1],ft=et[2]==null?O:et[2],C(ct["$include?"](":"))&&(at=ct.$partition(":"),et=ve(at),ut=et[0]==null?O:et[0],et[1]==null||et[1],ct=et[2]==null?O:et[2],ut=m(ut,"@")?he.$size():ut.$to_i(),he["$[]="](ut,ct)),et=[ct,ft],R(Me,"[]=",et),et[et.length-1]):C($t["$include?"](":"))?(at=$t.$partition(":"),et=ve(at),ut=et[0]==null?O:et[0],et[1]==null||et[1],ct=et[2]==null?O:et[2],ut=m(ut,"@")?he.$size():ut.$to_i(),et=[ut,ct],R(he,"[]=",et),et[et.length-1]):he["$<<"]($t)}),j.$option("positional_attrs",he.$compact()),j.$option("default_attrs",Me)):Fe(ue("Hash"),ee)?(K=[[],G([],{})],he=K[0],Me=K[1],R(S,"each",[],function($t,et){var at,ct,ft=O,ut=O;return $t==null&&($t=O),et==null&&(et=O),C((ft=$t.$to_s())["$include?"](":"))&&(ct=ft.$partition(":"),at=ve(ct),ut=at[0]==null?O:at[0],at[1]==null||at[1],ft=at[2]==null?O:at[2],ut=m(ut,"@")?he.$size():ut.$to_i(),he["$[]="](ut,ft)),C(et)?(at=[ft,et],R(Me,"[]=",at),at[at.length-1]):O}),j.$option("positional_attrs",he.$compact()),j.$option("default_attrs",Me)):j.$raise(ue("ArgumentError"),"unsupported attributes specification for macro: "+S.$inspect())},-1),we(t,"resolves_attributes","resolve_attributes")}(D[0],D),function(q,l,t){var a=B(q,l,"Preprocessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A,S){var K=this;return K.$raise(ue("NotImplementedError"),""+_("Preprocessor")+" subclass "+K.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),st(Y("Preprocessor"),"DSL",Y("DocumentProcessorDsl")),function(q,l,t){var a=B(q,l,"TreeProcessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A){var S=this;return S.$raise(ue("NotImplementedError"),""+_("TreeProcessor")+" subclass "+S.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),st(Y("TreeProcessor"),"DSL",Y("DocumentProcessorDsl")),st(D[0],"Treeprocessor",Y("TreeProcessor")),function(q,l,t){var a=B(q,l,"Postprocessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A,S){var K=this;return K.$raise(ue("NotImplementedError"),""+_("Postprocessor")+" subclass "+K.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),st(Y("Postprocessor"),"DSL",Y("DocumentProcessorDsl")),function(q,l,t){var a=B(q,l,"IncludeProcessor"),v=[a].concat(t),_=e.$r(v);return u(a,"$process",function(A,S,K,j){var ee=this;return ee.$raise(ue("NotImplementedError"),""+_("IncludeProcessor")+" subclass "+ee.$class()+" must implement the #process method")}),u(a,"$handles?",Se(!0))}(D[0],Y("Processor"),D),function(q,l){var t=U(q,"IncludeProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("DocumentProcessorDsl")),u(t,"$handles?",function _(c){var A=_.$$p||O,S,K,j,ee=this;return ee.handles_block==null&&(ee.handles_block=O),_.$$p=null,S=z(arguments),K=S,A!==O?(C(K["$empty?"]())||ee.$raise(ue("ArgumentError"),"wrong number of arguments (given "+K.$size()+", expected 0)"),ee.handles_block=A):C((j=ee.handles_block,j!=null&&j!==O?"instance-variable":O))?ee.handles_block.$call(K["$[]"](0)):!0},-1)}(D[0],D),st(Y("IncludeProcessor"),"DSL",Y("IncludeProcessorDsl")),function(q,l,t){var a=B(q,l,"DocinfoProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,u(a,"$initialize",function A(S){var K;A.$$p;var j=this,ee=O;return A.$$p=null,S==null&&(S=G([],{})),Oe(j,Ce(j,"initialize",A,!1,!0),"initialize",[S],null),C(ee=j.config["$[]"]("location"))?ee:(K=["location","head"],R(j.config,"[]=",K),K[K.length-1])},-1),u(a,"$process",function(S){var K=this;return K.$raise(ue("NotImplementedError"),""+_("DocinfoProcessor")+" subclass "+K.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),function(q,l){var t=U(q,"DocinfoProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("DocumentProcessorDsl")),u(t,"$at_location",function(c){var A=this;return A.$option("location",c)})}(D[0],D),st(Y("DocinfoProcessor"),"DSL",Y("DocinfoProcessorDsl")),function(q,l,t){var a=B(q,l,"BlockProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,a.$attr_accessor("name"),u(a,"$initialize",function A(S,K){var j;A.$$p;var ee=this,he=O;return A.$$p=null,S==null&&(S=O),K==null&&(K=G([],{})),Oe(ee,Ce(ee,"initialize",A,!1,!0),"initialize",[K],null),ee.name=C(he=S)?he:ee.config["$[]"]("name"),Fe(Ye,he=ee.config["$[]"]("contexts"))?C(ee.config["$[]"]("contexts"))||ee.config["$[]="]("contexts",["open","paragraph"].$to_set()):Fe(ue("Symbol"),he)?ee.config["$[]="]("contexts",[ee.config["$[]"]("contexts")].$to_set()):ee.config["$[]="]("contexts",ee.config["$[]"]("contexts").$to_set()),C(he=ee.config["$[]"]("content_model"))?he:(j=["content_model","compound"],R(ee.config,"[]=",j),j[j.length-1])},-1),u(a,"$process",function(S,K,j){var ee=this;return ee.$raise(ue("NotImplementedError"),""+_("BlockProcessor")+" subclass "+ee.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),function(q,l){var t=U(q,"BlockProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("SyntaxProcessorDsl")),u(t,"$contexts",function(c){var A,S,K=this;return A=z(arguments),S=A,K.$option("contexts",S.$flatten().$to_set())},-1),we(t,"on_contexts","contexts"),we(t,"on_context","contexts"),we(t,"bind_to","contexts")}(D[0],D),st(Y("BlockProcessor"),"DSL",Y("BlockProcessorDsl")),function(q,l,t){var a=B(q,l,"MacroProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=O,a.$attr_accessor("name"),u(a,"$initialize",function A(S,K){var j;A.$$p;var ee=this,he=O;return A.$$p=null,S==null&&(S=O),K==null&&(K=G([],{})),Oe(ee,Ce(ee,"initialize",A,!1,!0),"initialize",[K],null),ee.name=C(he=S)?he:ee.config["$[]"]("name"),C(he=ee.config["$[]"]("content_model"))?he:(j=["content_model","attributes"],R(ee.config,"[]=",j),j[j.length-1])},-1),u(a,"$process",function(S,K,j){var ee=this;return ee.$raise(ue("NotImplementedError"),""+_("MacroProcessor")+" subclass "+ee.$class()+" must implement the #process method")})}(D[0],Y("Processor"),D),function(q,l){var t=U(q,"MacroProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("SyntaxProcessorDsl")),u(t,"$resolve_attributes",function _(c){var A,S,K=_.$$p||O,j=this;return _.$$p=null,A=z(arguments),S=A,m(S.$size(),1)&&se(S["$[]"](0))?j.$option("content_model","text"):(Oe(j,Ce(j,"resolve_attributes",_,!1,!0),"resolve_attributes",fe(S),K),j.$option("content_model","attributes"))},-1),we(t,"resolves_attributes","resolve_attributes")}(D[0],D),function(q,l,t){var a=B(q,l,"BlockMacroProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.name=O,u(a,"$name",function(){var S=this;return C(_("MacroNameRx")["$match?"](S.name.$to_s()))||S.$raise(ue("ArgumentError"),"invalid name for block macro: "+S.name),S.name})}(D[0],Y("MacroProcessor"),D),st(Y("BlockMacroProcessor"),"DSL",Y("MacroProcessorDsl")),function(q,l,t){var a=B(q,l,"InlineMacroProcessor"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.config=c.name=O,it(v[0],"@@rx_cache",G([],{})),u(a,"$regexp",function(){var S,K=this,j=O;return C(j=K.config["$[]"]("regexp"))?j:(S=["regexp",K.$resolve_regexp(K.name.$to_s(),K.config["$[]"]("format"))],R(K.config,"[]=",S),S[S.length-1])}),u(a,"$resolve_regexp",function(S,K){var j,ee=this,he=O;return C(_("MacroNameRx")["$match?"](S))||ee.$raise(ue("ArgumentError"),"invalid name for inline macro: "+S),C(he=b(v[0],"@@rx_cache",!1)["$[]"]([S,K]))?he:(j=[[S,K],We(["\\\\?",S,":",m(K,"short")?"(){0}":"(\\S+?)","\\[(|",_("CC_ANY"),"*?[^\\\\])\\]"])],R(b(v[0],"@@rx_cache",!1),"[]=",j),j[j.length-1])})}(D[0],Y("MacroProcessor"),D),function(q,l){var t=U(q,"InlineMacroProcessorDsl"),a=[t].concat(l),v=e.$r(a);return t.$include(v("MacroProcessorDsl")),u(t,"$format",function(c){var A=this;return A.$option("format",c)}),we(t,"match_format","format"),we(t,"using_format","format"),u(t,"$match",function(c){var A=this;return A.$option("regexp",c)})}(D[0],D),st(Y("InlineMacroProcessor"),"DSL",Y("InlineMacroProcessorDsl")),function(q,l){var t=B(q,l,"Extension");return t.$attr_reader("kind"),t.$attr_reader("config"),t.$attr_reader("instance"),u(t,"$initialize",function(v,_,c){var A=this;return A.kind=v,A.instance=_,A.config=c})}(D[0],null),function(q,l){var t=B(q,l,"ProcessorExtension");return t.$attr_reader("process_method"),u(t,"$initialize",function a(v,_,c){a.$$p;var A=this,S=O;return a.$$p=null,c==null&&(c=O),Oe(A,Ce(A,"initialize",a,!1,!0),"initialize",[v,_,_.$config()],null),A.process_method=C(S=c)?S:_.$method("process")},-3)}(D[0],Y("Extension")),function(q,l,t){var a=B(q,l,"Group"),v=[a].concat(t);return function(_,c){var A=[_].concat(c),S=e.$r(A);return u(_,"$register",function(j){var ee=this;return j==null&&(j=O),S("Extensions").$register(j,ee)},-1)}(e.get_singleton_class(a),v),u(a,"$activate",function(c){var A=this;return A.$raise(ue("NotImplementedError"))})}(D[0],null,D),function(q,l,t){var a=B(q,l,"Registry"),v=[a].concat(t),_=e.$r(v),c=a.$$prototype;return c.document=c.groups=c.preprocessor_extensions=c.tree_processor_extensions=c.postprocessor_extensions=c.include_processor_extensions=c.docinfo_processor_extensions=c.block_extensions=c.block_macro_extensions=c.inline_macro_extensions=O,a.$attr_reader("document"),a.$attr_reader("groups"),u(a,"$initialize",function(S){var K=this;return S==null&&(S=G([],{})),K.groups=S,K.$reset(),K.preprocessor_extensions=K.tree_processor_extensions=K.postprocessor_extensions=K.include_processor_extensions=K.docinfo_processor_extensions=K.block_extensions=K.block_macro_extensions=K.inline_macro_extensions=O,K.document=O},-1),u(a,"$activate",function(S){var K=this,j=O;return C(K.document)&&K.$reset(),K.document=S,C((j=ce(_("Extensions").$groups().$values(),K.groups.$values()))["$empty?"]())||R(j,"each",[],function ee(he){var Me=ee.$$s==null?this:ee.$$s,Ze=O;if(he==null&&(he=O),Fe(ue("Proc"),Ze=he))switch(he.$arity()){case 0:case-1:return R(Me,"instance_exec",[],he.$to_proc());case 1:return he.$call(Me);default:return O}else return Fe(h,Ze)?he.$new().$activate(Me):he.$activate(Me)},{$$s:K}),K}),u(a,"$preprocessor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_document_processor",["preprocessor",ee],K.$to_proc())},-1),u(a,"$preprocessors?",function(){var S=this;return S.preprocessor_extensions["$!"]()["$!"]()}),u(a,"$preprocessors",Ve("preprocessor_extensions")),u(a,"$tree_processor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_document_processor",["tree_processor",ee],K.$to_proc())},-1),u(a,"$tree_processors?",function(){var S=this;return S.tree_processor_extensions["$!"]()["$!"]()}),u(a,"$tree_processors",Ve("tree_processor_extensions")),we(a,"treeprocessor","tree_processor"),we(a,"treeprocessors?","tree_processors?"),we(a,"treeprocessors","tree_processors"),u(a,"$postprocessor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_document_processor",["postprocessor",ee],K.$to_proc())},-1),u(a,"$postprocessors?",function(){var S=this;return S.postprocessor_extensions["$!"]()["$!"]()}),u(a,"$postprocessors",Ve("postprocessor_extensions")),u(a,"$include_processor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_document_processor",["include_processor",ee],K.$to_proc())},-1),u(a,"$include_processors?",function(){var S=this;return S.include_processor_extensions["$!"]()["$!"]()}),u(a,"$include_processors",Ve("include_processor_extensions")),u(a,"$docinfo_processor",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_document_processor",["docinfo_processor",ee],K.$to_proc())},-1),u(a,"$docinfo_processors?",function(S){var K=this;return S==null&&(S=O),C(K.docinfo_processor_extensions)?C(S)?R(K.docinfo_processor_extensions,"any?",[],function(ee){return ee==null&&(ee=O),ee.$config()["$[]"]("location")["$=="](S)}):!0:!1},-1),u(a,"$docinfo_processors",function(S){var K=this;return S==null&&(S=O),C(K.docinfo_processor_extensions)?C(S)?R(K.docinfo_processor_extensions,"select",[],function(ee){return ee==null&&(ee=O),ee.$config()["$[]"]("location")["$=="](S)}):K.docinfo_processor_extensions:O},-1),u(a,"$block",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_syntax_processor",["block",ee],K.$to_proc())},-1),u(a,"$blocks?",function(){var S=this;return S.block_extensions["$!"]()["$!"]()}),u(a,"$registered_for_block?",function(S,K){var j=this,ee=O;return C(ee=j.block_extensions["$[]"](S.$to_sym()))&&C(ee.$config()["$[]"]("contexts")["$include?"](K))?ee:!1}),u(a,"$find_block_extension",function(S){var K=this;return K.block_extensions["$[]"](S.$to_sym())}),u(a,"$block_macro",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_syntax_processor",["block_macro",ee],K.$to_proc())},-1),u(a,"$block_macros?",function(){var S=this;return S.block_macro_extensions["$!"]()["$!"]()}),u(a,"$registered_for_block_macro?",function(S){var K=this,j=O;return C(j=K.block_macro_extensions["$[]"](S.$to_sym()))?j:!1}),u(a,"$find_block_macro_extension",function(S){var K=this;return K.block_macro_extensions["$[]"](S.$to_sym())}),u(a,"$inline_macro",function A(S){var K=A.$$p||O,j,ee,he=this;return A.$$p=null,j=z(arguments),ee=j,R(he,"add_syntax_processor",["inline_macro",ee],K.$to_proc())},-1),u(a,"$inline_macros?",function(){var S=this;return S.inline_macro_extensions["$!"]()["$!"]()}),u(a,"$registered_for_inline_macro?",function(S){var K=this,j=O;return C(j=K.inline_macro_extensions["$[]"](S.$to_sym()))?j:!1}),u(a,"$find_inline_macro_extension",function(S){var K=this;return K.inline_macro_extensions["$[]"](S.$to_sym())}),u(a,"$inline_macros",function(){var S=this;return S.inline_macro_extensions.$values()}),u(a,"$prefer",function A(S){var K=A.$$p||O,j,ee,he=this,Me=O,Ze=O,$t=O;return A.$$p=null,j=z(arguments),ee=j,Me=Fe(_("ProcessorExtension"),Ze=ee.$shift())?Ze:R(he,"send",[Ze].concat(fe(ee)),K.$to_proc()),$t=he.$instance_variable_get(("@"+Me.$kind()+"_extensions").$to_sym()),$t.$unshift($t.$delete(Me)),Me},-1),a.$private(),u(a,"$add_document_processor",function A(S,K){var j=A.$$p||O,ee,he,Me=this,Ze=O,$t=O,et=O,at=O,ct=O,ft=O,ut=O,ht=O,dt=O,At=O,yt=O;return A.$$p=null,Ze=S.$to_s().$tr("_"," "),$t=R(Ze.$split(),"map",[],function(St){return St==null&&(St=O),St.$capitalize()}).$join().$to_sym(),et=_("Extensions").$const_get($t,!1),at=C(ue("::","AsciidoctorJ","skip_raise")?"constant":O)?ue(ue("AsciidoctorJ"),"Extensions").$const_get($t,!1):O,ct=C(ft=Me.$instance_variable_get(("@"+S+"_extensions").$to_sym()))?ft:Me.$instance_variable_set(("@"+S+"_extensions").$to_sym(),[]),j!==O?(ut=Me.$resolve_args(K,1),(ht=et.$new(ut)).$singleton_class().$enable_dsl(),m(j.$arity(),0)?R(ht,"instance_exec",[],j.$to_proc()):e.yield1(j,ht),C(ht["$process_block_given?"]())||Me.$raise(ue("NoMethodError"),"No block specified to process "+Ze+" extension at "+j.$source_location().$join(":")),ht.$freeze(),dt=_("ProcessorExtension").$new(S,ht)):(he=Me.$resolve_args(K,2),ee=ve(he),ht=ee[0]==null?O:ee[0],ut=ee[1]==null?O:ee[1],C(At=_("Helpers").$resolve_class(ht))?(C(rt(At,et))||C(at)&&C(rt(At,at))||Me.$raise(ue("ArgumentError"),"Invalid type for "+Ze+" extension: "+ht),yt=At.$new(ut),yt.$freeze(),dt=_("ProcessorExtension").$new(S,yt)):Fe(et,ht)||C(at)&&Fe(at,ht)?(ht.$update_config(ut),ht.$freeze(),dt=_("ProcessorExtension").$new(S,ht)):Me.$raise(ue("ArgumentError"),"Invalid arguments specified for registering "+Ze+" extension: "+K)),m(dt.$config()["$[]"]("position"),">>")?ct.$unshift(dt):ct["$<<"](dt),dt}),u(a,"$add_syntax_processor",function A(S,K){var j=A.$$p||O,ee,he,Me=this,Ze=O,$t=O,et=O,at=O,ct=O,ft=O,ut=O,ht=O,dt=O,At=O,yt=O;return A.$$p=null,Ze=S.$to_s().$tr("_"," "),$t=R(Ze.$split(),"map",[],function(St){return St==null&&(St=O),St.$capitalize()})["$<<"]("Processor").$join().$to_sym(),et=_("Extensions").$const_get($t,!1),at=C(ue("::","AsciidoctorJ","skip_raise")?"constant":O)?ue(ue("AsciidoctorJ"),"Extensions").$const_get($t,!1):O,ct=C(ft=Me.$instance_variable_get(("@"+S+"_extensions").$to_sym()))?ft:Me.$instance_variable_set(("@"+S+"_extensions").$to_sym(),G([],{})),j!==O?(he=Me.$resolve_args(K,2),ee=ve(he),ut=ee[0]==null?O:ee[0],ht=ee[1]==null?O:ee[1],(dt=et.$new(Me.$as_symbol(ut),ht)).$singleton_class().$enable_dsl(),m(j.$arity(),0)?R(dt,"instance_exec",[],j.$to_proc()):e.yield1(j,dt),C(ut=Me.$as_symbol(dt.$name()))||Me.$raise(ue("ArgumentError"),"No name specified for "+Ze+" extension at "+j.$source_location().$join(":")),C(dt["$process_block_given?"]())||Me.$raise(ue("NoMethodError"),"No block specified to process "+Ze+" extension at "+j.$source_location().$join(":")),dt.$freeze(),ee=[ut,_("ProcessorExtension").$new(S,dt)],R(ct,"[]=",ee),ee[ee.length-1]):(he=Me.$resolve_args(K,3),ee=ve(he),dt=ee[0]==null?O:ee[0],ut=ee[1]==null?O:ee[1],ht=ee[2]==null?O:ee[2],C(At=_("Helpers").$resolve_class(dt))?(C(rt(At,et))||C(at)&&C(rt(At,at))||Me.$raise(ue("ArgumentError"),"Class specified for "+Ze+" extension does not inherit from "+et+": "+dt),yt=At.$new(Me.$as_symbol(ut),ht),C(ut=Me.$as_symbol(yt.$name()))||Me.$raise(ue("ArgumentError"),"No name specified for "+Ze+" extension: "+dt),yt.$freeze(),ee=[ut,_("ProcessorExtension").$new(S,yt)],R(ct,"[]=",ee),ee[ee.length-1]):Fe(et,dt)||C(at)&&Fe(at,dt)?(dt.$update_config(ht),C(ut=C(ut)?(ee=[Me.$as_symbol(ut)],R(dt,"name=",ee),ee[ee.length-1]):Me.$as_symbol(dt.$name()))||Me.$raise(ue("ArgumentError"),"No name specified for "+Ze+" extension: "+dt),dt.$freeze(),ee=[ut,_("ProcessorExtension").$new(S,dt)],R(ct,"[]=",ee),ee[ee.length-1]):Me.$raise(ue("ArgumentError"),"Invalid arguments specified for registering "+Ze+" extension: "+K))}),u(a,"$reset",function(){var S=this;return S.preprocessor_extensions=S.tree_processor_extensions=S.postprocessor_extensions=S.include_processor_extensions=S.docinfo_processor_extensions=S.block_extensions=S.block_macro_extensions=S.inline_macro_extensions=O,S.document=O}),u(a,"$resolve_args",function(S,K){var j=O,ee=O;return j=Fe(ue("Hash"),S["$[]"](-1))?S.$pop():G([],{}),m(K,1)?j:(C(Ke(ee=T(T(K,1),S.$size()),0))?S=ce(S,ue("Array").$new(ee)):C(rt(ee,0))&&S.$pop(ee["$-@"]()),S["$<<"](j),S)}),u(a,"$as_symbol",function(S){return C(S)?S.$to_sym():O})}(D[0],null,D),function(q,l){var t=[q].concat(l),a=e.$r(t);return u(q,"$generate_name",function(){var _=this;return"extgrp"+_.$next_auto_id()}),u(q,"$next_auto_id",function(){var _=this,c=O;return _.auto_id==null&&(_.auto_id=O),_.auto_id=C(c=_.auto_id)?c:-1,_.auto_id=ce(_.auto_id,1)}),u(q,"$groups",function(){var _=this,c=O;return _.groups==null&&(_.groups=O),_.groups=C(c=_.groups)?c:G([],{})}),u(q,"$create",function v(_){var c=v.$$p||O,A=this,S=O;return v.$$p=null,_==null&&(_=O),c!==O?a("Registry").$new(k(C(S=_)?S:A.$generate_name(),c)):a("Registry").$new()},-1),u(q,"$register",function v(_){var c=v.$$p||O,A,S,K,j=this,ee=O,he=O,Me=O,Ze=O,$t=O;return v.$$p=null,A=z(arguments),S=A,ee=S.$size(),c!==O?he=c:C(Me=S.$pop())?he=C(Ze=a("Helpers").$resolve_class(Me))?Ze:Me:j.$raise(ue("ArgumentError"),"Extension group to register not specified"),$t=C(Ze=S.$pop())?Ze:j.$generate_name(),C(S["$empty?"]())||j.$raise(ue("ArgumentError"),"Wrong number of arguments ("+ee+" for 1..2)"),K=[$t.$to_sym(),he],R(j.$groups(),"[]=",K),K[K.length-1]},-1),u(q,"$unregister_all",function(){var _=this;return _.groups=G([],{}),O}),u(q,"$unregister",function(_){var c,A,S=this;return c=z(arguments),A=c,R(A,"each_with_object",[S.$groups()],function(j,ee){return j==null&&(j=O),ee==null&&(ee=O),ee.$delete(j.$to_sym())}),O},-1)}(e.get_singleton_class(M),D)}(F[0],F)}(ke[0],ke)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){var U=e.module,B=e.klass,C=e.truthy,G=e.def,u=[],R=e.nil,we=e.$$$;return e.add_stubs("rstrip,read,join"),function(z,ce){var m=U(z,"Asciidoctor"),Ke=[m].concat(ce);return function(se,Fe){var fe=B(se,Fe,"Stylesheets"),ve=fe.$$prototype;return ve.primary_stylesheet_data=R,G(fe,"$primary_stylesheet_data",function(){var Se=this,Oe=R;return Se.primary_stylesheet_data=C(Oe=Se.primary_stylesheet_data)?Oe:we("IO").$read(we("File").$join("css","asciidoctor.css")).$rstrip()})}(Ke[0],null)}(u[0],u)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){var U=e.module,B=e.klass,C=e.def,G=[];return e.nil,function(u,R){var we=U(u,"Asciidoctor"),z=[we].concat(R),ce=e.$r(z);return function(m,Ke){var se=B(m,Ke,"Document");return C(se,"$fill_datetime_attributes",function(fe,ve){var st=e.truthy,Se=e.falsy,Oe=e.nil,Ce,Ye,it,b,We,h,Ve,rt,T=function(v,_){return _===0?v.getUTCFullYear():v.getFullYear()},k=function(v,_){return _===0?v.getUTCMonth():v.getMonth()},ke=function(v,_){return _===0?v.getUTCDate():v.getDate()},O=function(v,_){return _===0?v.getUTCHours():v.getHours()},ue=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(ue.setTime(parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),Ye=ue,Ce=0):Ce=-ue.getTimezoneOffset()/60,st(it=fe["$[]"]("localdate")))Se(b=fe["$[]"]("localyear"))&&(b=it.indexOf("-")===4?it.substring(0,4):Oe,fe["$[]="]("localyear",b));else{var ie=T(ue,Ce).toString(),H=("0"+(k(ue,Ce)+1)).slice(-2),X=("0"+ke(ue,Ce)).slice(-2);it=ie+"-"+H+"-"+X,fe["$[]="]("localdate",it),b=ie,fe["$[]="]("localyear",ie)}if(Se(We=fe["$[]"]("localtime"))){var F=("0"+O(ue,Ce)).slice(-2),E=("0"+ue.getMinutes()).slice(-2),x=("0"+ue.getSeconds()).slice(-2),M;Ce===0?M="UTC":Ce>0?M=("+0"+Ce*100).slice(-5):M=("-0"+-Ce*100).slice(-5),We=F+":"+E+":"+x+" "+M,fe["$[]="]("localtime",We)}if(Se(h=fe["$[]"]("localdatetime"))&&(h=it+" "+We,fe["$[]="]("localdatetime",h)),st(Ye)?ve=Ye:st(ve)?Ce=-ve.getTimezoneOffset()/60:ve=ue,st(Ve=fe["$[]"]("docdate")))fe["$[]="]("docyear",Ve.indexOf("-")===4?Ve.substring(0,4):Oe);else{var D=T(ve,Ce).toString(),Y=("0"+(k(ve,Ce)+1)).slice(-2),q=("0"+ke(ve,Ce)).slice(-2);Ve=D+"-"+Y+"-"+q,fe["$[]="]("docdate",Ve),Se(fe["$[]"]("docyear"))&&fe["$[]="]("docyear",D)}if(Se(rt=fe["$[]"]("doctime"))){var l=("0"+O(ve,Ce)).slice(-2),t=("0"+ve.getMinutes()).slice(-2),a=("0"+ve.getSeconds()).slice(-2),M;Ce===0?M="UTC":Ce>0?M=("+0"+Ce*100).slice(-5):M=("-0"+-Ce*100).slice(-5),rt=l+":"+t+":"+a+" "+M,fe["$[]="]("doctime",rt)}return Se(fe["$[]"]("docdatetime"))&&fe["$[]="]("docdatetime",Ve+" "+rt),Oe})}(z[0],ce("AbstractBlock"))}(G[0],G)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){var U=e.module,B=e.def,C=[];return e.nil,function(G,u){var R=U(G,"Asciidoctor"),we=[R].concat(u);return function(z){var ce=U(z,"Substitutors");return B(ce,"$sub_placeholder",function(Ke,se){return Ke.replace("%s",se)})}(we[0])}(C[0],C)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){var U=e.module,B=e.klass,C=e.truthy,G=e.defs,u=[];return e.nil,function(R,we){var z=U(R,"Asciidoctor"),ce=[z].concat(we);return function(m,Ke){var se=B(m,Ke,"Parser");return C(String.prototype.repeat)?G(se,"$uniform?",function(fe,ve,st){return ve.repeat(st)===fe}):G(se,"$uniform?",function(fe,ve,st){return Array.apply(null,{length:st}).map(function(){return ve}).join("")===fe})}(ce[0],null)}(u[0],u)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){var U=e.module,B=e.truthy,C=e.def,G=[],u=e.nil;return e.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(R,we){var z=U(R,"Asciidoctor"),ce=[z].concat(we);return function(m,Ke){var se=U(m,"SyntaxHighlighter"),Fe=[se].concat(Ke);return function(fe,ve){var st=U(fe,"Factory"),Se=[st].concat(ve),Oe=e.$r(Se);return C(st,"$for",function(Ye){var it=this;return B(it.$registry()["$key?"](Ye))?it.$registry()["$[]"](Ye):(B(it["$include?"](Oe("Logging")))||it.$include(Oe("Logging")),B(it.$registry()["$empty?"]())?it.$logger().$debug("no syntax highlighter available, functionality disabled."):it.$logger().$debug("syntax highlighter named '"+Ye+"' is not available, must be one of: '"+it.$registry().$keys().$join("', '")+"'."),u)})}(Fe[0],Fe)}(ce[0],ce)}(G[0],G)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){var U=e.top;e.nil,e.add_stubs("require"),U.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),U.$require("asciidoctor/js/asciidoctor_ext/document"),U.$require("asciidoctor/js/asciidoctor_ext/substitutors"),U.$require("asciidoctor/js/asciidoctor_ext/parser"),U.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),U.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){var U=e.klass,B=e.def,C=e.truthy,G=e.rb_lt,u=[],R=e.nil;return e.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(we,z,ce){var m=U(we,z,"Logger"),Ke=[m].concat(ce),se=e.$r(Ke),Fe=m.$$prototype;return Fe.level=Fe.progname=Fe.pipe=Fe.formatter=R,function(fe,ve){var st=U(fe,ve,"Formatter");return B(st,"$call",function(Oe,Ce,Ye,it){var b=this,We=R;return We=Ce.getFullYear()+"-"+("0"+(Ce.getMonth()+1)).slice(-2)+"-"+("0"+Ce.getDate()).slice(-2)+"T"+("0"+Ce.getHours()).slice(-2)+":"+("0"+Ce.getMinutes()).slice(-2)+":"+("0"+Ce.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+Oe.$chr()+", ["+We+"] "+Oe.$rjust(5)+" -- "+Ye+": "+b.$message_as_string(it)})}(Ke[0],null),B(m,"$add",function fe(ve,st,Se){var Oe=fe.$$p||R,Ce=this,Ye=R;return fe.$$p=null,st==null&&(st=R),Se==null&&(Se=R),C(G(ve=C(Ye=ve)?Ye:se("UNKNOWN"),Ce.level))||(Se=C(Ye=Se)?Ye:Ce.progname,C(st)||(Oe!==R?st=e.yieldX(Oe,[]):(st=Se,Se=Ce.progname)),Ce.pipe.$write(Ce.formatter.$call(C(Ye=se("SEVERITY_LABELS")["$[]"](ve))?Ye:"ANY",new Date,Se,st))),!0},-2)}(u[0],null,u)},Opal.modules["asciidoctor/js/postscript"]=function(e){var U=e.top;return e.nil,e.add_stubs("require"),U.$require("asciidoctor/converter/composite"),U.$require("asciidoctor/converter/html5"),U.$require("asciidoctor/extensions"),U.$require("asciidoctor/js/asciidoctor_ext"),U.$require("asciidoctor/js/opal_ext/logger")},Opal.queue(function(e){var U=e.module,B=e.const_set,C=e.send,G=e.to_ary,u=e.defs,R=e.def,we=e.truthy,z=e.hash2,ce=e.eqeq,m=e.rb_minus,Ke=e.regexp,se=e.top,Fe=[],fe=e.nil,ve=e.$$$;return e.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),se.$require("set"),se.$require("asciidoctor/js"),function(st,Se){var Oe=U(st,"Asciidoctor"),Ce=[Oe].concat(Se),Ye=e.$r(Ce),it=fe;return B(Ce[0],"RUBY_ENGINE_OPAL",B(Ce[0],"RUBY_ENGINE",ve("RUBY_ENGINE"))["$=="]("opal")),function(b,We){var h=U(b,"SafeMode"),Ve=[h].concat(We);return B(Ve[0],"UNSAFE",0),B(Ve[0],"SAFE",1),B(Ve[0],"SERVER",10),B(Ve[0],"SECURE",20),h.names_by_value=C(C(h.$constants(!1),"map",[],function rt(T){var k=rt.$$s==null?this:rt.$$s;return T==null&&(T=fe),[k.$const_get(T),T.$to_s().$downcase()]},{$$s:h}),"sort",[],function(T,k){var ke,O,ue=fe,ie=fe;return T==null&&(T=fe),k==null&&(k=fe),O=T,ke=G(O),ue=ke[0]==null?fe:ke[0],O=k,ke=G(O),ie=ke[0]==null?fe:ke[0],ue["$<=>"](ie)},{$$has_top_level_mlhs_arg:!0}).$to_h(),u(h,"$value_for_name",function(T){var k=this;return k.$const_get(T.$upcase(),!1)}),u(h,"$name_for_value",function(T){var k=this;return k.names_by_value==null&&(k.names_by_value=fe),k.names_by_value["$[]"](T)}),u(h,"$names",function(){var T=this;return T.names_by_value==null&&(T.names_by_value=fe),T.names_by_value.$values()})}(Ce[0],Ce),function(b,We){var h=U(b,"Compliance");return h.keys=ve("Set").$new(),function(Ve,rt){return Ve.$attr_reader("keys"),R(Ve,"$define",function(k,ke){var O=this;return O.keys==null&&(O.keys=fe),O.$instance_variable_set("@"+k,ke),O.$singleton_class().$send("attr_accessor",k),O.keys["$<<"](k),fe})}(e.get_singleton_class(h)),h.$define("block_terminates_paragraph",!0),h.$define("strict_verbatim_paragraphs",!0),h.$define("underline_style_section_titles",!0),h.$define("unwrap_standalone_preamble",!0),h.$define("attribute_missing","skip"),h.$define("attribute_undefined","drop-line"),h.$define("shorthand_property_syntax",!0),h.$define("natural_xrefs",!0),h.$define("unique_id_start_index",2),h.$define("markdown_syntax",!0)}(Ce[0]),we(Ye("ROOT_DIR","skip_raise")?"constant":fe)||B(Ce[0],"ROOT_DIR",ve("File").$dirname(ve("File").$absolute_path("."))),B(Ce[0],"LIB_DIR",ve("File").$join(Ye("ROOT_DIR"),"lib")),B(Ce[0],"DATA_DIR",ve("File").$join(Ye("ROOT_DIR"),"data")),B(Ce[0],"USER_HOME",function(){try{return ve("Dir").$home()}catch(b){if(e.rescue(b,[Ye("StandardError")]))try{return we(it=ve("ENV")["$[]"]("HOME"))?it:ve("Dir").$pwd()}finally{e.pop_exception()}else throw b}}()),B(Ce[0],"LF",`
`),B(Ce[0],"NULL","\0"),B(Ce[0],"TAB","	"),B(Ce[0],"MAX_INT",9007199254740991),B(Ce[0],"UTF_8",ve(ve("Encoding"),"UTF_8")),B(Ce[0],"BOM_BYTES_UTF_8",[239,187,191]),B(Ce[0],"BOM_BYTES_UTF_16LE",[255,254]),B(Ce[0],"BOM_BYTES_UTF_16BE",[254,255]),B(Ce[0],"FILE_READ_MODE",we(Ye("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),B(Ce[0],"URI_READ_MODE",Ye("FILE_READ_MODE")),B(Ce[0],"FILE_WRITE_MODE",we(Ye("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),B(Ce[0],"DEFAULT_DOCTYPE","article"),B(Ce[0],"DEFAULT_BACKEND","html5"),B(Ce[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),B(Ce[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),B(Ce[0],"BACKEND_ALIASES",z(["html","docbook"],{html:"html5",docbook:"docbook5"})),B(Ce[0],"DEFAULT_PAGE_WIDTHS",z(["docbook"],{docbook:425})),B(Ce[0],"DEFAULT_EXTENSIONS",z(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),B(Ce[0],"ASCIIDOC_EXTENSIONS",z([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),B(Ce[0],"SETEXT_SECTION_LEVELS",z(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),B(Ce[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),B(Ce[0],"ADMONITION_STYLE_HEADS",C(ve("Set").$new(),"tap",[],function(We){return We==null&&(We=fe),C(Ye("ADMONITION_STYLES"),"each",[],function(Ve){return Ve==null&&(Ve=fe),We["$<<"](Ve.$chr())})})),B(Ce[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),B(Ce[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),B(Ce[0],"DELIMITED_BLOCKS",z(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",ve("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",ve("Set").$new()],",===":["table",ve("Set").$new()],":===":["table",ve("Set").$new()],"!===":["table",ve("Set").$new()],"////":["comment",ve("Set").$new()],"```":["fenced_code",ve("Set").$new()]})),B(Ce[0],"DELIMITED_BLOCK_HEADS",C(z([],{}),"tap",[],function(We){return We==null&&(We=fe),C(Ye("DELIMITED_BLOCKS"),"each_key",[],function(Ve){var rt;return Ve==null&&(Ve=fe),rt=[Ve.$slice(0,2),!0],C(We,"[]=",rt),rt[rt.length-1]})})),B(Ce[0],"DELIMITED_BLOCK_TAILS",C(z([],{}),"tap",[],function(We){return We==null&&(We=fe),C(Ye("DELIMITED_BLOCKS"),"each_key",[],function(Ve){var rt;return Ve==null&&(Ve=fe),ce(Ve.$length(),4)?(rt=[Ve,Ve["$[]"](m(Ve.$length(),1))],C(We,"[]=",rt),rt[rt.length-1]):fe})})),B(Ce[0],"CAPTION_ATTRIBUTE_NAMES",z(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),B(Ce[0],"LAYOUT_BREAK_CHARS",z(["'","<"],{"'":"thematic_break","<":"page_break"})),B(Ce[0],"MARKDOWN_THEMATIC_BREAK_CHARS",z(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),B(Ce[0],"HYBRID_LAYOUT_BREAK_CHARS",Ye("LAYOUT_BREAK_CHARS").$merge(Ye("MARKDOWN_THEMATIC_BREAK_CHARS"))),B(Ce[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),B(Ce[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),B(Ce[0],"ORDERED_LIST_KEYWORDS",z(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),B(Ce[0],"ATTR_REF_HEAD","{"),B(Ce[0],"LIST_CONTINUATION","+"),B(Ce[0],"HARD_LINE_BREAK"," +"),B(Ce[0],"LINE_CONTINUATION"," \\"),B(Ce[0],"LINE_CONTINUATION_LEGACY"," +"),B(Ce[0],"BLOCK_MATH_DELIMITERS",z(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),B(Ce[0],"INLINE_MATH_DELIMITERS",z(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),B(Ce[0],"STEM_TYPE_ALIASES",z(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),B(Ce[0],"FONT_AWESOME_VERSION","4.7.0"),B(Ce[0],"HIGHLIGHT_JS_VERSION","9.18.3"),B(Ce[0],"MATHJAX_VERSION","2.7.9"),B(Ce[0],"DEFAULT_ATTRIBUTES",z(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),B(Ce[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),B(Ce[0],"INTRINSIC_ATTRIBUTES",z(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),B(Ce[0],"QUOTE_SUBS",C(z([],{}),"tap",[],function(We){var h=fe,Ve=fe;return We==null&&(We=fe),We["$[]="](!1,h=[["strong","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",Ye("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",Ye("CC_ALL"),"*?\\S)\\*(?!",Ye("CG_WORD"),")"],"m")],["double","constrained",Ke(["(^|[^",Ye("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',Ye("CC_ALL"),'*?\\S)`"(?!',Ye("CG_WORD"),")"],"m")],["single","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",Ye("CC_ALL"),"*?\\S)`'(?!",Ye("CG_WORD"),")"],"m")],["monospaced","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?``(",Ye("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ye("CC_ALL"),"*?\\S)`(?![",Ye("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?__(",Ye("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",Ye("CC_ALL"),"*?\\S)_(?!",Ye("CG_WORD"),")"],"m")],["mark","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?##(",Ye("CC_ALL"),"+?)##"],"m")],["mark","constrained",Ke(["(^|[^",Ye("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",Ye("CC_ALL"),"*?\\S)#(?!",Ye("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),We["$[]="](!0,Ve=h.$drop(0)),Ve["$[]="](2,["double","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",Ye("CC_ALL"),"*?\\S)''(?!",Ye("CG_WORD"),")"],"m")]),Ve["$[]="](3,["single","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ye("CC_ALL"),"*?\\S)'(?!",Ye("CG_WORD"),")"],"m")]),Ve["$[]="](4,["monospaced","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",Ye("CC_ALL"),"+?)\\+\\+"],"m")]),Ve["$[]="](5,["monospaced","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",Ye("CC_ALL"),"*?\\S)\\+(?!",Ye("CG_WORD"),")"],"m")]),Ve.$insert(3,["emphasis","constrained",Ke(["(^|[^",Ye("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",Ye("CC_ALL"),"*?\\S)'(?!",Ye("CG_WORD"),")"],"m")])})),B(Ce[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[Ke(["(",Ye("CG_WORD"),")\\\\?--(?=",Ye("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[Ke(["(",Ye("CG_ALNUM"),")\\\\?'(?=",Ye("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),fe}(Fe[0],Fe),se.$require("asciidoctor.rb/../asciidoctor/core_ext"),se.$require("asciidoctor.rb/../asciidoctor/helpers"),se.$require("asciidoctor.rb/../asciidoctor/logging"),se.$require("asciidoctor.rb/../asciidoctor/rx"),se.$require("asciidoctor.rb/../asciidoctor/substitutors"),se.$require("asciidoctor.rb/../asciidoctor/version"),se.$require("asciidoctor.rb/../asciidoctor/abstract_node"),se.$require("asciidoctor.rb/../asciidoctor/abstract_block"),se.$require("asciidoctor.rb/../asciidoctor/attribute_list"),se.$require("asciidoctor.rb/../asciidoctor/block"),se.$require("asciidoctor.rb/../asciidoctor/callouts"),se.$require("asciidoctor.rb/../asciidoctor/converter"),se.$require("asciidoctor.rb/../asciidoctor/document"),se.$require("asciidoctor.rb/../asciidoctor/inline"),se.$require("asciidoctor.rb/../asciidoctor/list"),se.$require("asciidoctor.rb/../asciidoctor/parser"),se.$require("asciidoctor.rb/../asciidoctor/path_resolver"),se.$require("asciidoctor.rb/../asciidoctor/reader"),se.$require("asciidoctor.rb/../asciidoctor/section"),se.$require("asciidoctor.rb/../asciidoctor/stylesheets"),se.$require("asciidoctor.rb/../asciidoctor/table"),se.$require("asciidoctor.rb/../asciidoctor/writer"),se.$require("asciidoctor.rb/../asciidoctor/load"),se.$require("asciidoctor.rb/../asciidoctor/convert"),se.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),se.$require("asciidoctor.rb/../asciidoctor/timings"),se.$require("asciidoctor/js/postscript")});const Q=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},Re=function(e){const U={};if(e){const B=e.$$smap;for(const G in B){const u=B[G];U[G]=u===Opal.nil?void 0:u}const C=e.$$map;if(C){const G=[];for(const u in C){const R=C[u],we=R.value,z=R.key-1;G[z]=we===Opal.nil?void 0:we}G.length>0&&(U.$positional=G)}}return U},je=function(e){const U={};if(e){const B=e.$$keys;for(const C in B){const G=B[C].value;U[C.toString()]=G===Opal.nil?void 0:G}}return U},_e=function(e){if(e=Q(e),e){const U=e["$[]"]("converter");U&&U!==Opal.nil&&e["$[]="]("converter",Xe(U));const B=e["$[]"]("attributes");B&&typeof B=="object"&&B.constructor.name==="Object"&&(e=e.$dup(),e["$[]="]("attributes",Q(B)))}return e},Xe=function(e){const U=function(ce){return Object.assign({},ce.basebackend?{basebackend:ce.basebackend}:{},ce.outfilesuffix?{outfilesuffix:ce.outfilesuffix}:{},ce.filetype?{filetype:ce.filetype}:{},ce.htmlsyntax?{htmlsyntax:ce.htmlsyntax}:{},ce.supports_templates?{supports_templates:ce.supports_templates}:{})},B=function(ce,m){ce.backend_traits?m.backend_traits=Q(ce.backend_traits):ce.backendTraits?m.backend_traits=Q(ce.backendTraits):(ce.basebackend||ce.outfilesuffix||ce.filetype||ce.htmlsyntax||ce.supports_templates)&&(m.backend_traits=Q(U(ce)))},C=function(ce,m){we(ce,m,"$handles?","handles",function(){return!0})},G=function(ce,m){we(ce,m,"$composed","composed")},u=function(ce,m){we(ce,m,"$==","==",function(Ke){return m===Ke})},R=function(ce,m){we(ce,m,"$send","send",function(Ke){const[,...se]=Array.from(arguments),Fe=m["$"+Ke];if(Fe)return Fe.apply(m,se);throw new Error(`undefined method \`${Ke}\` for \`${m.toString()}\``)})},we=function(ce,m,Ke,se,Fe){typeof ce[Ke]>"u"&&(typeof ce[se]=="function"?m[Ke]=ce[se]:Fe&&(m[Ke]=Fe))},z=function(ce){typeof ce["$respond_to?"]!="function"&&(ce["$respond_to?"]=function(m){return typeof this[m]=="function"})};if(typeof e=="function"){const ce=ze(ot,e.constructor.name,{initialize:function(m,Ke){const se=this,Fe=new e(m,Ke);Object.assign(this,Fe),B(Fe,se);const fe=Object.getOwnPropertyNames(e.prototype);for(let ve=0;ve<fe.length;ve++){const st=fe[ve];st!=="constructor"&&(se[st]=Fe[st])}typeof Fe.$convert>"u"&&typeof Fe.convert=="function"&&(se.$convert=Fe.convert),C(Fe,se),G(Fe,se),z(se),se.super(m,Ke)}});return ce.$extend(lt),ce}if(typeof e=="object"){if(typeof e.$convert>"u"&&typeof e.convert=="function"&&(e.$convert=e.convert),B(e,e),e.backend_traits){const ce=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const m of ce)e["$"+m]=lt.prototype["$"+m];e.$$meta=lt}return C(e,e),G(e,e),u(e,e),R(e,e),z(e),e}return e};function ze(e,U,B,C,G){const u=Opal.klass(Opal.Object,e,U,function(){});let R,we,z;const ce={};for(const se in B)Object.prototype.hasOwnProperty.call(B,se)&&function(Fe){const fe=B[Fe];if(Fe==="postConstruct")R=fe;else if(Fe==="initialize")we=fe;else if(Fe==="constructor")z=fe;else{C&&Object.prototype.hasOwnProperty.call(C,Fe)&&(ce[Fe]=!0);let ve;Opal.def(u,"$"+Fe,ve=function(){let st;G&&Object.prototype.hasOwnProperty.call(G,Fe)?st=G[Fe](arguments):st=arguments;const Se=ve.$$p;return Se&&(st[st.length]=function(){return Opal.yield1(Se)},st.length+=1,ve.$$p=null),fe.apply(this,st)})}}(se);let m;typeof z=="function"?m=function(){const se=Array.from(arguments);for(let fe=0;fe<se.length;fe++)typeof se[fe]=="object"&&"$$smap"in se[fe]&&(se[fe]=Re(se[fe]));se.unshift(null);const Fe=new(Function.prototype.bind.apply(z,se));Object.assign(this,Fe),typeof R=="function"&&R.bind(this)()}:typeof we=="function"?m=function(){const se=Array.from(arguments);for(let Fe=0;Fe<se.length;Fe++)typeof se[Fe]=="object"&&"$$smap"in se[Fe]&&(se[Fe]=Re(se[Fe]));we.apply(this,se),typeof R=="function"&&R.bind(this)()}:m=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",m)),typeof R=="function"&&R.bind(this)()},Opal.def(u,"$initialize",m);let Ke;Opal.def(u,"super",Ke=function(se){if(typeof se=="function")Opal.send(this,Opal.find_super_dispatcher(this,se.name,se));else{const Fe=Array.from(arguments);for(let fe=0;fe<Fe.length;fe++)typeof Fe[fe]=="object"&&(Fe[fe]=Q(Fe[fe]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",m),Fe)}});for(const se in B)Ke[se]=function(){const Fe=Array.from(arguments);for(let ve=0;ve<Fe.length;ve++)typeof Fe[ve]=="object"&&typeof Fe[ve].constructor=="function"&&Fe[ve].constructor.name==="Object"&&(Fe[ve]=Q(Fe[ve]));const fe=u.$$prototype;return Opal.send(fe,Opal.find_super_dispatcher(fe,se,fe[`$${se}`]),Fe)};if(C)for(const se in C)Object.prototype.hasOwnProperty.call(C,se)&&!Object.prototype.hasOwnProperty.call(ce,se)&&function(Fe){const fe=C[Fe];Opal.def(u,"$"+Fe,function(){return fe.apply(this,arguments)})}(se);return u}const Te=Opal.Asciidoctor.$$class;Te.prototype.getCoreVersion=function(){return this.$$const.VERSION},Te.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},Te.prototype.convert=function(e,U){typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8"));const B=U&&U.to_file;typeof B=="object"&&B.constructor.name==="Writable"&&typeof B.write=="function"&&(B["$respond_to?"]=u=>u==="write",B.$object_id=()=>"",B.$write=function(u){this.write(u)});const C=_e(U),G=this.$convert(e,C);return typeof B=="object"&&B.constructor.name==="Writable"&&typeof B.end=="function"&&B.end(),G===Opal.nil?"":G},Te.prototype.convertFile=function(e,U){return this.$convert_file(e,_e(U))},Te.prototype.load=function(e,U){return typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8")),this.$load(e,_e(U))},Te.prototype.loadFile=function(e,U){return this.$load_file(e,_e(U))};const ye=Opal.Asciidoctor.AbstractBlock;ye.prototype.getContentModel=function(){const e=this.content_model;return e===Opal.nil?void 0:e},ye.prototype.setContentModel=function(e){this.content_model=e},ye.prototype.append=function(e){return this.$append(e),this},ye.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},ye.prototype.setTitle=function(e){return e=typeof e>"u"?Opal.nil:e,this["$title="](e)},ye.prototype.assignCaption=function(e,U){e=typeof e>"u"?Opal.nil:e,U=typeof U>"u"?null:U,this.$assign_caption(e,U)},ye.prototype.getCaptionedTitle=function(){return this.$captioned_title()},ye.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e},ye.prototype.setStyle=function(e){this.style=e},ye.prototype.getSourceLocation=function(){const e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){const U=this.file;return U===Opal.nil?void 0:U},e.getDirectory=function(){const U=this.dir;return U===Opal.nil?void 0:U},e.getPath=function(){const U=this.path;return U===Opal.nil?void 0:U},e.getLineNumber=function(){const U=this.lineno;return U===Opal.nil?void 0:U},e},ye.prototype.getCaption=function(){const e=this.$caption();return e===Opal.nil?void 0:e},ye.prototype.setCaption=function(e){this.caption=typeof e>"u"?Opal.nil:e},ye.prototype.getLevel=function(){const e=this.level;return e===Opal.nil?void 0:e},ye.prototype.getSubstitutions=function(){return this.subs},ye.prototype.hasSubstitution=function(e){return this["$sub?"](e)},ye.prototype.removeSubstitution=function(e){this.$remove_sub(e)},ye.prototype.hasBlocks=function(){return this.blocks.length>0},ye.prototype.getBlocks=function(){return this.blocks},ye.prototype.getContent=function(){const e=this.$content();return e===Opal.nil?void 0:e},ye.prototype.convert=function(){return this.$convert()},ye.prototype.findBy=function(e,U){return typeof U>"u"&&typeof e=="function"?Opal.send(this,"find_by",null,e):typeof U=="function"?Opal.send(this,"find_by",[Q(e)],U):this.$find_by(Q(e))},ye.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},ye.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},ye.prototype.getSections=function(){return this.$sections()},ye.prototype.getNumeral=function(){const e=this.$numeral();return e===Opal.nil?void 0:e},ye.prototype.setNumeral=function(e){this["$numeral="](e)},ye.prototype.hasTitle=function(){return this["$title?"]()},ye.prototype.getAlt=function(){return this.$alt()};const W=Opal.Asciidoctor.Section;W.create=function(e,U,B,C){return C&&C.attributes&&(C.attributes=Q(C.attributes)),this.$new(e,U,B,Q(C))},W.prototype.setLevel=function(e){this.level=e},W.prototype.getIndex=function(){return this.index},W.prototype.setIndex=function(e){this.index=e},W.prototype.getSectionName=function(){const e=this.sectname;return e===Opal.nil?void 0:e},W.prototype.setSectionName=function(e){this.sectname=e},W.prototype.getSectionNumeral=function(){return this.$sectnum()},W.prototype.getSectionNumber=W.prototype.getSectionNumeral,W.prototype.isSpecial=function(){return this.special},W.prototype.setSpecial=function(e){this.special=e},W.prototype.isNumbered=function(){return this.numbered},W.prototype.getCaption=function(){const e=this.caption;return e===Opal.nil?void 0:e},W.prototype.getName=function(){return this.getTitle()};const Be=Opal.Asciidoctor.Block;Be.create=function(e,U,B){return B&&B.attributes&&(B.attributes=Q(B.attributes)),this.$new(e,U,Q(B))},Be.prototype.getSource=function(){return this.$source()},Be.prototype.getSourceLines=function(){return this.lines};const Pe=Opal.Asciidoctor.AbstractNode;Pe.prototype.applySubstitutions=function(e,U){return this.$apply_subs(e,U)},Pe.prototype.resolveSubstitutions=function(e,U,B,C){typeof U>"u"&&(U="block"),typeof B>"u"&&(B=Opal.nil),typeof C>"u"&&(C=Opal.nil);const G=this.$resolve_subs(e,U,B,C);return G===Opal.nil?void 0:G},Pe.prototype.resolveBlockSubstitutions=function(e,U,B){return this.resolveSubstitutions(e,"block",U,B)},Pe.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},Pe.prototype.getNodeName=function(){return this.node_name},Pe.prototype.getAttributes=function(){return Re(this.attributes)},Pe.prototype.getAttribute=function(e,U,B){const C=this.$attr(e,U,B);return C===Opal.nil?void 0:C},Pe.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},Pe.prototype.isAttribute=function(e,U,B){return this["$attr?"](e,U,B)},Pe.prototype.setAttribute=function(e,U,B){return typeof B>"u"&&(B=!0),this.$set_attr(e,U,B)},Pe.prototype.removeAttribute=function(e){const U=this.$remove_attr(e);return U===Opal.nil?void 0:U},Pe.prototype.getDocument=function(){return this.document},Pe.prototype.getParent=function(){const e=this.parent;return e===Opal.nil?void 0:e},Pe.prototype.isInline=function(){return this["$inline?"]()},Pe.prototype.isBlock=function(){return this["$block?"]()},Pe.prototype.isRole=function(e){return this["$role?"](e)},Pe.prototype.getRole=function(){const e=this.$role();return e===Opal.nil?void 0:e},Pe.prototype.setRole=function(e){return Array.isArray(e)||typeof e=="string"&&arguments.length===1?this["$role="](e):this["$role="](Array.from(arguments))},Pe.prototype.hasRole=function(e){return this["$has_role?"](e)},Pe.prototype.getRoles=function(){return this.$roles()},Pe.prototype.addRole=function(e){return this.$add_role(e)},Pe.prototype.removeRole=function(e){return this.$remove_role(e)},Pe.prototype.isReftext=function(){return this["$reftext?"]()},Pe.prototype.getReftext=function(){const e=this.$reftext();return e===Opal.nil?void 0:e},Pe.prototype.getContext=function(){const e=this.context;return typeof e=="string"?e:e.toString()},Pe.prototype.getId=function(){const e=this.id;return e===Opal.nil?void 0:e},Pe.prototype.setId=function(e){this.id=e},Pe.prototype.isOption=function(e){return this["$option?"](e)},Pe.prototype.setOption=function(e){return this.$set_option(e)},Pe.prototype.getIconUri=function(e){return this.$icon_uri(e)},Pe.prototype.getMediaUri=function(e,U){return this.$media_uri(e,U)},Pe.prototype.getImageUri=function(e,U){return this.$image_uri(e,U)},Pe.prototype.getConverter=function(){return this.$converter()},Pe.prototype.readContents=function(e,U){return this.$read_contents(e,Q(U))},Pe.prototype.readAsset=function(e,U){const B=this.$read_asset(e,Q(U));return B===Opal.nil?void 0:B},Pe.prototype.normalizeWebPath=function(e,U,B){return this.$normalize_web_path(e,U,B)},Pe.prototype.normalizeSystemPath=function(e,U,B,C){return this.$normalize_system_path(e,U,B,Q(C))},Pe.prototype.normalizeAssetPath=function(e,U,B){return this.$normalize_asset_path(e,U,B)};const qe=Opal.Asciidoctor.Document;qe.prototype.append=function(e){return this["$<<"](e),this},qe.prototype.getSyntaxHighlighter=function(){const e=this.syntax_highlighter,U=e.__proto__;return U&&(typeof U["$highlight?"]=="function"&&(U.handlesHighlighting=function(){const B=U["$highlight?"]();return B===Opal.nil?!1:B}),typeof U["$docinfo?"]=="function"&&(U.hasDocinfo=U["$docinfo?"]),typeof U.$format=="function"&&(U.format=function(B,C,G){return this.$format(B,C,Q(G))}),typeof U.$docinfo=="function"&&(U.docinfo=function(B,C,G){return this.$docinfo(B,C,Q(G))})),e},qe.prototype.getRefs=function(){return Re(this.catalog.$$smap.refs)},qe.prototype.getImages=function(){return this.catalog.$$smap.images},qe.prototype.getLinks=function(){return this.catalog.$$smap.links},qe.prototype.hasFootnotes=function(){return this["$footnotes?"]()},qe.prototype.getFootnotes=function(){return this.$footnotes()},qe.prototype.getHeader=function(){return this.header},qe.prototype.setAttribute=function(e,U){return this.$set_attribute(e,U)},qe.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},qe.prototype.convert=function(e){const U=this.$convert(Q(e));return U===Opal.nil?"":U},qe.prototype.write=function(e,U){return this.$write(e,U)},qe.prototype.getAuthor=function(){return this.$author()},qe.prototype.getSource=function(){return this.$source()},qe.prototype.getSourceLines=function(){return this.$source_lines()},qe.prototype.isNested=function(){return this["$nested?"]()},qe.prototype.isEmbedded=function(){return this["$embedded?"]()},qe.prototype.hasExtensions=function(){return this["$extensions?"]()},qe.prototype.getDoctype=function(){return this.doctype},qe.prototype.getBackend=function(){return this.backend},qe.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},qe.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},qe.prototype.setTitle=function(e){return this["$title="](e)},qe.prototype.getDocumentTitle=function(e){const U=this.$doctitle(Q(e));return U===Opal.nil?void 0:U},qe.prototype.getDoctitle=qe.prototype.getDocumentTitle,qe.prototype.getCatalog=function(){return Re(this.catalog)},qe.prototype.getReferences=qe.prototype.getCatalog,qe.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},qe.prototype.getRevdate=function(){return this.getRevisionDate()},qe.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},qe.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},qe.prototype.setHeaderAttribute=function(e,U,B){return typeof B>"u"&&(B=!0),typeof U>"u"&&(U=""),this.$set_header_attribute(e,U,B)},qe.prototype.getAuthors=function(){return this.$authors()};const He=qe.Footnote;He.prototype.getIndex=function(){const e=this.$$data.index;return e===Opal.nil?void 0:e},He.prototype.getId=function(){const e=this.$$data.id;return e===Opal.nil?void 0:e},He.prototype.getText=function(){const e=this.$$data.text;return e===Opal.nil?void 0:e};const Ge=qe.ImageReference;Ge.prototype.getTarget=function(){return this.$$data.target},Ge.prototype.getImagesDirectory=function(){const e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};const Ne=qe.Author;Ne.prototype.getName=function(){const e=this.$$data.name;return e===Opal.nil?void 0:e},Ne.prototype.getFirstName=function(){const e=this.$$data.firstname;return e===Opal.nil?void 0:e},Ne.prototype.getMiddleName=function(){const e=this.$$data.middlename;return e===Opal.nil?void 0:e},Ne.prototype.getLastName=function(){const e=this.$$data.lastname;return e===Opal.nil?void 0:e},Ne.prototype.getInitials=function(){const e=this.$$data.initials;return e===Opal.nil?void 0:e},Ne.prototype.getEmail=function(){const e=this.$$data.email;return e===Opal.nil?void 0:e},qe.RevisionInfo=function(e,U,B){this.date=e,this.number=U,this.remark=B};const te=qe.RevisionInfo;te.prototype.getDate=function(){return this.date},te.prototype.getNumber=function(){return this.number},te.prototype.getRemark=function(){return this.remark},te.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};const Ee=Opal.Asciidoctor.SafeMode;Ee.getValueForName=function(e){return this.$value_for_name(e)},Ee.getNameForValue=function(e){const U=this.$name_for_value(e);return U===Opal.nil?void 0:U},Ee.getNames=function(){return this.$names()};const Je=Opal.Asciidoctor.Callouts;Je.create=function(){return this.$new()},Je.prototype.register=function(e){return this.$register(e)},Je.prototype.readNextId=function(){return this.$read_next_id()},Je.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},Je.prototype.getLists=function(){const e=this.lists;if(e&&e.length>0)for(let U=0;U<e.length;U++){const B=e[U];if(B&&B.length>0)for(let C=0;C<B.length;C++)typeof B[C]=="object"&&"$$smap"in B[C]&&(B[C]=Re(B[C]))}return e},Je.prototype.getListIndex=function(){return this.list_index},Je.prototype.getCurrentList=function(){const e=this.$current_list();if(e&&e.length>0)for(let U=0;U<e.length;U++)typeof e[U]=="object"&&"$$smap"in e[U]&&(e[U]=Re(e[U]));return e},Je.prototype.nextList=function(){return this.$nextList()},Je.prototype.rewind=function(){return this.$rewind()},qe.prototype.getRevisionInfo=function(){return new qe.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},qe.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},qe.prototype.getNotitle=function(){return this.$notitle()},qe.prototype.getNoheader=function(){return this.$noheader()},qe.prototype.getNofooter=function(){return this.$nofooter()},qe.prototype.hasHeader=function(){return this["$header?"]()},qe.prototype.playbackAttributes=function(e){if(e=Q(e),e){const U=e["$[]"]("attribute_entries");if(U&&Array.isArray(U)){const B=[];for(let C=0;C<U.length;C++){const G=U[C];G&&typeof G=="object"&&G.constructor.name==="Object"&&(G.$name=function(){return this.name},G.$value=function(){return this.value},G.$negate=function(){return this.negate}),B.push(G)}e["$[]="]("attribute_entries",B)}}this.$playback_attributes(e)},qe.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},qe.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},qe.prototype.restoreAttributes=function(){return this.$restore_attributes()},qe.prototype.parse=function(e){return this.$parse(e)},qe.prototype.getDocinfo=function(e,U){return this.$docinfo(e,U)},qe.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},qe.prototype.incrementAndStoreCounter=function(e,U){return this.$increment_and_store_counter(e,U)},qe.prototype.counterIncrement=qe.prototype.incrementAndStoreCounter,qe.prototype.counter=function(e,U){return this.$counter(e,U)},qe.prototype.getSafe=function(){return this.safe},qe.prototype.getCompatMode=function(){return this.compat_mode},qe.prototype.getSourcemap=function(){const e=this.sourcemap;return e===Opal.nil?!1:e},qe.prototype.setSourcemap=function(e){this.sourcemap=e},qe.prototype.getCounters=function(){return Re(this.counters)},qe.prototype.getCallouts=function(){return this.$callouts()},qe.prototype.getBaseDir=function(){return this.base_dir},qe.prototype.getOptions=function(){return Re(this.options)},qe.prototype.getOutfilesuffix=function(){return this.outfilesuffix},qe.prototype.getParentDocument=function(){const e=this.parent_document;return e===Opal.nil?void 0:e},qe.prototype.getReader=function(){return this.reader},qe.prototype.getConverter=function(){return this.converter},qe.prototype.getExtensions=function(){const e=this.extensions;return e===Opal.nil?void 0:e};const Le=qe.Title;Le.prototype.getMain=function(){return this.main},Le.prototype.getCombined=function(){return this.combined},Le.prototype.getSubtitle=function(){const e=this.subtitle;return e===Opal.nil?void 0:e},Le.prototype.isSanitized=function(){const e=this["$sanitized?"]();return e===Opal.nil?!1:e},Le.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const xe=Opal.Asciidoctor.Inline;xe.create=function(e,U,B,C){return this.$new(e,U,B,_e(C))},xe.prototype.convert=function(){return this.$convert()},xe.prototype.getText=function(){const e=this.$text();return e===Opal.nil?void 0:e},xe.prototype.getType=function(){return this.$type()},xe.prototype.getTarget=function(){const e=this.$target();return e===Opal.nil?void 0:e},xe.prototype.getAlt=function(){return this.$alt()};const $e=Opal.Asciidoctor.List;$e.prototype.hasItems=function(){return this["$items?"]()},$e.prototype.getItems=function(){return this.blocks};const pe=Opal.Asciidoctor.ListItem;pe.prototype.getText=function(){return this.$text()},pe.prototype.setText=function(e){return this["$text="](e)},pe.prototype.hasText=function(){return this["$text?"]()},pe.prototype.getMarker=function(){return this.marker},pe.prototype.setMarker=function(e){this.marker=e},pe.prototype.getList=function(){return this.$list()},pe.prototype.getParent=pe.prototype.getList;const ae=Opal.Asciidoctor.Reader;ae.prototype.pushInclude=function(e,U,B,C,G){return this.$push_include(e,U,B,C,Q(G))},ae.prototype.getCursor=function(){return this.$cursor()},ae.prototype.getLines=function(){return this.$lines()},ae.prototype.getString=function(){return this.$string()},ae.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},ae.prototype.isEmpty=function(){return this["$empty?"]()},ae.prototype.peekLine=function(e){e=e||!1;const U=this.$peek_line(e);return U===Opal.nil?void 0:U},ae.prototype.readLine=function(){const e=this.$read_line();return e===Opal.nil?void 0:e},ae.prototype.readLines=function(){return this.$read_lines()},ae.prototype.read=function(){return this.$read()},ae.prototype.advance=function(){return this.$advance()};const Ie=Opal.Asciidoctor.Reader.Cursor;Ie.prototype.getFile=function(){const e=this.file;return e===Opal.nil?void 0:e},Ie.prototype.getDirectory=function(){const e=this.dir;return e===Opal.nil?void 0:e},Ie.prototype.getPath=function(){const e=this.path;return e===Opal.nil?void 0:e},Ie.prototype.getLineNumber=function(){return this.lineno};function ne(e,U){const B=Opal.const_get_qualified(Opal.Logger,"Formatter");return ze(B,e,U,{},{call:function(C){for(let G=0;G<C.length;G++)typeof C[G]=="object"&&"$$smap"in C[G]&&(C[G]=Re(C[G]));return C}})}function me(e,U){const B=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return ze(B,e,U,{},{add:function(C){if(C.length>=2&&typeof C[2]=="object"&&"$$smap"in C[2]){const G=C[2],u=Re(G);u.getText=function(){return this.text},u.getSourceLocation=function(){return this.source_location},u.$inspect=function(){const R=this.getSourceLocation();return R?R.getPath()+": line "+R.getLineNumber()+": "+this.getText():this.getText()},C[2]=u}return C.length>=1&&(C[1]=C[1]===Opal.nil?void 0:C[1]),C}})}const Z=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=Z,Z.getLogger=function(){return this.$logger()},Z.setLogger=function(e){this["$logger="](e)},Z.newLogger=function(e,U){return me(e,U).$new()},Z.newFormatter=function(e,U){return ne(e,U).$new()};const p=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=p,p.get=function(e){return p.$constants()[e]};const oe=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=oe,oe.prototype.call=function(e,U,B,C){return this.$call(p.get(e),U,B,C)};const I=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=I,I.create=function(){return this.$new()},I.prototype.getMessages=function(){const e=this.messages,U=[];for(let B=0;B<e.length;B++){const C=e[B],G=Re(C);typeof G.message=="string"?G.getText=function(){return this.message}:(G.message=Re(G.message),G.getText=function(){return this.message.text}),G.getSeverity=function(){return this.severity.toString()},G.getSourceLocation=function(){return this.message.source_location},U.push(G)}return U};const V=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=V,V.getLogger=function(){return Z.$logger()},V.createLogMessage=function(e,U){return V.prototype.$message_with_context(e,Q(U))},ae.prototype.getLogger=V.getLogger,ae.prototype.createLogMessage=V.createLogMessage,Pe.prototype.getLogger=V.getLogger,Pe.prototype.createLogMessage=V.createLogMessage;const N=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=N,N.prototype.getMaxSeverity=function(){const e=this.max_severity;return e===Opal.nil?void 0:e},N.prototype.getFormatter=function(){return this.formatter},N.prototype.setFormatter=function(e){this.formatter=e},N.prototype.getLevel=function(){return this.level},N.prototype.setLevel=function(e){this.level=e},N.prototype.getProgramName=function(){return this.progname},N.prototype.setProgramName=function(e){this.progname=e};const Ae=Opal.const_get_qualified("::","Logger"),re=function(e,U,B){e["$"+U](B)};Ae.prototype.add=function(e,U,B){const C=typeof e=="string"?p[e.toUpperCase()]:e;this.$add(C,U,B)},Ae.prototype.log=Ae.prototype.add,Ae.prototype.debug=function(e){re(this,"debug",e)},Ae.prototype.info=function(e){re(this,"info",e)},Ae.prototype.warn=function(e){re(this,"warn",e)},Ae.prototype.error=function(e){re(this,"error",e)},Ae.prototype.fatal=function(e){re(this,"fatal",e)},Ae.prototype.isDebugEnabled=function(){return this["$debug?"]()},Ae.prototype.isInfoEnabled=function(){return this["$info?"]()},Ae.prototype.isWarnEnabled=function(){return this["$warn?"]()},Ae.prototype.isErrorEnabled=function(){return this["$error?"]()},Ae.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const L=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=L,L.create=function(){return this.$new()},L.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const d=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=d,d.create=function(){return this.$new()},d.prototype.printReport=function(e,U){let B;if(e)if(typeof e.$add=="function")B=function(C){e.$add(1,C)};else if(typeof e.log=="function")B=e.log;else if(typeof e.write=="function")B=function(C){e.write(C,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else B=function(C){Opal.gvars.stdout.$write(C)};U&&B("Input file: "+U),B(" Time to read and parse source: "+this.$read_parse().toFixed(2)),B(" Time to convert document: "+this.$convert().toFixed(2)),B(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const i=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=i,i.register=function(e,U){const B=typeof e=="string"?e:e[0];if(typeof U=="function"){const u=U.prototype,R=Object.getOwnPropertyNames(u);U={};for(const we in R){const z=R[we];U[z]=u[z]}}const C=ze(r,B,U,{},{format:function(G){return G.length>=2&&typeof G[2]=="object"&&"$$smap"in G[2]&&(G[2]=Re(G[2])),G.length>=1&&(G[1]=G[1]===Opal.nil?void 0:G[1]),G},highlight:function(G){if(G.length>=3&&typeof G[3]=="object"&&"$$smap"in G[3]){let u=G[3];u=Re(u);for(const R in u){const we=u[R];if(R==="callouts"){const z=je(we);for(const ce in z){const m=z[ce];for(let Ke=0;Ke<m.length;Ke++){const se=m[Ke];for(let Fe=0;Fe<se.length;Fe++)se[Fe]=se[Fe]===Opal.nil?void 0:se[Fe]}}u[R]=z}else u[R]=we===Opal.nil?void 0:we}G[3]=u}return G.length>=2&&(G[2]=G[2]===Opal.nil?void 0:G[2]),G}});for(const G in U)Object.prototype.hasOwnProperty.call(U,G)&&function(u){const R=U[u];u==="handlesHighlighting"?Opal.def(C,"$highlight?",function(){return R.call()}):u==="hasDocinfo"&&Opal.def(C,"$docinfo?",function(we){return R.apply(this,[we])})}(G);return Opal.def(C,"$name",function(){return B}),i.$register(C,e),C},i.get=function(e){const U=i.$for(e);return U===Opal.nil?void 0:U},i.for=i.get;const r=Opal.const_get_qualified(i,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=r,r.prototype.registerFor=function(e){i.$register(this,e)};const n=Opal.Asciidoctor.Table;n.create=function(e,U){return this.$new(e,Q(U))},n.prototype.getCaption=function(){return this.caption},n.prototype.getRows=function(){return this.rows},n.prototype.getColumns=function(){return this.columns},n.prototype.getHeadRows=function(){return this.rows.head},n.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},n.prototype.getBodyRows=function(){return this.rows.body},n.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},n.prototype.getFootRows=function(){return this.rows.foot},n.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},n.prototype.hasHeaderOption=function(){return this.has_header_option},n.prototype.hasFooterOption=function(){return this.isOption("footer")},n.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},n.prototype.getRowCount=function(){return this.getAttribute("rowcount")},n.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},n.prototype.getColumnCount=function(){return this.getAttribute("colcount")},n.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};const s=Opal.Asciidoctor.Table.Rows;s.create=function(e,U,B){return this.$new(e,U,B)},s.prototype.getHead=function(){return this.head},s.prototype.getFoot=function(){return this.foot},s.prototype.getBody=function(){return this.body},s.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const o=Opal.Asciidoctor.Table.Column;o.create=function(e,U,B){return this.$new(e,U,Q(B))},o.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},o.prototype.getWidth=function(){return this.getAttribute("width")},o.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},o.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},o.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e};const g=Opal.Asciidoctor.Table.Cell;g.create=function(e,U,B,C){return this.$new(e,U,Q(B),Q(C))},g.prototype.getColumnSpan=function(){const e=this.colspan;return e===Opal.nil?void 0:e},g.prototype.setColumnSpan=function(e){return this["$colspan="](e)},g.prototype.getRowSpan=function(){const e=this.rowspan;return e===Opal.nil?void 0:e},g.prototype.setRowSpan=function(e){return this["$rowspan="](e)},g.prototype.getContent=function(){return this.$content()},g.prototype.getText=function(){return this.$text()},g.prototype.getSource=function(){return this.$source()},g.prototype.getLines=function(){return this.$lines()},g.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},g.prototype.getFile=function(){const e=this.$file();return e===Opal.nil?void 0:e},g.prototype.getStyle=function(){const e=this.$style();return e===Opal.nil?void 0:e},g.prototype.getColumn=function(){const e=this.$column();return e===Opal.nil?void 0:e},g.prototype.getWidth=function(){return this.getAttribute("width")},g.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},g.prototype.getInnerDocument=function(){const e=this.inner_document;return e===Opal.nil?void 0:e};const y=Opal.Asciidoctor.Converter.TemplateConverter;if(y){Opal.Asciidoctor.TemplateConverter=y,y.create=function(U,B,C){C&&C.template_cache&&(C.template_cache=Q(C.template_cache)),this.$new(U,B,Q(C))},y.getCache=function(){const U=Re(this.caches);if(U){if(U.scans){U.scans=Re(U.scans);for(const B in U.scans)U.scans[B]=Re(U.scans[B])}U.templates&&(U.templates=Re(U.templates))}return U},y.clearCache=function(){this.$clear_caches()},y.prototype.convert=function(U,B,C){return this.$convert(U,B,Q(C))},y.prototype.handles=function(U){return this["$handles?"](U)},y.prototype.getContentOnly=function(U){return this.$content_only(U)},y.prototype.skip=function(U){this.$skip(U)},y.prototype.getTemplates=function(){return Re(this.$templates())},y.prototype.register=function(U,B){return this.$register(U,B)};const e={};e.registry={},Opal.Asciidoctor.TemplateEngine=e,e.register=function(U,B){if(typeof U=="string")this.registry[U]=B;else for(let C=0;C<U.length;C++){const G=U[C];this.registry[G]=B}}}const P=Opal.Asciidoctor.Converter.CompositeConverter;P&&(Opal.Asciidoctor.CompositeConverter=P,P.prototype.convert=function(e,U,B){return this.$convert(e,U,Q(B))},P.prototype.getContentOnly=function(e){return this.$content_only(e)},P.prototype.skip=function(e){this.$skip(e)},P.prototype.getConverters=function(){return this.converters},P.prototype.getConverter=function(e){const U=this.$converter_for(e);return U===Opal.nil?void 0:U},P.prototype.findConverter=function(e){return this.$find_converter(e)});const be=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=be,be.prototype.convert=function(e,U,B){return this.$convert(e,U,Q(B))},be.create=function(e,U){return this.$create(e,Q(U))};const tt=Opal.Asciidoctor.Converter.Factory,ot=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=tt;const lt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=lt,tt.register=function(e,U){const B=[Xe(e)].concat(U);return be.$register.apply(be,B)},tt.getDefault=function(e){return this.$default(e)},tt.prototype.create=function(e,U){return this.$create(e,Q(U))},tt.getRegistry=function(){return Re(be.$registry())},tt.for=function(e){const U=be.$for(e);return U===Opal.nil?void 0:U},tt.unregisterAll=function(){const e=be.DefaultFactory.$$cvars["@@registry"];be.DefaultFactory.$$cvars["@@registry"]=Q({html5:e["$[]"]("html5")})};const vt=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=vt,vt.create=function(){return this.$new()},vt.prototype.convert=function(e,U,B){return this.$convert(e,U,B)};const _t=function(e){return e.$$arity=e.length,e},bt=function(e,U,B,C){return typeof B=="object"||B.$$is_class?e["$"+U](B,C):Opal.send(e,U,C&&[C],_t(B))},pt=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=pt,pt.create=function(e,U){return typeof e=="function"&&typeof U>"u"?Opal.send(this,"create",null,_t(e)):typeof U=="function"?Opal.send(this,"create",[e],_t(U)):this.$create()},pt.register=function(e,U){return typeof e=="function"&&typeof U>"u"?Opal.send(this,"register",null,_t(e)):Opal.send(this,"register",[e],_t(U))},pt.getGroups=function(){return Re(this.$groups())},pt.unregisterAll=function(){this.$unregister_all()},pt.unregister=function(){const e=Array.prototype.concat.apply([],arguments),U=this.$groups(),B={};let C=0;const G=U.$$keys;for(;C<G.length;C++){const u=G[C];B[u.toString()]=u}for(let u=0;u<e.length;u++){const R=e[u];R in B&&Opal.hash_delete(U,B[R])}};const gt=pt.Registry;gt.prototype.getGroups=pt.getGroups,gt.prototype.unregisterAll=function(){this.groups=Opal.hash()},gt.prototype.unregister=pt.unregister,gt.prototype.prefer=function(e,U){return arguments.length===1&&(U=e,e=null),typeof U=="object"||U.$$is_class?this.$prefer(e,U):Opal.send(this,"prefer",e&&[e],_t(U))},gt.prototype.block=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"block",U,e)},gt.prototype.inlineMacro=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"inline_macro",U,e)},gt.prototype.includeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"include_processor",U,e)},gt.prototype.blockMacro=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"block_macro",U,e)},gt.prototype.treeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"tree_processor",U,e)},gt.prototype.postprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"postprocessor",U,e)},gt.prototype.preprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"preprocessor",U,e)},gt.prototype.docinfoProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),bt(this,"docinfo_processor",U,e)},gt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},gt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},gt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},gt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},gt.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},gt.prototype.hasBlocks=function(){return this["$blocks?"]()},gt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},gt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},gt.prototype.getPreprocessors=function(){return this.$preprocessors()},gt.prototype.getTreeProcessors=function(){return this.$tree_processors()},gt.prototype.getIncludeProcessors=function(){return this.$include_processors()},gt.prototype.getPostprocessors=function(){return this.$postprocessors()},gt.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},gt.prototype.getBlocks=function(){return this.block_extensions.$values()},gt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},gt.prototype.getInlineMacros=function(){return this.$inline_macros()},gt.prototype.getInlineMacroFor=function(e){const U=this["$registered_for_inline_macro?"](e);return U===!1?void 0:U},gt.prototype.getBlockFor=function(e,U){if(typeof U>"u"){const C=this.$find_block_extension(e);return C===Opal.nil?void 0:C}const B=this["$registered_for_block?"](e,U);return B===!1?void 0:B},gt.prototype.getBlockMacroFor=function(e){const U=this["$registered_for_block_macro?"](e);return U===!1?void 0:U};const mt=pt.Processor;mt.prototype.prepend=function(){this.$option("position",">>")},mt.prototype.process=function(e){const U={apply:function(C,G,u){for(let R=0;R<u.length;R++)typeof u[R]=="object"&&"$$smap"in u[R]&&(u[R]=Re(u[R]));return C.apply(G,u)}},B=new Proxy(e,U);return Opal.send(this,"process",null,_t(B))},mt.prototype.named=function(e){return this.$named(e)},mt.prototype.createBlock=function(e,U,B,C,G){return this.$create_block(e,U,B,Q(C),Q(G))},mt.prototype.createList=function(e,U,B){return this.$create_list(e,U,Q(B))},mt.prototype.createListItem=function(e,U){return this.$create_list_item(e,U)},mt.prototype.createImageBlock=function(e,U,B){return this.$create_image_block(e,Q(U),Q(B))},mt.prototype.createParagraph=function(e,U,B,C){return this.$create_paragraph(e,U,Q(B),Q(C))},mt.prototype.createOpenBlock=function(e,U,B,C){return this.$create_open_block(e,U,Q(B),Q(C))},mt.prototype.createExampleBlock=function(e,U,B,C){return this.$create_example_block(e,U,Q(B),Q(C))},mt.prototype.createPassBlock=function(e,U,B,C){return this.$create_pass_block(e,U,Q(B),Q(C))},mt.prototype.createListingBlock=function(e,U,B,C){return this.$create_listing_block(e,U,Q(B),Q(C))},mt.prototype.createLiteralBlock=function(e,U,B,C){return this.$create_literal_block(e,U,Q(B),Q(C))},mt.prototype.createAnchor=function(e,U,B){return B&&B.attributes&&(B.attributes=Q(B.attributes)),this.$create_anchor(e,U,Q(B))},mt.prototype.createInlinePass=function(e,U,B){return B&&B.attributes&&(B.attributes=Q(B.attributes)),this.$create_inline_pass(e,U,Q(B))},mt.prototype.createInline=function(e,U,B,C){return C&&C.attributes&&(C.attributes=Q(C.attributes)),this.$create_inline(e,U,B,Q(C))},mt.prototype.parseContent=function(e,U,B){return this.$parse_content(e,U,Q(B))},mt.prototype.parseAttributes=function(e,U,B){return B&&B.attributes&&(B.attributes=Q(B.attributes)),Re(this.$parse_attributes(e,U,Q(B)))},mt.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},mt.prototype.resolveAttributes=function(e){return typeof e=="object"&&!Array.isArray(e)?this.$resolves_attributes(Q(e)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof e>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(e)},mt.prototype.resolvesAttributes=mt.prototype.resolveAttributes,mt.prototype.getConfig=function(){return Re(this.config)},mt.prototype.option=function(e,U){this.$option(e,U)};const Qe=pt.BlockProcessor;Qe.prototype.defaultAttributes=function(e){this.$default_attributes(Q(e))},Qe.prototype.onContext=function(e){return this.$on_context(e)},Qe.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},Qe.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},Qe.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const le=pt.BlockMacroProcessor;le.prototype.defaultAttributes=function(e){this.$default_attributes(Q(e))},le.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},le.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const ge=pt.InlineMacroProcessor;ge.prototype.defaultAttributes=function(e){this.$default_attributes(Q(e))},ge.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},ge.prototype.parseContentAs=function(e){this.$parse_content_as(e)},ge.prototype.matchFormat=function(e){this.$match_format(e)},ge.prototype.match=function(e){this.$match(e)};const De=pt.IncludeProcessor;De.prototype.handles=function(e){return Opal.send(this,"handles?",null,_t(e))},De.prototype.prefer=function(){this.$prefer()};const f=pt.TreeProcessor;f.prototype.prefer=function(){this.$prefer()};const w=pt.Postprocessor;w.prototype.prefer=function(){this.$prefer()};const J=pt.Preprocessor;J.prototype.prefer=function(){this.$prefer()};const de=pt.DocinfoProcessor;de.prototype.prefer=function(){this.$prefer()},de.prototype.atLocation=function(e){this.$at_location(e)};function Ue(e,U,B){const C=Opal.const_get_qualified(pt,e);return ze(C,U,B,{"handles?":function(){return!0}})}pt.createPostprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("Postprocessor",e,U)},pt.newPostprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createPostprocessor(e,U).$new()},pt.createPreprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("Preprocessor",e,U)},pt.newPreprocessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createPreprocessor(e,U).$new()},pt.createTreeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("TreeProcessor",e,U)},pt.newTreeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createTreeProcessor(e,U).$new()},pt.createIncludeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("IncludeProcessor",e,U)},pt.newIncludeProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createIncludeProcessor(e,U).$new()},pt.createDocinfoProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("DocinfoProcessor",e,U)},pt.newDocinfoProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createDocinfoProcessor(e,U).$new()},pt.createBlockProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("BlockProcessor",e,U)},pt.newBlockProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createBlockProcessor(e,U).$new()},pt.createInlineMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("InlineMacroProcessor",e,U)},pt.newInlineMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createInlineMacroProcessor(e,U).$new()},pt.createBlockMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),Ue("BlockMacroProcessor",e,U)},pt.newBlockMacroProcessor=function(e,U){return arguments.length===1&&(U=e,e=null),this.createBlockMacroProcessor(e,U).$new()};var nt="3.0.4";return Opal.Asciidoctor.prototype.getVersion=function(){return nt},Opal.Asciidoctor}const kr={class:"w-full px-4 pb-4 mb-16"},Ar={class:"w-full bg-white rounded-xl shadow-2xl p-4 md:p-6"},Er={class:"flex flex-col sm:flex-row items-start sm:items-center mb-6 gap-3"},Sr={class:"flex items-center gap-2"},qr={class:"w-full sm:w-auto sm:ml-auto"},Cr={class:"flex flex-col md:flex-row gap-6"},Rr={class:"w-full md:w-1/2 flex flex-col"},Ir={for:"input-area",class:"flex items-center gap-2 text-base md:text-lg font-semibold text-gray-700 mb-2"},zr={class:"w-full md:w-1/2 flex flex-col"},Tr={class:"flex items-center gap-2 text-base md:text-lg font-semibold text-gray-700 mb-2"},Fr=["innerHTML"],Gr=gr({__name:"MarkdownViewer",setup($){const Q=Ot(""),Re=Ot(""),je=Ot("markdown"),_e=xr(),Xe=Ot(null),ze=[{name:"Markdown",value:"markdown"},{name:"AsciiDoc",value:"asciidoc"}],Te=async()=>{if(je.value==="markdown")Re.value=await lr(Q.value);else if(je.value==="asciidoc")try{const Be=_e.convert(Q.value);Re.value=typeof Be=="string"?Be:Be.toString()}catch{Re.value='<p class="text-red-500">Error al convertir AsciiDoc.</p>'}};vr([Q,je],()=>{Te()},{immediate:!0});const ye=()=>{const Be=Q.value,Pe=je.value,qe=new Blob([Be],{type:"text/plain;charset=utf-8"}),He=document.createElement("a");He.href=URL.createObjectURL(qe),He.download=Pe==="markdown"?"document.md":"document.adoc",document.body.appendChild(He),He.click(),document.body.removeChild(He)},W=async()=>{if(!Xe.value)return;Xe.value.innerHTML=Re.value,Xe.value.classList.remove("hidden");const Be={margin:.5,filename:"documento.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};try{await _r().set(Be).from(Xe.value).save()}finally{Xe.value.classList.add("hidden")}};return(Be,Pe)=>(yr(),br("div",null,[Bt(fr),Kt("main",kr,[Kt("div",Ar,[Kt("div",Er,[Kt("div",Sr,[Bt(Pt(wr),{class:"w-6 h-6 md:w-8 md:h-8 text-indigo-600"}),Pe[2]||(Pe[2]=Kt("h1",{class:"text-xl md:text-3xl font-bold text-indigo-700"}," Vista en tiempo real ",-1)),Bt(Pt($r),{class:"w-5 h-5 md:w-6 md:h-6 text-indigo-500"})]),Kt("div",qr,[Bt(Pt(ir),null,{default:Zt(()=>[Bt(Pt(nr),null,{default:Zt(()=>[Bt(Pt(pr),{class:"w-4 h-4 text-indigo-400"})]),_:1}),Bt(Pt(ur),{modelValue:je.value,"onUpdate:modelValue":Pe[0]||(Pe[0]=qe=>je.value=qe),options:ze,optionLabel:"name",optionValue:"value",class:"w-full sm:w-48",onChange:Te},null,8,["modelValue"])]),_:1})])]),Kt("div",Cr,[Kt("div",Rr,[Kt("label",Ir,[Bt(Pt(mr),{class:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),Pe[3]||(Pe[3]=ar(" Escribe tu texto "))]),Bt(Pt(ir),{class:"flex-1"},{default:Zt(()=>[Bt(Pt(nr),null,{default:Zt(()=>[Bt(Pt(hr),{class:"w-4 h-4 text-indigo-400"})]),_:1}),Bt(Pt(cr),{id:"input-area",modelValue:Q.value,"onUpdate:modelValue":Pe[1]||(Pe[1]=qe=>Q.value=qe),onInput:Te,class:"flex-1 resize-none h-64 md:h-72 rounded-lg border border-indigo-200 focus:ring-2 focus:ring-indigo-400 p-4 text-gray-800 bg-indigo-50 shadow-inner transition text-sm md:text-base",placeholder:je.value==="markdown"?"## Escribe aquí tu *Markdown*...":"Escribe aquí tu AsciiDoc..."},null,8,["modelValue","placeholder"])]),_:1}),Bt(Pt(sr),{onClick:ye,class:"mt-4 w-full sm:w-fit",severity:"info",label:"Descargar archivo fuente"},{icon:Zt(()=>[Bt(Pt(or),{class:"w-4 h-4 mr-2"})]),_:1})]),Kt("div",zr,[Kt("label",Tr,[Bt(Pt($r),{class:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),Pe[4]||(Pe[4]=ar(" Vista previa "))]),Kt("div",{class:"prose prose-sm md:prose-base prose-indigo bg-indigo-50 h-64 md:h-72 overflow-y-auto p-4 rounded-lg shadow-inner border border-indigo-100 transition",innerHTML:Re.value},null,8,Fr),Bt(Pt(sr),{onClick:W,class:"mt-4 w-full sm:w-fit",severity:"info",label:"Descargar PDF"},{icon:Zt(()=>[Bt(Pt(or),{class:"w-4 h-4 mr-2"})]),_:1})])])])]),Kt("div",{ref_key:"printableRef",ref:Xe,class:"prose prose-indigo p-6 bg-white hidden"},null,512)]))}});export{Gr as default};
