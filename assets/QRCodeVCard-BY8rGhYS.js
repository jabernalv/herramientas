import{u as J,g as r,h as i,f as n,D as T,i as N,a as x}from"./primevue-CTM77RMy.js";import{D as K,a as W,b as Y,c as ll,d as el,m as al,e as ol,h as _,f as tl,E as sl,g as dl,i as ul,j as rl,k as nl,r as il,l as h}from"./qrCodeCommonFunctions-BvzLY-jy.js";import{U as D}from"./user-jtXJhrlW.js";import{P as A}from"./phone-C6NcDZ19.js";import{B as I}from"./building-XwKZNxQG.js";import{G as B,M as ml,P as L,Q as cl,_ as vl}from"./index-DrBQnuTu.js";import{S as fl}from"./settings-CzymMCDD.js";import{I as pl}from"./image-B-ASkV1r.js";import{R as gl}from"./refresh-cw-BsXvUuoC.js";import{C as bl}from"./copy-CeZSSWMR.js";import{D as xl}from"./download-QK3e7P00.js";import{M as wl}from"./minus-CUndVUGw.js";import{P as Vl}from"./plus-DDR0eG1e.js";import{P as yl,r as v,L as Cl,w as R,o as Sl,c as kl,e as o,x as a,B as s,R as l,l as M,k as O,t as z,d as q,s as E,h as Il}from"./vue-vendor-ByoO1CXK.js";import"./_commonjsHelpers-D6-XlEtG.js";const Rl={class:"space-y-4"},Ul={class:"bg-white rounded-lg shadow-md p-6"},_l={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Dl={class:"md:col-span-2"},zl={class:"md:col-span-2"},ql={class:"md:col-span-2"},El={class:"w-full bg-white rounded-lg shadow-md p-4"},Pl={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ql={class:"flex flex-col gap-2"},Tl={class:"flex items-center gap-2"},Nl={class:"flex flex-col gap-2"},hl={class:"flex items-center gap-2"},Al={class:"flex flex-col gap-2"},Bl={class:"flex items-center"},Ll={class:"flex flex-col gap-2"},Ml={class:"mt-4"},Ol={class:"w-full flex flex-col sm:flex-row gap-2 items-center"},Fl={class:"flex items-center gap-2"},$l={class:"text-sm text-gray-600"},jl=yl({__name:"QRCodeVCard",props:{size:{default:K}},emits:["update:size"],setup(F,{emit:$}){const f=J(),P=F,Q=$,w=v(null),V=v(null),m=v(P.size),d=v({firstName:localStorage.getItem("vcard-firstName")||"",lastName:localStorage.getItem("vcard-lastName")||"",cellPhone:localStorage.getItem("vcard-cellPhone")||"",workPhone:localStorage.getItem("vcard-workPhone")||"",company:localStorage.getItem("vcard-company")||"",title:localStorage.getItem("vcard-title")||"",address:localStorage.getItem("vcard-address")||"",city:localStorage.getItem("vcard-city")||"",zip:localStorage.getItem("vcard-zip")||"",state:localStorage.getItem("vcard-state")||"",country:localStorage.getItem("vcard-country")||"",website:localStorage.getItem("vcard-website")||"",email:localStorage.getItem("vcard-email")||""}),p=v(localStorage.getItem("qr-color-vcard")||W),g=v(localStorage.getItem("qr-bg-color-vcard")||Y),U=v(localStorage.getItem("qr-dot-shape")||ll),y=v(localStorage.getItem("qr-export-format")||el),C=v(p),S=v(g),c=Cl(()=>d.value.firstName||d.value.lastName||d.value.cellPhone),b=()=>{if(!(!w.value||!c.value))try{w.value.innerHTML="";const u=al(d.value);V.value=ol(u,m.value,p.value,g.value,U.value),V.value.append(w.value)}catch(u){console.error("Error generando QR:",u),f.add({severity:"error",summary:"Error",detail:"No se pudo generar el código QR vCard.",life:5e3})}},j=()=>{rl(w.value,f)},G=()=>{nl(V.value,"qr-vcard",y.value)},H=()=>{il(C,S,"vcard",f),c.value&&b()},X=()=>{const u=h(m.value,50);m.value=u,Q("update:size",u)},Z=()=>{const u=h(m.value,-50);m.value=u,Q("update:size",u)};return R(d,u=>{Object.entries(u).forEach(([e,k])=>{k?localStorage.setItem(`vcard-${e}`,k):localStorage.removeItem(`vcard-${e}`)}),c.value&&b()},{deep:!0}),R([p,g],([u,e])=>{localStorage.setItem("qr-color-vcard",u),localStorage.setItem("qr-bg-color-vcard",e),c.value&&b()}),R(U,u=>{localStorage.setItem("qr-dot-shape",u),c.value&&b()}),R(y,u=>{localStorage.setItem("qr-export-format",u)}),R(()=>P.size,u=>{m.value=u,c.value&&b()}),Sl(()=>{c.value&&b()}),(u,e)=>{const k=Il("tooltip");return q(),kl("div",Rl,[o("div",Ul,[e[34]||(e[34]=o("h3",{class:"text-lg font-semibold mb-4"},"Información de contacto",-1)),o("div",_l,[o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombres",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(D),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value.firstName=t),class:"w-full",placeholder:"Juan"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Apellidos",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(D),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.lastName,"onUpdate:modelValue":e[1]||(e[1]=t=>d.value.lastName=t),class:"w-full",placeholder:"Pérez"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Celular",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(A),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.cellPhone,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value.cellPhone=t),class:"w-full",placeholder:"+57 300 123 4567"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Teléfono",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(A),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.workPhone,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value.workPhone=t),class:"w-full",placeholder:"+57 1 234 5678"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[25]||(e[25]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Compañía",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(I),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.company,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value.company=t),class:"w-full",placeholder:"Mi Empresa S.A."},null,8,["modelValue"])]),_:1})]),o("div",null,[e[26]||(e[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cargo",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(D),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.title,"onUpdate:modelValue":e[5]||(e[5]=t=>d.value.title=t),class:"w-full",placeholder:"Desarrollador Senior"},null,8,["modelValue"])]),_:1})]),o("div",Dl,[e[27]||(e[27]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dirección",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(I),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.address,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value.address=t),class:"w-full",placeholder:"Calle 123 # 45-67"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[28]||(e[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ciudad",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(I),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.city,"onUpdate:modelValue":e[7]||(e[7]=t=>d.value.city=t),class:"w-full",placeholder:"Bogotá"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Código Postal",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(I),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.zip,"onUpdate:modelValue":e[8]||(e[8]=t=>d.value.zip=t),class:"w-full",placeholder:"110111"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[30]||(e[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Departamento",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(I),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.state,"onUpdate:modelValue":e[9]||(e[9]=t=>d.value.state=t),class:"w-full",placeholder:"Cundinamarca"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[31]||(e[31]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"País",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(B),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.country,"onUpdate:modelValue":e[10]||(e[10]=t=>d.value.country=t),class:"w-full",placeholder:"Colombia"},null,8,["modelValue"])]),_:1})]),o("div",zl,[e[32]||(e[32]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sitio web",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(B),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.website,"onUpdate:modelValue":e[11]||(e[11]=t=>d.value.website=t),class:"w-full",placeholder:"https://www.misitio.com"},null,8,["modelValue"])]),_:1})]),o("div",ql,[e[33]||(e[33]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Correo electrónico",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(ml),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.email,"onUpdate:modelValue":e[12]||(e[12]=t=>d.value.email=t),class:"w-full",placeholder:"juan.perez@empresa.com",type:"email"},null,8,["modelValue"])]),_:1})])])]),o("div",El,[e[39]||(e[39]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración",-1)),o("div",Pl,[o("div",Ql,[e[35]||(e[35]=o("label",{class:"text-sm font-medium text-gray-700"},"Color del QR:",-1)),o("div",Tl,[a(l(T),{modelValue:p.value,"onUpdate:modelValue":e[13]||(e[13]=t=>p.value=t)},null,8,["modelValue"]),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(L),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:p.value,"onUpdate:modelValue":e[14]||(e[14]=t=>l(_)(t,"qr",C.value,S.value,l(f))),onBlur:e[15]||(e[15]=t=>l(_)(t.target.value,"qr",C.value,S.value,l(f))),class:"w-24 text-center text-xs font-mono",style:E({backgroundColor:p.value,color:"#fff",textShadow:"0 0 2px #000"})},null,8,["modelValue","style"])]),_:1})])]),o("div",Nl,[e[36]||(e[36]=o("label",{class:"text-sm font-medium text-gray-700"},"Color de fondo:",-1)),o("div",hl,[a(l(T),{modelValue:g.value,"onUpdate:modelValue":e[16]||(e[16]=t=>g.value=t)},null,8,["modelValue"]),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(L),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:g.value,"onUpdate:modelValue":e[17]||(e[17]=t=>l(_)(t,"bg",C.value,S.value,l(f))),onBlur:e[18]||(e[18]=t=>l(_)(t.target.value,"bg",C.value,S.value,l(f))),class:"w-24 text-center text-xs font-mono",style:E({backgroundColor:g.value,color:"#000",textShadow:"0 0 2px #fff"})},null,8,["modelValue","style"])]),_:1})])]),o("div",Al,[e[37]||(e[37]=o("label",{class:"text-sm font-medium text-gray-700"},"Forma:",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(fl),{class:"w-4 h-4"})]),_:1}),a(l(N),{modelValue:U.value,"onUpdate:modelValue":e[19]||(e[19]=t=>U.value=t),options:l(tl),optionLabel:"label",optionValue:"value",class:"w-full"},{option:s(t=>[o("div",Bl,[o("span",{style:E({display:"inline-block",width:"18px",height:"18px",borderRadius:t.option.value==="dots"?"50%":t.option.value==="rounded"?"8px":t.option.value==="classy"?"2px":t.option.value==="classy-rounded"?"6px 6px 2px 2px":t.option.value==="square"?"0":"12px",background:"#0288d1",border:"1.5px solid #333",marginRight:"8px"})},null,4),o("span",null,z(t.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})]),o("div",Ll,[e[38]||(e[38]=o("label",{class:"text-sm font-medium text-gray-700"},"Formato:",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(pl),{class:"w-4 h-4"})]),_:1}),a(l(N),{modelValue:y.value,"onUpdate:modelValue":e[20]||(e[20]=t=>y.value=t),options:l(sl),optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue","options"])]),_:1})])]),o("div",Ml,[a(l(x),{onClick:H,severity:"secondary",label:"Restaurar configuración por defecto",text:""},{icon:s(()=>[a(l(gl),{class:"w-4 h-4 mr-2"})]),_:1})])]),o("div",Ol,[a(l(x),{onClick:b,severity:"success",class:"w-full",label:"Generar vCard QR",disabled:!c.value},{icon:s(()=>[a(l(cl),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(l(x),{onClick:j,severity:"help",class:"w-full",label:"Copiar código QR",disabled:!V.value||!c.value},{icon:s(()=>[a(l(bl),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(l(x),{onClick:G,severity:"info",class:"w-full",label:`Descargar ${y.value.toUpperCase()}`,disabled:!V.value||!c.value},{icon:s(()=>[a(l(xl),{class:"w-4 h-4 mr-2"})]),_:1},8,["label","disabled"]),o("div",Fl,[M((q(),O(l(x),{onClick:Z,severity:"secondary",disabled:m.value<=l(dl)},{icon:s(()=>[a(l(wl),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[k,"Reducir tamaño",void 0,{top:!0}]]),o("span",$l,z(m.value)+"x"+z(m.value)+"px",1),M((q(),O(l(x),{onClick:X,severity:"secondary",disabled:m.value>=l(ul)},{icon:s(()=>[a(l(Vl),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[k,"Aumentar tamaño",void 0,{top:!0}]])])]),o("div",{ref_key:"qrcodeContainer",ref:w,class:"flex justify-center mt-4"},null,512)])}}}),ue=vl(jl,[["__scopeId","data-v-54efa709"]]);export{ue as default};
