import{u as Z,g as r,h as i,f as n,D as P,i as J,a as w}from"./primevue-DrPXlnFP.js";import{D as X,a as K,b as W,c as Y,l as ll,d as el,h as R,e as al,f as tl,g as ol,i as sl,j as dl,r as ul,k as N}from"./qrCodeCommonFunctions-BZDhSGhP.js";import{U as D}from"./user-B-rlYIqx.js";import{P as E}from"./phone-WlJbsyUR.js";import{B as k}from"./building-D01c50LH.js";import{G as B,M as rl,P as T,Q as nl,_ as il}from"./index-BorEcxas.js";import{S as ml}from"./settings-uF_s4AQP.js";import{R as cl}from"./refresh-cw-D0_OtraZ.js";import{C as vl}from"./copy-BmtdHkm4.js";import{D as pl}from"./download-CfevB310.js";import{M as fl}from"./minus-B6XBng9c.js";import{P as gl}from"./plus-Cxv1d6Ol.js";import{P as bl,r as v,L as wl,w as U,o as xl,c as Vl,e as o,x as a,B as s,R as l,l as A,k as L,t as z,d as _,s as h,h as yl}from"./vue-vendor-D8N656sj.js";import"./_commonjsHelpers-D6-XlEtG.js";const Cl={class:"space-y-4"},Sl={class:"bg-white rounded-lg shadow-md p-6"},kl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Il={class:"md:col-span-2"},Rl={class:"md:col-span-2"},Ul={class:"md:col-span-2"},Dl={class:"w-full bg-white rounded-lg shadow-md p-4"},zl={class:"flex flex-col md:flex-row md:items-center md:gap-6 gap-4"},_l={class:"flex-1 flex items-center gap-2 min-w-0"},hl={class:"flex-1 flex items-center gap-2 min-w-0"},Ql={class:"flex-1 flex items-center gap-2 min-w-0"},ql={class:"flex items-center"},Pl={class:"mt-4"},Nl={class:"w-full flex flex-col sm:flex-row gap-2 items-center"},El={class:"flex items-center gap-2"},Bl={class:"text-sm text-gray-600"},Tl=bl({__name:"QRCodeVCard",props:{size:{default:X}},emits:["update:size"],setup(M,{emit:$}){const p=Z(),Q=M,q=$,x=v(null),V=v(null),m=v(Q.size),d=v({firstName:localStorage.getItem("vcard-firstName")||"",lastName:localStorage.getItem("vcard-lastName")||"",cellPhone:localStorage.getItem("vcard-cellPhone")||"",workPhone:localStorage.getItem("vcard-workPhone")||"",company:localStorage.getItem("vcard-company")||"",title:localStorage.getItem("vcard-title")||"",address:localStorage.getItem("vcard-address")||"",city:localStorage.getItem("vcard-city")||"",zip:localStorage.getItem("vcard-zip")||"",state:localStorage.getItem("vcard-state")||"",country:localStorage.getItem("vcard-country")||"",website:localStorage.getItem("vcard-website")||"",email:localStorage.getItem("vcard-email")||""}),f=v(localStorage.getItem("qr-color-vcard")||K),g=v(localStorage.getItem("qr-bg-color-vcard")||W),I=v(localStorage.getItem("qr-dot-shape")||Y),y=v(f),C=v(g),c=wl(()=>d.value.firstName||d.value.lastName||d.value.cellPhone),b=()=>{if(!(!x.value||!c.value))try{x.value.innerHTML="";const u=ll(d.value);V.value=el(u,m.value,f.value,g.value,I.value),V.value.append(x.value)}catch(u){console.error("Error generando QR:",u),p.add({severity:"error",summary:"Error",detail:"No se pudo generar el código QR vCard.",life:5e3})}},O=()=>{sl(x.value,p)},j=()=>{dl(V.value,"qr-vcard")},F=()=>{ul(y,C,"vcard",p),c.value&&b()},G=()=>{const u=N(m.value,50);m.value=u,q("update:size",u)},H=()=>{const u=N(m.value,-50);m.value=u,q("update:size",u)};return U(d,u=>{Object.entries(u).forEach(([e,S])=>{S?localStorage.setItem(`vcard-${e}`,S):localStorage.removeItem(`vcard-${e}`)}),c.value&&b()},{deep:!0}),U([f,g],([u,e])=>{localStorage.setItem("qr-color-vcard",u),localStorage.setItem("qr-bg-color-vcard",e),c.value&&b()}),U(I,u=>{localStorage.setItem("qr-dot-shape",u),c.value&&b()}),U(()=>Q.size,u=>{m.value=u,c.value&&b()}),xl(()=>{c.value&&b()}),(u,e)=>{const S=yl("tooltip");return _(),Vl("div",Cl,[o("div",Sl,[e[33]||(e[33]=o("h3",{class:"text-lg font-semibold mb-4"},"Información de contacto",-1)),o("div",kl,[o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombres",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(D),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value.firstName=t),class:"w-full",placeholder:"Juan"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Apellidos",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(D),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.lastName,"onUpdate:modelValue":e[1]||(e[1]=t=>d.value.lastName=t),class:"w-full",placeholder:"Pérez"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Celular",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(E),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.cellPhone,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value.cellPhone=t),class:"w-full",placeholder:"+57 300 123 4567"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Teléfono",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(E),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.workPhone,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value.workPhone=t),class:"w-full",placeholder:"+57 1 234 5678"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Compañía",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.company,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value.company=t),class:"w-full",placeholder:"Mi Empresa S.A."},null,8,["modelValue"])]),_:1})]),o("div",null,[e[25]||(e[25]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cargo",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(D),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.title,"onUpdate:modelValue":e[5]||(e[5]=t=>d.value.title=t),class:"w-full",placeholder:"Desarrollador Senior"},null,8,["modelValue"])]),_:1})]),o("div",Il,[e[26]||(e[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dirección",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.address,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value.address=t),class:"w-full",placeholder:"Calle 123 # 45-67"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[27]||(e[27]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ciudad",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.city,"onUpdate:modelValue":e[7]||(e[7]=t=>d.value.city=t),class:"w-full",placeholder:"Bogotá"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[28]||(e[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Código Postal",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.zip,"onUpdate:modelValue":e[8]||(e[8]=t=>d.value.zip=t),class:"w-full",placeholder:"110111"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Departamento",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.state,"onUpdate:modelValue":e[9]||(e[9]=t=>d.value.state=t),class:"w-full",placeholder:"Cundinamarca"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[30]||(e[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"País",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(B),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.country,"onUpdate:modelValue":e[10]||(e[10]=t=>d.value.country=t),class:"w-full",placeholder:"Colombia"},null,8,["modelValue"])]),_:1})]),o("div",Rl,[e[31]||(e[31]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sitio web",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(B),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.website,"onUpdate:modelValue":e[11]||(e[11]=t=>d.value.website=t),class:"w-full",placeholder:"https://www.misitio.com"},null,8,["modelValue"])]),_:1})]),o("div",Ul,[e[32]||(e[32]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Correo electrónico",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(rl),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.email,"onUpdate:modelValue":e[12]||(e[12]=t=>d.value.email=t),class:"w-full",placeholder:"juan.perez@empresa.com",type:"email"},null,8,["modelValue"])]),_:1})])])]),o("div",Dl,[e[37]||(e[37]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración",-1)),o("div",zl,[o("div",_l,[e[34]||(e[34]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color del QR:",-1)),a(l(P),{modelValue:f.value,"onUpdate:modelValue":e[13]||(e[13]=t=>f.value=t)},null,8,["modelValue"]),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(T),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:f.value,"onUpdate:modelValue":e[14]||(e[14]=t=>l(R)(t,"qr",y.value,C.value,l(p))),onBlur:e[15]||(e[15]=t=>l(R)(t.target.value,"qr",y.value,C.value,l(p))),class:"w-24 text-center text-xs font-mono",style:h({backgroundColor:f.value,color:"#fff",textShadow:"0 0 2px #000"})},null,8,["modelValue","style"])]),_:1})]),o("div",hl,[e[35]||(e[35]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color de fondo:",-1)),a(l(P),{modelValue:g.value,"onUpdate:modelValue":e[16]||(e[16]=t=>g.value=t)},null,8,["modelValue"]),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(T),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:g.value,"onUpdate:modelValue":e[17]||(e[17]=t=>l(R)(t,"bg",y.value,C.value,l(p))),onBlur:e[18]||(e[18]=t=>l(R)(t.target.value,"bg",y.value,C.value,l(p))),class:"w-24 text-center text-xs font-mono",style:h({backgroundColor:g.value,color:"#000",textShadow:"0 0 2px #fff"})},null,8,["modelValue","style"])]),_:1})]),o("div",Ql,[e[36]||(e[36]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Forma:",-1)),a(l(n),null,{default:s(()=>[a(l(r),null,{default:s(()=>[a(l(ml),{class:"w-4 h-4"})]),_:1}),a(l(J),{modelValue:I.value,"onUpdate:modelValue":e[19]||(e[19]=t=>I.value=t),options:l(al),optionLabel:"label",optionValue:"value",class:"w-full"},{option:s(t=>[o("div",ql,[o("span",{style:h({display:"inline-block",width:"18px",height:"18px",borderRadius:t.option.value==="dots"?"50%":t.option.value==="rounded"?"8px":t.option.value==="classy"?"2px":t.option.value==="classy-rounded"?"6px 6px 2px 2px":t.option.value==="square"?"0":"12px",background:"#0288d1",border:"1.5px solid #333",marginRight:"8px"})},null,4),o("span",null,z(t.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})])]),o("div",Pl,[a(l(w),{onClick:F,severity:"secondary",label:"Restaurar configuración por defecto",text:""},{icon:s(()=>[a(l(cl),{class:"w-4 h-4 mr-2"})]),_:1})])]),o("div",Nl,[a(l(w),{onClick:b,severity:"success",class:"w-full",label:"Generar vCard QR",disabled:!c.value},{icon:s(()=>[a(l(nl),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(l(w),{onClick:O,severity:"help",class:"w-full",label:"Copiar código QR",disabled:!V.value||!c.value},{icon:s(()=>[a(l(vl),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(l(w),{onClick:j,severity:"info",class:"w-full",label:"Descargar código QR",disabled:!V.value||!c.value},{icon:s(()=>[a(l(pl),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),o("div",El,[A((_(),L(l(w),{onClick:H,severity:"secondary",disabled:m.value<=l(tl)},{icon:s(()=>[a(l(fl),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[S,"Reducir tamaño",void 0,{top:!0}]]),o("span",Bl,z(m.value)+"x"+z(m.value)+"px",1),A((_(),L(l(w),{onClick:G,severity:"secondary",disabled:m.value>=l(ol)},{icon:s(()=>[a(l(gl),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[S,"Aumentar tamaño",void 0,{top:!0}]])])]),o("div",{ref_key:"qrcodeContainer",ref:x,class:"flex justify-center mt-4"},null,512)])}}}),Yl=il(Tl,[["__scopeId","data-v-acbec495"]]);export{Yl as default};
