import{u as G,g as n,h as i,f as r,D as E,i as H,a as x}from"./primevue-DrPXlnFP.js";import{D as Z,a as J,b as X,c as K,l as W,d as Y,h as R,e as ll,f as el,g as al,i as tl,j as ol,r as sl,k as P}from"./qrCodeCommonFunctions-BZDhSGhP.js";import{U as z}from"./user-BdCP7q4r.js";import{P as _,B as k}from"./phone-D04fTIT1.js";import{G as h,M as dl,P as T,_ as ul}from"./index-DCzI8z5Q.js";import{S as nl}from"./settings-sfgALp4h.js";import{P as rl,r as p,L as il,w as U,o as ml,c as vl,e as o,x as a,B as s,R as l,l as A,t as D,d as pl,s as q,h as cl}from"./vue-vendor-D8N656sj.js";import"./_commonjsHelpers-D6-XlEtG.js";const fl={class:"space-y-4"},gl={class:"bg-white rounded-lg shadow-md p-6"},bl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xl={class:"md:col-span-2"},wl={class:"md:col-span-2"},Vl={class:"md:col-span-2"},yl={class:"w-full bg-white rounded-lg shadow-md p-4"},Cl={class:"flex flex-col md:flex-row md:items-center md:gap-6 gap-4"},Sl={class:"flex-1 flex items-center gap-2 min-w-0"},kl={class:"flex-1 flex items-center gap-2 min-w-0"},Il={class:"flex-1 flex items-center gap-2 min-w-0"},Rl={class:"flex items-center"},Ul={class:"mt-4"},zl={class:"w-full flex flex-col sm:flex-row gap-2 items-center"},Dl={class:"flex items-center gap-2"},ql={class:"text-sm text-gray-600"},Nl=rl({__name:"QRCodeVCard",props:{size:{default:Z}},emits:["update:size"],setup(B,{emit:L}){const c=G(),N=B,Q=L,w=p(null),V=p(null),m=p(N.size),d=p({firstName:localStorage.getItem("vcard-firstName")||"",lastName:localStorage.getItem("vcard-lastName")||"",cellPhone:localStorage.getItem("vcard-cellPhone")||"",workPhone:localStorage.getItem("vcard-workPhone")||"",company:localStorage.getItem("vcard-company")||"",title:localStorage.getItem("vcard-title")||"",address:localStorage.getItem("vcard-address")||"",city:localStorage.getItem("vcard-city")||"",zip:localStorage.getItem("vcard-zip")||"",state:localStorage.getItem("vcard-state")||"",country:localStorage.getItem("vcard-country")||"",website:localStorage.getItem("vcard-website")||"",email:localStorage.getItem("vcard-email")||""}),f=p(localStorage.getItem("qr-color-vcard")||J),g=p(localStorage.getItem("qr-bg-color-vcard")||X),I=p(localStorage.getItem("qr-dot-shape")||K),y=p(f),C=p(g),v=il(()=>d.value.firstName||d.value.lastName||d.value.cellPhone),b=()=>{if(!(!w.value||!v.value))try{w.value.innerHTML="";const u=W(d.value);V.value=Y(u,m.value,f.value,g.value,I.value),V.value.append(w.value)}catch(u){console.error("Error generando QR:",u),c.add({severity:"error",summary:"Error",detail:"No se pudo generar el código QR vCard.",life:5e3})}},$=()=>{tl(w.value,c)},M=()=>{ol(V.value,"qr-vcard")},O=()=>{sl(y,C,"vcard",c),v.value&&b()},j=()=>{const u=P(m.value,50);m.value=u,Q("update:size",u)},F=()=>{const u=P(m.value,-50);m.value=u,Q("update:size",u)};return U(d,u=>{Object.entries(u).forEach(([e,S])=>{S?localStorage.setItem(`vcard-${e}`,S):localStorage.removeItem(`vcard-${e}`)}),v.value&&b()},{deep:!0}),U([f,g],([u,e])=>{localStorage.setItem("qr-color-vcard",u),localStorage.setItem("qr-bg-color-vcard",e),v.value&&b()}),U(I,u=>{localStorage.setItem("qr-dot-shape",u),v.value&&b()}),U(()=>N.size,u=>{m.value=u,v.value&&b()}),ml(()=>{v.value&&b()}),(u,e)=>{const S=cl("tooltip");return pl(),vl("div",fl,[o("div",gl,[e[33]||(e[33]=o("h3",{class:"text-lg font-semibold mb-4"},"Información de contacto",-1)),o("div",bl,[o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombres",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(z),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value.firstName=t),class:"w-full",placeholder:"Juan"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Apellidos",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(z),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.lastName,"onUpdate:modelValue":e[1]||(e[1]=t=>d.value.lastName=t),class:"w-full",placeholder:"Pérez"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Celular",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(_),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.cellPhone,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value.cellPhone=t),class:"w-full",placeholder:"+57 300 123 4567"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Teléfono",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(_),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.workPhone,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value.workPhone=t),class:"w-full",placeholder:"+57 1 234 5678"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Compañía",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.company,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value.company=t),class:"w-full",placeholder:"Mi Empresa S.A."},null,8,["modelValue"])]),_:1})]),o("div",null,[e[25]||(e[25]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cargo",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(z),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.title,"onUpdate:modelValue":e[5]||(e[5]=t=>d.value.title=t),class:"w-full",placeholder:"Desarrollador Senior"},null,8,["modelValue"])]),_:1})]),o("div",xl,[e[26]||(e[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dirección",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.address,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value.address=t),class:"w-full",placeholder:"Calle 123 # 45-67"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[27]||(e[27]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ciudad",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.city,"onUpdate:modelValue":e[7]||(e[7]=t=>d.value.city=t),class:"w-full",placeholder:"Bogotá"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[28]||(e[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Código Postal",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.zip,"onUpdate:modelValue":e[8]||(e[8]=t=>d.value.zip=t),class:"w-full",placeholder:"110111"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Departamento",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(k),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.state,"onUpdate:modelValue":e[9]||(e[9]=t=>d.value.state=t),class:"w-full",placeholder:"Cundinamarca"},null,8,["modelValue"])]),_:1})]),o("div",null,[e[30]||(e[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"País",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(h),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.country,"onUpdate:modelValue":e[10]||(e[10]=t=>d.value.country=t),class:"w-full",placeholder:"Colombia"},null,8,["modelValue"])]),_:1})]),o("div",wl,[e[31]||(e[31]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sitio web",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(h),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.website,"onUpdate:modelValue":e[11]||(e[11]=t=>d.value.website=t),class:"w-full",placeholder:"https://www.misitio.com"},null,8,["modelValue"])]),_:1})]),o("div",Vl,[e[32]||(e[32]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Correo electrónico",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(dl),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:d.value.email,"onUpdate:modelValue":e[12]||(e[12]=t=>d.value.email=t),class:"w-full",placeholder:"juan.perez@empresa.com",type:"email"},null,8,["modelValue"])]),_:1})])])]),o("div",yl,[e[37]||(e[37]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración",-1)),o("div",Cl,[o("div",Sl,[e[34]||(e[34]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color del QR:",-1)),a(l(E),{modelValue:f.value,"onUpdate:modelValue":e[13]||(e[13]=t=>f.value=t)},null,8,["modelValue"]),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(T),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:f.value,"onUpdate:modelValue":e[14]||(e[14]=t=>l(R)(t,"qr",y.value,C.value,l(c))),onBlur:e[15]||(e[15]=t=>l(R)(t.target.value,"qr",y.value,C.value,l(c))),class:"w-24 text-center text-xs font-mono",style:q({backgroundColor:f.value,color:"#fff",textShadow:"0 0 2px #000"})},null,8,["modelValue","style"])]),_:1})]),o("div",kl,[e[35]||(e[35]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color de fondo:",-1)),a(l(E),{modelValue:g.value,"onUpdate:modelValue":e[16]||(e[16]=t=>g.value=t)},null,8,["modelValue"]),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(T),{class:"w-4 h-4"})]),_:1}),a(l(i),{modelValue:g.value,"onUpdate:modelValue":e[17]||(e[17]=t=>l(R)(t,"bg",y.value,C.value,l(c))),onBlur:e[18]||(e[18]=t=>l(R)(t.target.value,"bg",y.value,C.value,l(c))),class:"w-24 text-center text-xs font-mono",style:q({backgroundColor:g.value,color:"#000",textShadow:"0 0 2px #fff"})},null,8,["modelValue","style"])]),_:1})]),o("div",Il,[e[36]||(e[36]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Forma:",-1)),a(l(r),null,{default:s(()=>[a(l(n),null,{default:s(()=>[a(l(nl),{class:"w-4 h-4"})]),_:1}),a(l(H),{modelValue:I.value,"onUpdate:modelValue":e[19]||(e[19]=t=>I.value=t),options:l(ll),optionLabel:"label",optionValue:"value",class:"w-full"},{option:s(t=>[o("div",Rl,[o("span",{style:q({display:"inline-block",width:"18px",height:"18px",borderRadius:t.option.value==="dots"?"50%":t.option.value==="rounded"?"8px":t.option.value==="classy"?"2px":t.option.value==="classy-rounded"?"6px 6px 2px 2px":t.option.value==="square"?"0":"12px",background:"#0288d1",border:"1.5px solid #333",marginRight:"8px"})},null,4),o("span",null,D(t.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})])]),o("div",Ul,[a(l(x),{onClick:O,severity:"secondary",icon:"pi pi-refresh",label:"Restaurar configuración por defecto",text:""})])]),o("div",zl,[a(l(x),{onClick:b,severity:"success",class:"w-full",icon:"pi pi-qrcode",label:"Generar vCard QR",disabled:!v.value},null,8,["disabled"]),a(l(x),{onClick:$,severity:"help",class:"w-full",icon:"pi pi-copy",label:"Copiar código QR",disabled:!V.value||!v.value},null,8,["disabled"]),a(l(x),{onClick:M,severity:"info",class:"w-full",icon:"pi pi-download",label:"Descargar código QR",disabled:!V.value||!v.value},null,8,["disabled"]),o("div",Dl,[A(a(l(x),{onClick:F,severity:"secondary",icon:"pi pi-minus",disabled:m.value<=l(el)},null,8,["disabled"]),[[S,"Reducir tamaño",void 0,{top:!0}]]),o("span",ql,D(m.value)+"x"+D(m.value)+"px",1),A(a(l(x),{onClick:j,severity:"secondary",icon:"pi pi-plus",disabled:m.value>=l(al)},null,8,["disabled"]),[[S,"Aumentar tamaño",void 0,{top:!0}]])])]),o("div",{ref_key:"qrcodeContainer",ref:w,class:"flex justify-center mt-4"},null,512)])}}}),Ll=ul(Nl,[["__scopeId","data-v-4f62b646"]]);export{Ll as default};
