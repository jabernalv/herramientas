import{u as P,g,h as R,f as x,l as N,i as W,n as j,D as z,a as w}from"./primevue-DrPXlnFP.js";import{D as H,a as Z,b as G,c as X,m as J,d as K,h as _,e as Y,f as ee,g as le,i as ae,j as te,r as oe,k as E}from"./qrCodeCommonFunctions-BZDhSGhP.js";import{c as se,L as ie,P as Q,_ as de}from"./index-C99OtVWq.js";import{S as A}from"./settings-quWhHcZH.js";import{P as ne,r as u,L as re,w as k,o as ue,c as ce,e as t,x as a,B as i,R as l,l as L,t as h,d as pe,s as I,h as me}from"./vue-vendor-D8N656sj.js";import"./_commonjsHelpers-D6-XlEtG.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=se("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),ve={class:"space-y-4"},ge={class:"bg-white rounded-lg shadow-md p-6"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"md:col-span-2"},be={class:"md:col-span-2"},ye={class:"flex items-center"},Se={class:"w-full bg-white rounded-lg shadow-md p-4"},Ce={class:"flex flex-col md:flex-row md:items-center md:gap-6 gap-4"},Ve={class:"flex-1 flex items-center gap-2 min-w-0"},_e={class:"flex-1 flex items-center gap-2 min-w-0"},ke={class:"flex-1 flex items-center gap-2 min-w-0"},Re={class:"flex items-center"},he={class:"mt-4"},Ie={class:"w-full flex flex-col sm:flex-row gap-2 items-center"},qe={class:"flex items-center gap-2"},De={class:"text-sm text-gray-600"},We=ne({__name:"QRCodeWifi",props:{size:{default:H}},emits:["update:size"],setup(U,{emit:T}){const c=P(),q=U,D=T,b=u(null),y=u(null),n=u(q.size),d=u({ssid:localStorage.getItem("wifi-ssid")||"",password:localStorage.getItem("wifi-password")||"",encryption:localStorage.getItem("wifi-encryption")||"WPA",hidden:localStorage.getItem("wifi-hidden")==="true"}),p=u(localStorage.getItem("qr-color-wifi")||Z),m=u(localStorage.getItem("qr-bg-color-wifi")||G),V=u(localStorage.getItem("qr-dot-shape")||X),S=u(p),C=u(m),r=re(()=>d.value.ssid.trim()!==""),f=()=>{if(!(!b.value||!r.value))try{b.value.innerHTML="";const s=J(d.value);y.value=K(s,n.value,p.value,m.value,V.value),y.value.append(b.value)}catch(s){console.error("Error generando QR:",s),c.add({severity:"error",summary:"Error",detail:"No se pudo generar el código QR WiFi.",life:5e3})}},M=()=>{ae(b.value,c)},$=()=>{te(y.value,"qr-wifi")},F=()=>{oe(S,C,"wifi",c),r.value&&f()},B=()=>{const s=E(n.value,50);n.value=s,D("update:size",s)},O=()=>{const s=E(n.value,-50);n.value=s,D("update:size",s)};return k(d,s=>{Object.entries(s).forEach(([e,v])=>{v!=null?localStorage.setItem(`wifi-${e}`,String(v)):localStorage.removeItem(`wifi-${e}`)}),r.value&&f()},{deep:!0}),k([p,m],([s,e])=>{localStorage.setItem("qr-color-wifi",s),localStorage.setItem("qr-bg-color-wifi",e),r.value&&f()}),k(V,s=>{localStorage.setItem("qr-dot-shape",s),r.value&&f()}),k(()=>q.size,s=>{n.value=s,r.value&&f()}),ue(()=>{r.value&&f()}),(s,e)=>{const v=me("tooltip");return pe(),ce("div",ve,[t("div",ge,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold mb-4"},"Configuración de WiFi",-1)),t("div",xe,[t("div",we,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombre de la red (SSID)",-1)),a(l(x),null,{default:i(()=>[a(l(g),null,{default:i(()=>[a(l(fe),{class:"w-4 h-4"})]),_:1}),a(l(R),{modelValue:d.value.ssid,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value.ssid=o),class:"w-full",placeholder:"MiWiFi"},null,8,["modelValue"])]),_:1})]),t("div",be,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contraseña",-1)),a(l(x),null,{default:i(()=>[a(l(g),null,{default:i(()=>[a(l(ie),{class:"w-4 h-4"})]),_:1}),a(l(N),{modelValue:d.value.password,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value.password=o),class:"w-full",feedback:!1,toggleMask:"",placeholder:"Contraseña de la red"},null,8,["modelValue"])]),_:1})]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de encriptación",-1)),a(l(x),null,{default:i(()=>[a(l(g),null,{default:i(()=>[a(l(A),{class:"w-4 h-4"})]),_:1}),a(l(W),{modelValue:d.value.encryption,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value.encryption=o),options:[{label:"WPA/WPA2/WPA3",value:"WPA"},{label:"WEP",value:"WEP"},{label:"Sin encriptación",value:"nopass"}],optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue"])]),_:1})]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Red oculta",-1)),t("div",ye,[a(l(j),{modelValue:d.value.hidden,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value.hidden=o),inputId:"hidden-wifi",binary:"",class:"mr-2"},null,8,["modelValue"]),e[14]||(e[14]=t("label",{for:"hidden-wifi",class:"text-sm text-gray-700"}," Sí, la red está oculta ",-1))])])])]),t("div",Se,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold mb-4"},"Configuración",-1)),t("div",Ce,[t("div",Ve,[e[17]||(e[17]=t("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color del QR:",-1)),a(l(z),{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value=o)},null,8,["modelValue"]),a(l(x),null,{default:i(()=>[a(l(g),null,{default:i(()=>[a(l(Q),{class:"w-4 h-4"})]),_:1}),a(l(R),{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=o=>l(_)(o,"qr",S.value,C.value,l(c))),onBlur:e[6]||(e[6]=o=>l(_)(o.target.value,"qr",S.value,C.value,l(c))),class:"w-24 text-center text-xs font-mono",style:I({backgroundColor:p.value,color:"#fff",textShadow:"0 0 2px #000"})},null,8,["modelValue","style"])]),_:1})]),t("div",_e,[e[18]||(e[18]=t("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color de fondo:",-1)),a(l(z),{modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=o=>m.value=o)},null,8,["modelValue"]),a(l(x),null,{default:i(()=>[a(l(g),null,{default:i(()=>[a(l(Q),{class:"w-4 h-4"})]),_:1}),a(l(R),{modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=o=>l(_)(o,"bg",S.value,C.value,l(c))),onBlur:e[9]||(e[9]=o=>l(_)(o.target.value,"bg",S.value,C.value,l(c))),class:"w-24 text-center text-xs font-mono",style:I({backgroundColor:m.value,color:"#000",textShadow:"0 0 2px #fff"})},null,8,["modelValue","style"])]),_:1})]),t("div",ke,[e[19]||(e[19]=t("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Forma:",-1)),a(l(x),null,{default:i(()=>[a(l(g),null,{default:i(()=>[a(l(A),{class:"w-4 h-4"})]),_:1}),a(l(W),{modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=o=>V.value=o),options:l(Y),optionLabel:"label",optionValue:"value",class:"w-full"},{option:i(o=>[t("div",Re,[t("span",{style:I({display:"inline-block",width:"18px",height:"18px",borderRadius:o.option.value==="dots"?"50%":o.option.value==="rounded"?"8px":o.option.value==="classy"?"2px":o.option.value==="classy-rounded"?"6px 6px 2px 2px":o.option.value==="square"?"0":"12px",background:"#0288d1",border:"1.5px solid #333",marginRight:"8px"})},null,4),t("span",null,h(o.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})])]),t("div",he,[a(l(w),{onClick:F,severity:"secondary",icon:"pi pi-refresh",label:"Restaurar configuración por defecto",text:""})])]),t("div",Ie,[a(l(w),{onClick:f,severity:"success",class:"w-full",icon:"pi pi-qrcode",label:"Generar WiFi QR",disabled:!r.value},null,8,["disabled"]),a(l(w),{onClick:M,severity:"help",class:"w-full",icon:"pi pi-copy",label:"Copiar código QR",disabled:!y.value||!r.value},null,8,["disabled"]),a(l(w),{onClick:$,severity:"info",class:"w-full",icon:"pi pi-download",label:"Descargar código QR",disabled:!y.value||!r.value},null,8,["disabled"]),t("div",qe,[L(a(l(w),{onClick:O,severity:"secondary",icon:"pi pi-minus",disabled:n.value<=l(ee)},null,8,["disabled"]),[[v,"Reducir tamaño",void 0,{top:!0}]]),t("span",De,h(n.value)+"x"+h(n.value)+"px",1),L(a(l(w),{onClick:B,severity:"secondary",icon:"pi pi-plus",disabled:n.value>=l(le)},null,8,["disabled"]),[[v,"Aumentar tamaño",void 0,{top:!0}]])])]),t("div",{ref_key:"qrcodeContainer",ref:b,class:"flex justify-center mt-4"},null,512)])}}}),Te=de(We,[["__scopeId","data-v-35ec3a95"]]);export{Te as default};
