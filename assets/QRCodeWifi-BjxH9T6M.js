import{u as j,g,h as k,f as w,l as H,i as W,n as Z,D as z,a as x}from"./primevue-DrPXlnFP.js";import{D as G,a as X,b as J,c as K,m as Y,d as ee,h as V,e as le,f as ae,g as oe,i as te,j as se,r as ie,k as E}from"./qrCodeCommonFunctions-BZDhSGhP.js";import{c as de,L as ne,P as A,Q as re,_ as ue}from"./index-Dm5LJ7u1.js";import{S as L}from"./settings-CTUlyxhy.js";import{R as ce}from"./refresh-cw-65gcbnaQ.js";import{C as me}from"./copy-D939PhPb.js";import{D as pe}from"./download-ZGrC78Ec.js";import{M as fe}from"./minus-DX2o56HG.js";import{P as ve}from"./plus-BS-ngSAI.js";import{P as ge,r as u,L as we,w as h,o as xe,c as be,e as o,x as a,B as s,R as e,l as U,k as M,t as R,d as I,s as D,h as ye}from"./vue-vendor-D8N656sj.js";import"./_commonjsHelpers-D6-XlEtG.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=de("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Ce={class:"space-y-4"},_e={class:"bg-white rounded-lg shadow-md p-6"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"md:col-span-2"},ke={class:"md:col-span-2"},Re={class:"flex items-center"},Ie={class:"w-full bg-white rounded-lg shadow-md p-4"},De={class:"flex flex-col md:flex-row md:items-center md:gap-6 gap-4"},Qe={class:"flex-1 flex items-center gap-2 min-w-0"},qe={class:"flex-1 flex items-center gap-2 min-w-0"},We={class:"flex-1 flex items-center gap-2 min-w-0"},ze={class:"flex items-center"},Ee={class:"mt-4"},Ae={class:"w-full flex flex-col sm:flex-row gap-2 items-center"},Le={class:"flex items-center gap-2"},Ue={class:"text-sm text-gray-600"},Me=ge({__name:"QRCodeWifi",props:{size:{default:G}},emits:["update:size"],setup(T,{emit:$}){const c=j(),Q=T,q=$,b=u(null),y=u(null),n=u(Q.size),d=u({ssid:localStorage.getItem("wifi-ssid")||"",password:localStorage.getItem("wifi-password")||"",encryption:localStorage.getItem("wifi-encryption")||"WPA",hidden:localStorage.getItem("wifi-hidden")==="true"}),m=u(localStorage.getItem("qr-color-wifi")||X),p=u(localStorage.getItem("qr-bg-color-wifi")||J),_=u(localStorage.getItem("qr-dot-shape")||K),S=u(m),C=u(p),r=we(()=>d.value.ssid.trim()!==""),f=()=>{if(!(!b.value||!r.value))try{b.value.innerHTML="";const i=Y(d.value);y.value=ee(i,n.value,m.value,p.value,_.value),y.value.append(b.value)}catch(i){console.error("Error generando QR:",i),c.add({severity:"error",summary:"Error",detail:"No se pudo generar el código QR WiFi.",life:5e3})}},F=()=>{te(b.value,c)},P=()=>{se(y.value,"qr-wifi")},B=()=>{ie(S,C,"wifi",c),r.value&&f()},O=()=>{const i=E(n.value,50);n.value=i,q("update:size",i)},N=()=>{const i=E(n.value,-50);n.value=i,q("update:size",i)};return h(d,i=>{Object.entries(i).forEach(([l,v])=>{v!=null?localStorage.setItem(`wifi-${l}`,String(v)):localStorage.removeItem(`wifi-${l}`)}),r.value&&f()},{deep:!0}),h([m,p],([i,l])=>{localStorage.setItem("qr-color-wifi",i),localStorage.setItem("qr-bg-color-wifi",l),r.value&&f()}),h(_,i=>{localStorage.setItem("qr-dot-shape",i),r.value&&f()}),h(()=>Q.size,i=>{n.value=i,r.value&&f()}),xe(()=>{r.value&&f()}),(i,l)=>{const v=ye("tooltip");return I(),be("div",Ce,[o("div",_e,[l[16]||(l[16]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración de WiFi",-1)),o("div",Ve,[o("div",he,[l[11]||(l[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombre de la red (SSID)",-1)),a(e(w),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(Se),{class:"w-4 h-4"})]),_:1}),a(e(k),{modelValue:d.value.ssid,"onUpdate:modelValue":l[0]||(l[0]=t=>d.value.ssid=t),class:"w-full",placeholder:"MiWiFi"},null,8,["modelValue"])]),_:1})]),o("div",ke,[l[12]||(l[12]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contraseña",-1)),a(e(w),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(ne),{class:"w-4 h-4"})]),_:1}),a(e(H),{modelValue:d.value.password,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value.password=t),class:"w-full",feedback:!1,toggleMask:"",placeholder:"Contraseña de la red"},null,8,["modelValue"])]),_:1})]),o("div",null,[l[13]||(l[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de encriptación",-1)),a(e(w),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(L),{class:"w-4 h-4"})]),_:1}),a(e(W),{modelValue:d.value.encryption,"onUpdate:modelValue":l[2]||(l[2]=t=>d.value.encryption=t),options:[{label:"WPA/WPA2/WPA3",value:"WPA"},{label:"WEP",value:"WEP"},{label:"Sin encriptación",value:"nopass"}],optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[l[15]||(l[15]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Red oculta",-1)),o("div",Re,[a(e(Z),{modelValue:d.value.hidden,"onUpdate:modelValue":l[3]||(l[3]=t=>d.value.hidden=t),inputId:"hidden-wifi",binary:"",class:"mr-2"},null,8,["modelValue"]),l[14]||(l[14]=o("label",{for:"hidden-wifi",class:"text-sm text-gray-700"}," Sí, la red está oculta ",-1))])])])]),o("div",Ie,[l[20]||(l[20]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración",-1)),o("div",De,[o("div",Qe,[l[17]||(l[17]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color del QR:",-1)),a(e(z),{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=t=>m.value=t)},null,8,["modelValue"]),a(e(w),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(A),{class:"w-4 h-4"})]),_:1}),a(e(k),{modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=t=>e(V)(t,"qr",S.value,C.value,e(c))),onBlur:l[6]||(l[6]=t=>e(V)(t.target.value,"qr",S.value,C.value,e(c))),class:"w-24 text-center text-xs font-mono",style:D({backgroundColor:m.value,color:"#fff",textShadow:"0 0 2px #000"})},null,8,["modelValue","style"])]),_:1})]),o("div",qe,[l[18]||(l[18]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color de fondo:",-1)),a(e(z),{modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=t=>p.value=t)},null,8,["modelValue"]),a(e(w),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(A),{class:"w-4 h-4"})]),_:1}),a(e(k),{modelValue:p.value,"onUpdate:modelValue":l[8]||(l[8]=t=>e(V)(t,"bg",S.value,C.value,e(c))),onBlur:l[9]||(l[9]=t=>e(V)(t.target.value,"bg",S.value,C.value,e(c))),class:"w-24 text-center text-xs font-mono",style:D({backgroundColor:p.value,color:"#000",textShadow:"0 0 2px #fff"})},null,8,["modelValue","style"])]),_:1})]),o("div",We,[l[19]||(l[19]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Forma:",-1)),a(e(w),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(L),{class:"w-4 h-4"})]),_:1}),a(e(W),{modelValue:_.value,"onUpdate:modelValue":l[10]||(l[10]=t=>_.value=t),options:e(le),optionLabel:"label",optionValue:"value",class:"w-full"},{option:s(t=>[o("div",ze,[o("span",{style:D({display:"inline-block",width:"18px",height:"18px",borderRadius:t.option.value==="dots"?"50%":t.option.value==="rounded"?"8px":t.option.value==="classy"?"2px":t.option.value==="classy-rounded"?"6px 6px 2px 2px":t.option.value==="square"?"0":"12px",background:"#0288d1",border:"1.5px solid #333",marginRight:"8px"})},null,4),o("span",null,R(t.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})])]),o("div",Ee,[a(e(x),{onClick:B,severity:"secondary",label:"Restaurar configuración por defecto",text:""},{icon:s(()=>[a(e(ce),{class:"w-4 h-4 mr-2"})]),_:1})])]),o("div",Ae,[a(e(x),{onClick:f,severity:"success",class:"w-full",label:"Generar WiFi QR",disabled:!r.value},{icon:s(()=>[a(e(re),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(e(x),{onClick:F,severity:"help",class:"w-full",label:"Copiar código QR",disabled:!y.value||!r.value},{icon:s(()=>[a(e(me),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(e(x),{onClick:P,severity:"info",class:"w-full",label:"Descargar código QR",disabled:!y.value||!r.value},{icon:s(()=>[a(e(pe),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),o("div",Le,[U((I(),M(e(x),{onClick:N,severity:"secondary",disabled:n.value<=e(ae)},{icon:s(()=>[a(e(fe),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[v,"Reducir tamaño",void 0,{top:!0}]]),o("span",Ue,R(n.value)+"x"+R(n.value)+"px",1),U((I(),M(e(x),{onClick:O,severity:"secondary",disabled:n.value>=e(oe)},{icon:s(()=>[a(e(ve),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[v,"Aumentar tamaño",void 0,{top:!0}]])])]),o("div",{ref_key:"qrcodeContainer",ref:b,class:"flex justify-center mt-4"},null,512)])}}}),Xe=ue(Me,[["__scopeId","data-v-2c803ca1"]]);export{Xe as default};
