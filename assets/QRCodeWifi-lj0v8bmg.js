import{u as H,g as v,h as I,f as g,l as X,i as D,n as Z,D as T,a as b}from"./primevue-CTM77RMy.js";import{D as G,a as J,b as K,c as Y,d as ee,n as le,e as ae,h as R,f as oe,E as te,g as se,i as ie,j as re,k as de,r as ne,l as U}from"./qrCodeCommonFunctions-BvzLY-jy.js";import{c as ue,L as me,P as W,Q as ce,_ as pe}from"./index-DrBQnuTu.js";import{S as z}from"./settings-CzymMCDD.js";import{I as fe}from"./image-B-ASkV1r.js";import{R as ve}from"./refresh-cw-BsXvUuoC.js";import{C as ge}from"./copy-CeZSSWMR.js";import{D as we}from"./download-QK3e7P00.js";import{M as be}from"./minus-CUndVUGw.js";import{P as xe}from"./plus-DDR0eG1e.js";import{P as ye,r as u,L as Se,w as V,o as _e,c as Ce,e as o,x as a,B as s,R as e,l as L,k as F,t as k,d as E,s as q,h as Ve}from"./vue-vendor-ByoO1CXK.js";import"./_commonjsHelpers-D6-XlEtG.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=ue("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Re={class:"space-y-4"},ke={class:"bg-white rounded-lg shadow-md p-6"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},De={class:"md:col-span-2"},Ee={class:"md:col-span-2"},qe={class:"flex items-center"},Ae={class:"w-full bg-white rounded-lg shadow-md p-4"},Qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Te={class:"flex items-center gap-2"},Ue={class:"flex items-center gap-2"},We={class:"flex items-center gap-2"},ze={class:"flex items-center"},Le={class:"flex items-center gap-2"},Fe={class:"flex items-center"},Me={class:"font-medium"},Oe={class:"mt-4"},Pe={class:"w-full flex flex-col sm:flex-row gap-2 items-center"},$e={class:"flex items-center gap-2"},Be={class:"text-sm text-gray-600"},Ne=ye({__name:"QRCodeWifi",props:{size:{default:G}},emits:["update:size"],setup(M,{emit:O}){const m=H(),A=M,Q=O,x=u(null),y=u(null),d=u(A.size),r=u({ssid:localStorage.getItem("wifi-ssid")||"",password:localStorage.getItem("wifi-password")||"",encryption:localStorage.getItem("wifi-encryption")||"WPA",hidden:localStorage.getItem("wifi-hidden")==="true"}),c=u(localStorage.getItem("qr-color-wifi")||J),p=u(localStorage.getItem("qr-bg-color-wifi")||K),h=u(localStorage.getItem("qr-dot-shape")||Y),S=u(localStorage.getItem("qr-export-format")||ee),_=u(c),C=u(p),n=Se(()=>r.value.ssid.trim()!==""),f=()=>{if(!(!x.value||!n.value))try{x.value.innerHTML="";const i=le(r.value);y.value=ae(i,d.value,c.value,p.value,h.value),y.value.append(x.value)}catch(i){console.error("Error generando QR:",i),m.add({severity:"error",summary:"Error",detail:"No se pudo generar el código QR WiFi.",life:5e3})}},P=()=>{re(x.value,m)},$=()=>{de(y.value,"qr-wifi",S.value)},B=()=>{ne(_,C,"wifi",m),n.value&&f()},N=()=>{const i=U(d.value,50);d.value=i,Q("update:size",i)},j=()=>{const i=U(d.value,-50);d.value=i,Q("update:size",i)};return V(r,i=>{Object.entries(i).forEach(([l,w])=>{w!=null?localStorage.setItem(`wifi-${l}`,String(w)):localStorage.removeItem(`wifi-${l}`)}),n.value&&f()},{deep:!0}),V([c,p],([i,l])=>{localStorage.setItem("qr-color-wifi",i),localStorage.setItem("qr-bg-color-wifi",l),n.value&&f()}),V(h,i=>{localStorage.setItem("qr-dot-shape",i),n.value&&f()}),V(S,i=>{localStorage.setItem("qr-export-format",i)}),V(()=>A.size,i=>{d.value=i,n.value&&f()}),_e(()=>{n.value&&f()}),(i,l)=>{const w=Ve("tooltip");return E(),Ce("div",Re,[o("div",ke,[l[17]||(l[17]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración de WiFi",-1)),o("div",Ie,[o("div",De,[l[12]||(l[12]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nombre de la red (SSID)",-1)),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(he),{class:"w-4 h-4"})]),_:1}),a(e(I),{modelValue:r.value.ssid,"onUpdate:modelValue":l[0]||(l[0]=t=>r.value.ssid=t),class:"w-full",placeholder:"MiWiFi"},null,8,["modelValue"])]),_:1})]),o("div",Ee,[l[13]||(l[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contraseña",-1)),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(me),{class:"w-4 h-4"})]),_:1}),a(e(X),{modelValue:r.value.password,"onUpdate:modelValue":l[1]||(l[1]=t=>r.value.password=t),class:"w-full",feedback:!1,toggleMask:"",placeholder:"Contraseña de la red"},null,8,["modelValue"])]),_:1})]),o("div",null,[l[14]||(l[14]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de encriptación",-1)),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(z),{class:"w-4 h-4"})]),_:1}),a(e(D),{modelValue:r.value.encryption,"onUpdate:modelValue":l[2]||(l[2]=t=>r.value.encryption=t),options:[{label:"WPA/WPA2/WPA3",value:"WPA"},{label:"WEP",value:"WEP"},{label:"Sin encriptación",value:"nopass"}],optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue"])]),_:1})]),o("div",null,[l[16]||(l[16]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Red oculta",-1)),o("div",qe,[a(e(Z),{modelValue:r.value.hidden,"onUpdate:modelValue":l[3]||(l[3]=t=>r.value.hidden=t),inputId:"hidden-wifi",binary:"",class:"mr-2"},null,8,["modelValue"]),l[15]||(l[15]=o("label",{for:"hidden-wifi",class:"text-sm text-gray-700"}," Sí, la red está oculta ",-1))])])])]),o("div",Ae,[l[22]||(l[22]=o("h3",{class:"text-lg font-semibold mb-4"},"Configuración",-1)),o("div",Qe,[o("div",Te,[l[18]||(l[18]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color del QR:",-1)),a(e(T),{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=t=>c.value=t)},null,8,["modelValue"]),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(W),{class:"w-4 h-4"})]),_:1}),a(e(I),{modelValue:c.value,"onUpdate:modelValue":l[5]||(l[5]=t=>e(R)(t,"qr",_.value,C.value,e(m))),onBlur:l[6]||(l[6]=t=>e(R)(t.target.value,"qr",_.value,C.value,e(m))),class:"w-24 text-center text-xs font-mono",style:q({backgroundColor:c.value,color:"#fff",textShadow:"0 0 2px #000"})},null,8,["modelValue","style"])]),_:1})]),o("div",Ue,[l[19]||(l[19]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Color de fondo:",-1)),a(e(T),{modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=t=>p.value=t)},null,8,["modelValue"]),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(W),{class:"w-4 h-4"})]),_:1}),a(e(I),{modelValue:p.value,"onUpdate:modelValue":l[8]||(l[8]=t=>e(R)(t,"bg",_.value,C.value,e(m))),onBlur:l[9]||(l[9]=t=>e(R)(t.target.value,"bg",_.value,C.value,e(m))),class:"w-24 text-center text-xs font-mono",style:q({backgroundColor:p.value,color:"#000",textShadow:"0 0 2px #fff"})},null,8,["modelValue","style"])]),_:1})]),o("div",We,[l[20]||(l[20]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Forma:",-1)),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(z),{class:"w-4 h-4"})]),_:1}),a(e(D),{modelValue:h.value,"onUpdate:modelValue":l[10]||(l[10]=t=>h.value=t),options:e(oe),optionLabel:"label",optionValue:"value",class:"w-full"},{option:s(t=>[o("div",ze,[o("span",{style:q({display:"inline-block",width:"18px",height:"18px",borderRadius:t.option.value==="dots"?"50%":t.option.value==="rounded"?"8px":t.option.value==="classy"?"2px":t.option.value==="classy-rounded"?"6px 6px 2px 2px":t.option.value==="square"?"0":"12px",background:"#0288d1",border:"1.5px solid #333",marginRight:"8px"})},null,4),o("span",null,k(t.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})]),o("div",Le,[l[21]||(l[21]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"Formato:",-1)),a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>[a(e(fe),{class:"w-4 h-4"})]),_:1}),a(e(D),{modelValue:S.value,"onUpdate:modelValue":l[11]||(l[11]=t=>S.value=t),options:e(te),optionLabel:"label",optionValue:"value",class:"w-full"},{option:s(t=>[o("div",Fe,[o("span",Me,k(t.option.label),1)])]),_:1},8,["modelValue","options"])]),_:1})])]),o("div",Oe,[a(e(b),{onClick:B,severity:"secondary",label:"Restaurar configuración por defecto",text:""},{icon:s(()=>[a(e(ve),{class:"w-4 h-4 mr-2"})]),_:1})])]),o("div",Pe,[a(e(b),{onClick:f,severity:"success",class:"w-full",label:"Generar WiFi QR",disabled:!n.value},{icon:s(()=>[a(e(ce),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(e(b),{onClick:P,severity:"help",class:"w-full",label:"Copiar código QR",disabled:!y.value||!n.value},{icon:s(()=>[a(e(ge),{class:"w-4 h-4 mr-2"})]),_:1},8,["disabled"]),a(e(b),{onClick:$,severity:"info",class:"w-full",label:`Descargar ${S.value.toUpperCase()}`,disabled:!y.value||!n.value},{icon:s(()=>[a(e(we),{class:"w-4 h-4 mr-2"})]),_:1},8,["label","disabled"]),o("div",$e,[L((E(),F(e(b),{onClick:j,severity:"secondary",disabled:d.value<=e(se)},{icon:s(()=>[a(e(be),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[w,"Reducir tamaño",void 0,{top:!0}]]),o("span",Be,k(d.value)+"x"+k(d.value)+"px",1),L((E(),F(e(b),{onClick:N,severity:"secondary",disabled:d.value>=e(ie)},{icon:s(()=>[a(e(xe),{class:"w-4 h-4"})]),_:1},8,["disabled"])),[[w,"Aumentar tamaño",void 0,{top:!0}]])])]),o("div",{ref_key:"qrcodeContainer",ref:x,class:"flex justify-center mt-4"},null,512)])}}}),tl=pe(Ne,[["__scopeId","data-v-4c065a9b"]]);export{tl as default};
