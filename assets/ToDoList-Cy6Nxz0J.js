import{c as f,d as u,e as r,P as B,r as w,o as I,w as E,x as s,j as h,B as i,R as e,t as L,K as j,F as A,i as K,k as g,p as P,n as F}from"./vue-vendor-ByoO1CXK.js";import{q as G,a as m,r as R,g as S,h as T,f as H,n as Q}from"./primevue-CTM77RMy.js";import{_ as W}from"./BreadcrumbNav.vue_vue_type_script_setup_true_lang-D5HMXHe9.js";import{C as X,D as Y,G as Z}from"./vue3-smooth-dnd.esm-DtIHct2w.js";import{c as N,_ as $}from"./index-BbAnu8e5.js";import{D as ee}from"./download-Bx4kx5V9.js";import{U as te}from"./upload-BXDP9Kmg.js";import{P as ae}from"./plus-DICSOiCt.js";import{T as V}from"./trash-2-CekUZyF1.js";import{C as se}from"./check-BeRjoNd_.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=N("list-todo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=N("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),oe={},re={xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 66.4 81.363"};function ne(M,o){return u(),f("svg",re,o[0]||(o[0]=[r("path",{d:"M388.15 530.07c-3.73.72-3.29 2.41-3.66 3.91l1.77 71.54c-.08 2.18.46 3.79 3.02 3.53l54.52.16c1.88-.31 3.43-1.07 3.56-3.82l1.53-72.41c-.18-3.22-2.16-3.1-4.06-3.13l-56.68.22z",style:{"stroke-linejoin":"round",stroke:"#000","stroke-linecap":"round","stroke-width":"2",fill:"none"},transform:"translate(-383.485 -528.842)"},null,-1),r("path",{d:"M392.76 545.62v12.29l11.91-.49 1.04-11.31-12.95-.49zM410.63 554.23l31.81-.42M409.32 571.7h31.8M409.92 589.7l31.71.3",style:{"stroke-linejoin":"round","fill-opacity":"0.99219",stroke:"#000",fill:"#fff"},transform:"translate(-383.485 -528.842)"},null,-1),r("path",{d:"m396.46 549.43-1.23 1.02 3.54 4.28 10.75-9.48-1.85-1.91-8.67 8.64-2.54-2.55z",style:{"stroke-linejoin":"round","fill-opacity":"0.99219",stroke:"red",fill:"red"},transform:"translate(-383.485 -528.842)"},null,-1),r("path",{d:"M392.89 563.1v12.29l11.92-.49 1.03-11.3-12.95-.5zM393.39 581.54v12.29l11.92-.49 1.04-11.31-12.96-.49z",style:{"stroke-linejoin":"round","fill-opacity":"0.99219",stroke:"#000",fill:"#fff"},transform:"translate(-383.485 -528.842)"},null,-1)]))}const ie=$(oe,[["render",ne]]),ce={class:"max-w-2xl mx-auto px-4 py-4"},de={class:"text-center mb-8 flex flex-row items-center gap-2 justify-center"},ue={class:"flex flex-wrap gap-2 justify-end mb-6"},pe={class:"inline-flex items-center cursor-pointer"},me={class:"bg-white p-6 rounded-lg shadow-md mb-6"},fe={key:0,class:"text-red-500 text-sm mt-2"},ve={key:0,class:"bg-white p-6 rounded-lg shadow-md text-center text-gray-500"},he={class:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between group"},ge={class:"flex items-center flex-grow gap-2"},xe={class:"drag-handle cursor-move text-gray-400 hover:text-blue-500 transition",title:"Arrastrar para reordenar"},_e=["onDblclick"],ye={class:"flex gap-1"},we={key:1,class:"mt-6 text-center"},ke={components:{ListTodo:D}},be=B({...ke,__name:"ToDoList",setup(M){const o=w([]),v=w(""),c=w(""),k=G();I(()=>{const t=localStorage.getItem("todoList");t&&(o.value=JSON.parse(t))});const p=()=>{localStorage.setItem("todoList",JSON.stringify(o.value))};E(o,p,{deep:!0});const b=()=>{const t=v.value.trim();if(!t){c.value="La tarea no puede estar vacÃ­a.";return}if(o.value.some(a=>a.text.toLowerCase()===t.toLowerCase())){c.value="Esta tarea ya existe.";return}o.value.unshift({id:Date.now(),text:t,done:!1}),v.value="",c.value="",p()},C=t=>{o.value[t].editing=!0,F(()=>{})},x=t=>{const a=o.value[t];if(!a.text.trim()){c.value="La tarea no puede estar vacÃ­a.";return}if(o.value.some((l,n)=>n!==t&&l.text.toLowerCase()===a.text.toLowerCase())){c.value="Esta tarea ya existe.";return}a.text=a.text.trim(),a.editing=!1,c.value="",p()},z=t=>{k.require({message:"Â¿Seguro que deseas eliminar esta tarea?",header:"Confirmar eliminaciÃ³n",acceptLabel:"SÃ­, eliminar",rejectLabel:"Cancelar",acceptClass:"p-button-danger",rejectClass:"p-button-warning",accept:()=>{o.value.splice(t,1),p()}})},U=()=>{k.require({message:"Â¿EstÃ¡s seguro de que quieres limpiar todas las tareas?",header:"Confirmar limpieza",acceptLabel:"SÃ­, limpiar",rejectLabel:"Cancelar",acceptClass:"p-button-danger",rejectClass:"p-button-warning",accept:()=>{o.value=[],p()}})};function J(t){if(!t||t.removedIndex===null&&t.addedIndex===null)return;const a=[...o.value],[l]=a.splice(t.removedIndex,1);a.splice(t.addedIndex,0,l),o.value=a,p()}const O=()=>{const t=JSON.stringify(o.value,null,2),a=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download="lista-pendientes.json",n.click(),URL.revokeObjectURL(l)},q=t=>{const a=t.target;if(!a.files||!a.files[0])return;const l=a.files[0],n=new FileReader;n.onload=d=>{try{const _=JSON.parse(d.target?.result);if(!Array.isArray(_)||!_.every(y=>typeof y.id=="number"&&typeof y.text=="string"&&typeof y.done=="boolean")){c.value="Archivo JSON invÃ¡lido.";return}o.value=_,p(),c.value=""}catch{c.value="No se pudo leer el archivo JSON."}},n.readAsText(l)};return(t,a)=>(u(),f("div",null,[s(W),r("div",ce,[r("div",de,[s(ie,{class:"w-10 h-10 text-blue-600 mb-2"}),a[1]||(a[1]=r("h1",{class:"text-3xl font-bold text-center text-gray-800 mb-2"}," Lista de pendientes ",-1))]),r("div",ue,[s(e(m),{onClick:O,label:"Descargar JSON",outlined:"",size:"small"},{icon:i(()=>[s(e(ee),{class:"w-4 h-4 mr-2"})]),_:1}),r("label",pe,[s(e(m),{label:"Cargar JSON",outlined:"",size:"small",class:"mr-2"},{icon:i(()=>[s(e(te),{class:"w-4 h-4 mr-2"})]),_:1}),r("input",{type:"file",accept:"application/json",onChange:q,class:"hidden"},null,32)])]),s(e(R)),r("div",me,[s(e(H),null,{default:i(()=>[s(e(S),null,{default:i(()=>[s(e(D),{class:"w-5 h-5 text-gray-400"})]),_:1}),s(e(T),{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=l=>v.value=l),onKeyup:j(b,["enter"]),placeholder:"Nueva tarea...",class:"flex-grow p-3 border-none focus:ring-2 focus:ring-blue-500"},null,8,["modelValue"]),s(e(S),null,{default:i(()=>[s(e(m),{onClick:b,disabled:!v.value.trim(),class:"rounded-md ml-0"},{icon:i(()=>[s(e(ae),{class:"w-4 h-4"})]),_:1},8,["disabled"])]),_:1})]),_:1}),c.value?(u(),f("p",fe,L(c.value),1)):h("",!0)]),o.value.length===0?(u(),f("div",ve,a[2]||(a[2]=[r("p",null,"Â¡No tienes tareas pendientes! ðŸŽ‰",-1)]))):h("",!0),s(e(X),{tag:"ul",class:"space-y-3","drag-handle-selector":".drag-handle",onDrop:J},{default:i(()=>[(u(!0),f(A,null,K(o.value,(l,n)=>(u(),g(e(Y),{key:l.id},{default:i(()=>[r("li",he,[r("div",ge,[r("span",xe,[s(e(Z),{class:"w-4 h-4"})]),s(e(Q),{modelValue:l.done,"onUpdate:modelValue":d=>l.done=d,onChange:p,binary:!0,class:"mr-2"},null,8,["modelValue","onUpdate:modelValue"]),l.editing?(u(),g(e(T),{key:1,modelValue:l.text,"onUpdate:modelValue":d=>l.text=d,onKeyup:j(d=>x(n),["enter"]),onBlur:d=>x(n),class:"flex-grow",autofocus:""},null,8,["modelValue","onUpdate:modelValue","onKeyup","onBlur"])):(u(),f("span",{key:0,class:P([{"line-through text-gray-500":l.done,"text-gray-800":!l.done},"text-lg flex-grow cursor-pointer"]),onDblclick:d=>C(n),title:"Doble clic para editar"},L(l.text),43,_e))]),r("div",ye,[l.editing?h("",!0):(u(),g(e(m),{key:0,onClick:d=>C(n),text:"",class:"text-blue-500",title:"Editar"},{icon:i(()=>[s(e(le),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),l.editing?(u(),g(e(m),{key:1,onClick:d=>x(n),text:"",class:"text-green-600",title:"Guardar"},{icon:i(()=>[s(e(se),{class:"w-4 h-4"})]),_:2},1032,["onClick"])):h("",!0),s(e(m),{onClick:d=>z(n),text:"",severity:"danger",title:"Eliminar"},{icon:i(()=>[s(e(V),{class:"w-4 h-4"})]),_:2},1032,["onClick"])])])]),_:2},1024))),128))]),_:1}),o.value.length>0?(u(),f("div",we,[s(e(m),{onClick:U,label:"Limpiar Todo",severity:"danger"},{icon:i(()=>[s(e(V),{class:"w-4 h-4 mr-2"})]),_:1})])):h("",!0)])]))}}),ze=$(be,[["__scopeId","data-v-625af557"]]);export{ze as default};
