import{c as f,d as c,e as t,P as J,r as b,o as O,w as E,x as n,B as v,A as U,f as A,j as x,R as o,H as L,t as j,F as q,i as K,k as h,p as F,n as H}from"./vue-vendor-DSKsDytq.js";import{D as P,a as m,E as R,y as N,B as S,x as G,k as Q}from"./primevue-Bq9JCDGo.js";import{C as W,D as X}from"./vue3-smooth-dnd.esm-DyDYc-3R.js";import{c as Y,_ as T}from"./index-B6vp1R4f.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=Y("list-todo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Z={},ee={xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 66.4 81.363"};function te(I,l){return c(),f("svg",ee,l[0]||(l[0]=[t("path",{d:"M388.15 530.07c-3.73.72-3.29 2.41-3.66 3.91l1.77 71.54c-.08 2.18.46 3.79 3.02 3.53l54.52.16c1.88-.31 3.43-1.07 3.56-3.82l1.53-72.41c-.18-3.22-2.16-3.1-4.06-3.13l-56.68.22z",style:{"stroke-linejoin":"round",stroke:"#000","stroke-linecap":"round","stroke-width":"2",fill:"none"},transform:"translate(-383.485 -528.842)"},null,-1),t("path",{d:"M392.76 545.62v12.29l11.91-.49 1.04-11.31-12.95-.49zM410.63 554.23l31.81-.42M409.32 571.7h31.8M409.92 589.7l31.71.3",style:{"stroke-linejoin":"round","fill-opacity":"0.99219",stroke:"#000",fill:"#fff"},transform:"translate(-383.485 -528.842)"},null,-1),t("path",{d:"m396.46 549.43-1.23 1.02 3.54 4.28 10.75-9.48-1.85-1.91-8.67 8.64-2.54-2.55z",style:{"stroke-linejoin":"round","fill-opacity":"0.99219",stroke:"red",fill:"red"},transform:"translate(-383.485 -528.842)"},null,-1),t("path",{d:"M392.89 563.1v12.29l11.92-.49 1.03-11.3-12.95-.5zM393.39 581.54v12.29l11.92-.49 1.04-11.31-12.96-.49z",style:{"stroke-linejoin":"round","fill-opacity":"0.99219",stroke:"#000",fill:"#fff"},transform:"translate(-383.485 -528.842)"},null,-1)]))}const ae=T(Z,[["render",te]]),se={class:"bg-gray-100 py-2 px-4 rounded-md shadow-sm mb-6"},le={class:"text-sm","aria-label":"Miga de pan"},oe={class:"list-none p-0 inline-flex space-x-2"},ne={class:"flex items-center"},re={class:"max-w-2xl mx-auto px-4 py-4"},ie={class:"text-center mb-8 flex flex-row items-center gap-2 justify-center"},ce={class:"flex flex-wrap gap-2 justify-end mb-6"},de={class:"inline-flex items-center cursor-pointer"},ue={class:"bg-white p-6 rounded-lg shadow-md mb-6"},pe={key:0,class:"text-red-500 text-sm mt-2"},me={key:0,class:"bg-white p-6 rounded-lg shadow-md text-center text-gray-500"},fe={class:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between group"},ve={class:"flex items-center flex-grow gap-2"},ge=["onDblclick"],xe={class:"flex gap-1"},he={key:1,class:"mt-6 text-center"},ye={components:{ListTodo:V}},_e=J({...ye,__name:"ToDoList",setup(I){const l=b([]),g=b(""),i=b(""),k=P();O(()=>{const a=localStorage.getItem("todoList");a&&(l.value=JSON.parse(a))});const u=()=>{localStorage.setItem("todoList",JSON.stringify(l.value))};E(l,u,{deep:!0});const w=()=>{const a=g.value.trim();if(!a){i.value="La tarea no puede estar vacÃ­a.";return}if(l.value.some(e=>e.text.toLowerCase()===a.toLowerCase())){i.value="Esta tarea ya existe.";return}l.value.unshift({id:Date.now(),text:a,done:!1}),g.value="",i.value="",u()},C=a=>{l.value[a].editing=!0,H(()=>{})},y=a=>{const e=l.value[a];if(!e.text.trim()){i.value="La tarea no puede estar vacÃ­a.";return}if(l.value.some((d,s)=>s!==a&&d.text.toLowerCase()===e.text.toLowerCase())){i.value="Esta tarea ya existe.";return}e.text=e.text.trim(),e.editing=!1,i.value="",u()},$=a=>{k.require({message:"Â¿Seguro que deseas eliminar esta tarea?",header:"Confirmar eliminaciÃ³n",icon:"pi pi-exclamation-triangle",acceptLabel:"SÃ­, eliminar",rejectLabel:"Cancelar",acceptIcon:"pi pi-trash",rejectIcon:"pi pi-times-circle",acceptClass:"p-button-danger",rejectClass:"p-button-warning",accept:()=>{l.value.splice(a,1),u()}})},D=()=>{k.require({message:"Â¿EstÃ¡s seguro de que quieres limpiar todas las tareas?",header:"Confirmar limpieza",icon:"pi pi-exclamation-triangle",acceptLabel:"SÃ­, limpiar",rejectLabel:"Cancelar",acceptIcon:"pi pi-trash",rejectIcon:"pi pi-times-circle",acceptClass:"p-button-danger",rejectClass:"p-button-warning",accept:()=>{l.value=[],u()}})};function M(a){if(!a||a.removedIndex===null&&a.addedIndex===null)return;const e=[...l.value],[d]=e.splice(a.removedIndex,1);e.splice(a.addedIndex,0,d),l.value=e,u()}const z=()=>{const a=JSON.stringify(l.value,null,2),e=new Blob([a],{type:"application/json"}),d=URL.createObjectURL(e),s=document.createElement("a");s.href=d,s.download="lista-pendientes.json",s.click(),URL.revokeObjectURL(d)},B=a=>{const e=a.target;if(!e.files||!e.files[0])return;const d=e.files[0],s=new FileReader;s.onload=p=>{try{const r=JSON.parse(p.target?.result);if(!Array.isArray(r)||!r.every(_=>typeof _.id=="number"&&typeof _.text=="string"&&typeof _.done=="boolean")){i.value="Archivo JSON invÃ¡lido.";return}l.value=r,u(),i.value=""}catch{i.value="No se pudo leer el archivo JSON."}},s.readAsText(d)};return(a,e)=>{const d=A("router-link");return c(),f("div",null,[t("div",se,[t("nav",le,[t("ol",oe,[t("li",ne,[n(d,{to:"/",class:"text-blue-500 hover:text-blue-700"},{default:v(()=>e[1]||(e[1]=[t("i",{class:"pi pi-home mr-1"},null,-1),U(" Herramientas ")])),_:1,__:[1]})]),e[2]||(e[2]=t("li",null,[t("i",{class:"pi pi-chevron-right text-gray-400"})],-1)),e[3]||(e[3]=t("li",{class:"text-gray-700"},"Lista de pendientes",-1))])])]),t("div",re,[t("div",ie,[n(ae,{class:"w-10 h-10 text-blue-600 mb-2"}),e[4]||(e[4]=t("h1",{class:"text-3xl font-bold text-center text-gray-800 mb-2"}," Lista de Pendientes ",-1))]),t("div",ce,[n(o(m),{onClick:z,icon:"pi pi-download",label:"Descargar JSON",outlined:"",size:"small"}),t("label",de,[n(o(m),{icon:"pi pi-upload",label:"Cargar JSON",outlined:"",size:"small",class:"mr-2"}),t("input",{type:"file",accept:"application/json",onChange:B,class:"hidden"},null,32)])]),n(o(R)),t("div",ue,[n(o(G),null,{default:v(()=>[n(o(N),null,{default:v(()=>[n(o(V),{class:"w-5 h-5 text-gray-400"})]),_:1}),n(o(S),{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=s=>g.value=s),onKeyup:L(w,["enter"]),placeholder:"Nueva tarea...",class:"flex-grow p-3 border-none focus:ring-2 focus:ring-blue-500"},null,8,["modelValue"]),n(o(N),null,{default:v(()=>[n(o(m),{onClick:w,disabled:!g.value.trim(),icon:"pi pi-plus",class:"rounded-md ml-0"},null,8,["disabled"])]),_:1})]),_:1}),i.value?(c(),f("p",pe,j(i.value),1)):x("",!0)]),l.value.length===0?(c(),f("div",me,e[5]||(e[5]=[t("p",null,"Â¡No tienes tareas pendientes! ðŸŽ‰",-1)]))):x("",!0),n(o(W),{tag:"ul",class:"space-y-3","drag-handle-selector":".drag-handle",onDrop:M},{default:v(()=>[(c(!0),f(q,null,K(l.value,(s,p)=>(c(),h(o(X),{key:s.id},{default:v(()=>[t("li",fe,[t("div",ve,[e[6]||(e[6]=t("span",{class:"drag-handle cursor-move text-gray-400 hover:text-blue-500 transition",title:"Arrastrar para reordenar"},[t("i",{class:"pi pi-bars"})],-1)),n(o(Q),{modelValue:s.done,"onUpdate:modelValue":r=>s.done=r,onChange:u,binary:!0,class:"mr-2"},null,8,["modelValue","onUpdate:modelValue"]),s.editing?(c(),h(o(S),{key:1,modelValue:s.text,"onUpdate:modelValue":r=>s.text=r,onKeyup:L(r=>y(p),["enter"]),onBlur:r=>y(p),class:"flex-grow",autofocus:""},null,8,["modelValue","onUpdate:modelValue","onKeyup","onBlur"])):(c(),f("span",{key:0,class:F([{"line-through text-gray-500":s.done,"text-gray-800":!s.done},"text-lg flex-grow cursor-pointer"]),onDblclick:r=>C(p),title:"Doble clic para editar"},j(s.text),43,ge))]),t("div",xe,[s.editing?x("",!0):(c(),h(o(m),{key:0,onClick:r=>C(p),icon:"pi pi-pencil",text:"",class:"text-blue-500",title:"Editar"},null,8,["onClick"])),s.editing?(c(),h(o(m),{key:1,onClick:r=>y(p),icon:"pi pi-check",text:"",class:"text-green-600",title:"Guardar"},null,8,["onClick"])):x("",!0),n(o(m),{onClick:r=>$(p),icon:"pi pi-trash",text:"",severity:"danger",title:"Eliminar"},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1}),l.value.length>0?(c(),f("div",he,[n(o(m),{onClick:D,label:"Limpiar Todo",icon:"pi pi-trash",severity:"danger"})])):x("",!0)])])}}}),Le=T(_e,[["__scopeId","data-v-268c0344"]]);export{Le as default};
