import{o as K,n as z,a as L,w as j,$ as X,a0 as q,a1 as B,r as R,a2 as Q,g as U,a3 as Y,X as V,a4 as S,O as Z}from"./vue-vendor-Dq3_ZAGN.js";function ee(e){return X()?(q(e),!0):!1}const te=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=Object.prototype.toString,re=e=>ne.call(e)==="[object Object]",oe=()=>{};function ie(...e){if(e.length!==1)return B(...e);const n=e[0];return typeof n=="function"?L(Q(()=>({get:n,set:oe}))):R(n)}function ae(e,n){function t(...o){return new Promise((l,f)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(l).catch(f)})}return t}const P=e=>e();function ue(e=P,n={}){const{initialState:t="active"}=n,o=ie(t==="active");function l(){o.value=!1}function f(){o.value=!0}const y=(...i)=>{o.value&&e(...i)};return{isActive:L(o),pause:l,resume:f,eventFilter:y}}function W(e){return Array.isArray(e)?e:[e]}function le(e){return U()}function se(e,n,t={}){const{eventFilter:o=P,...l}=t;return j(e,ae(o,n),l)}function ce(e,n,t={}){const{eventFilter:o,initialState:l="active",...f}=t,{eventFilter:y,pause:i,resume:a,isActive:u}=ue(o,{initialState:l});return{stop:se(e,n,{...f,eventFilter:y}),pause:i,resume:a,isActive:u}}function fe(e,n=!0,t){le()?K(e,t):n?e():z(e)}function de(e,n,t){return j(e,n,{...t,immediate:!0})}const F=te?window:void 0;function pe(e){var n;const t=S(e);return(n=t?.$el)!=null?n:t}function D(...e){const n=[],t=()=>{n.forEach(i=>i()),n.length=0},o=(i,a,u,d)=>(i.addEventListener(a,u,d),()=>i.removeEventListener(a,u,d)),l=V(()=>{const i=W(S(e[0])).filter(a=>a!=null);return i.every(a=>typeof a!="string")?i:void 0}),f=de(()=>{var i,a;return[(a=(i=l.value)==null?void 0:i.map(u=>pe(u)))!=null?a:[F].filter(u=>u!=null),W(S(l.value?e[1]:e[0])),W(Z(l.value?e[2]:e[1])),S(l.value?e[3]:e[2])]},([i,a,u,d])=>{if(t(),!i?.length||!a?.length||!u?.length)return;const v=re(d)?{...d}:d;n.push(...i.flatMap(N=>a.flatMap(h=>u.map(w=>o(N,h,w,v)))))},{flush:"post"}),y=()=>{f(),t()};return ee(t),y}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__vueuse_ssr_handlers__",ye=ve();function ve(){return A in E||(E[A]=E[A]||{}),E[A]}function me(e,n){return ye[e]||n}function ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Se={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function he(e,n,t,o={}){var l;const{flush:f="pre",deep:y=!0,listenToStorageChanges:i=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:d,window:v=F,eventFilter:N,onError:h=r=>{console.error(r)},initOnMounted:w}=o,m=(d?Y:R)(typeof n=="function"?n():n),p=V(()=>S(e));if(!t)try{t=me("getDefaultStorage",()=>{var r;return(r=F)==null?void 0:r.localStorage})()}catch(r){h(r)}if(!t)return m;const g=S(n),M=ge(g),b=(l=o.serializer)!=null?l:Se[M],{pause:_,resume:T}=ce(m,()=>G(m.value),{flush:f,deep:y,eventFilter:N});j(p,()=>O(),{flush:f});let C=!1;const $=r=>{w&&!C||O(r)},x=r=>{w&&!C||I(r)};v&&i&&(t instanceof Storage?D(v,"storage",$,{passive:!0}):D(v,J,x)),w?fe(()=>{C=!0,O()}):O();function k(r,s){if(v){const c={key:p.value,oldValue:r,newValue:s,storageArea:t};v.dispatchEvent(t instanceof Storage?new StorageEvent("storage",c):new CustomEvent(J,{detail:c}))}}function G(r){try{const s=t.getItem(p.value);if(r==null)k(s,null),t.removeItem(p.value);else{const c=b.write(r);s!==c&&(t.setItem(p.value,c),k(s,c))}}catch(s){h(s)}}function H(r){const s=r?r.newValue:t.getItem(p.value);if(s==null)return a&&g!=null&&t.setItem(p.value,b.write(g)),g;if(!r&&u){const c=b.read(s);return typeof u=="function"?u(c,g):M==="object"&&!Array.isArray(c)?{...g,...c}:c}else return typeof s!="string"?s:b.read(s)}function O(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){m.value=g;return}if(!(r&&r.key!==p.value)){_();try{r?.newValue!==b.write(m.value)&&(m.value=H(r))}catch(s){h(s)}finally{r?z(T):T()}}}}function I(r){O(r.detail)}return m}function be(e,n,t={}){const{window:o=F}=t;return he(e,n,o?.localStorage,t)}export{be as u};
